import{m as V}from"./axios-379d51f3.js";import{_ as Y,o as p,i as h,w as t,a as e,V as m,e as F,O as k,j as f,f as u,c as b,G as J,t as y,b as n,h as c,H as R,F as ee,N as te,d as N,a4 as z,I as oe,J as ne,r as W}from"./main-fb55873b.js";import{V as I}from"./VRow-4b825e9e.js";import{V as $}from"./VSpacer-b081e200.js";import{V as le,a as se,b as me,c as he,d as ce,e as Q,f as fe,g as G}from"./VStepper-64254748.js";import{V as v,c as q,b as U,e as ge}from"./VCard-36ed899b.js";import{a as B,c as C,e as X,b as A,d as Z,V as _e}from"./VMenu-234a1d5c.js";import{V as S}from"./VTooltip-51b9aa47.js";import{V as O}from"./VForm-40db3f8d.js";import{V as x}from"./VTextField-2f4246b4.js";import{b as H,c as M}from"./VWindowItem-9debceb3.js";import{V as E}from"./VFileInput-c044d611.js";import{V as T}from"./VSelect-5a725ba3.js";import{V as K}from"./VDialog-76657430.js";import{V as L,a as ye}from"./VChip-41aa7e64.js";import"./VAvatar-21d2dc50.js";import"./VImg-241f5ca8.js";import"./VInput-87c8c540.js";import"./index-90ca1e08.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-aac6746b.js";const ke={name:"AttachmentCard1",props:{data:{type:Object,required:!0},fileId:{type:Number,required:!0},filePath:{type:String,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},openModal:{type:Function,required:!0},phase:{type:Number,required:!0}}},ve=n("span",{class:"text-h6 font-weight-medium"},"Phase 1 (Pooling) 📄",-1),be={class:"operation-wrapper"},Ae={class:"d-flex justify-space-between"},Se=["href"],Fe=["onClick"],Pe=["onClick"],xe={class:"operation-wrapper"},De={class:"d-flex justify-space-between"},Ie=["href"],we=["onClick"],Ve=["onClick"];function Te(s,l,i,g,a,d){return p(),h(v,{color:"warning"},{default:t(()=>[e(q,{class:"py-2"},{default:t(()=>[e(I,{align:"center","no-gutters":""},{default:t(()=>[e(m,{cols:"auto"},{default:t(()=>[ve]),_:1}),e($),e(m,{cols:"auto"},{default:t(()=>[e(le,{"max-width":"400"},{activator:t(({props:o})=>[e(F,k({icon:""},o,{color:"on-primary",variant:"text"}),{default:t(()=>[e(f,{color:"on-primary"},{default:t(()=>[u("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(v,null,{default:t(()=>[e(q,{class:"text-h6 py-2 px-4"},{default:t(()=>[u(" Penjelasan Phase 1: Pooling ")]),_:1}),e(U,{class:"py-2 px-4"},{default:t(()=>[u(" Tahap ini meliputi pengumpulan dan verifikasi berkas kredit nasabah. Proses ini dilaksanakan setelah Account Officer (AO) melakukan survei lapangan. Dokumentasi yang terkumpul akan digunakan untuk analisis SLIK (Sistem Layanan Informasi Keuangan) guna menilai kelayakan kredit. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),b(R,null,J(i.data,(o,w)=>(p(),b("div",{key:w},[o.path!=null&&!parseInt(o.isSecret)?(p(),h(B,{key:0,density:"compact"},{default:t(()=>[e(A,null,{prepend:t(()=>[u(y(parseInt(o.isApprove)?"✅":"❌")+" ",1),e(f,{icon:"mdi-file"})]),append:t(()=>[n("div",be,[n("div",Ae,[o.path!="null"?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:r})=>[n("a",k(r,{href:i.filePath+"/"+i.fileId+"/"+o.path,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Se)]),_:2},1024)):c("",!0),e(S,{location:"top",text:"Edit File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>i.openModal(2,o)}),[e(f,{size:"20",icon:"bx-edit",color:"blue"})],16,Fe)]),_:2},1024),e(S,{location:"top",text:"Hapus File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>i.deleteAttachment(o.id)}),[e(f,{size:"20",icon:"bx-trash",color:"red"})],16,Pe)]),_:2},1024)])])]),default:t(()=>[e(C,null,{default:t(()=>[u(y(o.name),1)]),_:2},1024),o.note!=null?(p(),h(X,{key:0},{default:t(()=>[u(y(o.note),1)]),_:2},1024)):c("",!0)]),_:2},1024)]),_:2},1024)):(p(),h(B,{key:1,density:"compact"},{default:t(()=>[e(A,null,{prepend:t(()=>[u(y(parseInt(o.isApprove)?"✅":"❌")+" ",1),e(f,{icon:"mdi-file"})]),append:t(()=>[n("div",xe,[n("div",De,[i.userAccess&&parseInt(i.userAccess.isSecret)&&o.path!="null"?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:r})=>[n("a",k(r,{href:i.filePath+"/"+s.dataFile.id+"/"+o.path,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Ie)]),_:2},1024)):c("",!0),e(S,{location:"top",text:"Edit File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>i.openModal(2,o)}),[e(f,{size:"20",icon:"bx-edit",color:"blue"})],16,we)]),_:2},1024),e(S,{location:"top",text:"Hapus File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>i.deleteAttachment(o.id)}),[e(f,{size:"20",icon:"bx-trash",color:"red"})],16,Ve)]),_:2},1024)])])]),default:t(()=>[e(C,null,{default:t(()=>[u(y(o.name),1)]),_:2},1024),o.note!=null?(p(),h(X,{key:0},{default:t(()=>[u(y(o.note),1)]),_:2},1024)):c("",!0)]),_:2},1024)]),_:2},1024))]))),128))]),_:1})}const Ce=Y(ke,[["render",Te]]),Ue={props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},phase:{type:Number,required:!0}},watch:{selectedOption(s){s==="file"?this.formDetailSlik.link=null:s==="link"&&(this.formDetailSlik.path=null)}},data(){return{overlay:!1,selectedOption:"",uploadProgress:null,rules:{required:s=>!!s||"Required"},isFormDetailSlik:!1,formDetailSlik:{id:null,name:null,note:null,path:null,link:null,file_id:this.fileId,isApprove:0,isSecret:0},isFormResumeSlik:!1,formResumeSlik:{id:null,name:null,path:null,note:null,link:null,file_id:this.fileId,isApprove:0,isSecret:0},isAppeal:!1,formAppeal:{id:null,file_id:this.fileId,phase:2,name:"File Banding",path:null,note:null,link:null,isApprove:0,isSecret:0},isAnalytic:!1,formAnalytic:{id:null,file_id:this.fileId,link:null,note:null,phase:2,name:"Analisa Awal Kredit AO",path:null,isApprove:0,isSecret:0}}},methods:{shouldDisplay(s){return!(s.name==="Analisa Awal Kredit AO"||s.name==="File Banding")},showAnalisaAwalCredit(){if(this.data.filter(l=>l.name.includes("SLIK")&&l.isApprove==1&&(l.path!="null"||l.link!=null)).length>0){let l=this.data.find(i=>i.name=="Analisa Awal Kredit AO");return l&&(this.formAnalytic.id=l.id,this.formAnalytic.isApprove=parseInt(l.isApprove),this.formAnalytic.isSecret=parseInt(l.isSecret),this.formAnalytic.path=l.path,this.formAnalytic.link=l.link),!0}return!1},showFileBanding(){const s=this.data.filter(i=>i.name.includes("SLIK")&&i.isApprove==0&&(i.path!=="null"||i.link!==null)),l=this.data.filter(i=>i.name=="File Banding"&&(i.path!=="null"||i.link!==null));if(s.length>0||l.length>0){let i=this.data.find(g=>g.name==="File Banding");return i&&(this.formAppeal.id=i.id,this.formAppeal.isApprove=parseInt(i.isApprove),this.formAppeal.isSecret=parseInt(i.isSecret),this.formAppeal.path=i.path),!0}return!1},handleFileChange(s){const l=s.target.files[0];l&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(l.type)?this.formDetailSlik.path=l:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},handleAnalyticChange(s){const l=s.target.files[0];l&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(l.type)?this.formAnalytic.path=l:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},handleAppealChange(s){const l=s.target.files[0];l&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(l.type)?this.formAppeal.path=l:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},openModal(s,l=null){s==1?l.name=="Detail SLIK"?(this.formDetailSlik.id=l.id,this.formDetailSlik.name=l.name,this.formDetailSlik.note=l.note,this.formDetailSlik.isSecret=parseInt(l.isSecret),this.formDetailSlik.isApprove=parseInt(l.isApprove),this.isFormDetailSlik=!0):l.name=="Resume SLIK"?(this.formDetailSlik.id=l.id,this.formDetailSlik.name=l.name,this.formDetailSlik.note=l.note,this.formDetailSlik.isSecret=parseInt(l.isSecret),this.formDetailSlik.isApprove=parseInt(l.isApprove),this.isFormResumeSlik=!0):(this.formDetailSlik.id=l.id,this.formDetailSlik.name=l.name,this.formDetailSlik.note=l.note,this.formDetailSlik.isSecret=parseInt(l.isSecret),this.formDetailSlik.isApprove=parseInt(l.isApprove),this.isFormResumeSlik=!0):s==2?this.isAnalytic=!0:s==3&&(this.isAppeal=!0)},closeModal(s){s==1?(this.formDetailSlik.id=null,this.formDetailSlik.name=null,this.formDetailSlik.path=null,this.formDetailSlik.link=null,this.formDetailSlik.isSecret=0,this.formDetailSlik.isApprove=0,this.selectedOption="",this.isFormDetailSlik=!1,this.uploadProgress=null):s==2?(this.formDetailSlik.id=null,this.formDetailSlik.name=null,this.formDetailSlik.path=null,this.formDetailSlik.link=null,this.formDetailSlik.isSecret=0,this.formDetailSlik.isApprove=0,this.selectedOption="",this.isFormResumeSlik=!1,this.uploadProgress=null):s==3?(this.formAnalytic.id=null,this.formAnalytic.isSecret=0,this.formAnalytic.isApprove=0,this.formAnalytic.path=null,this.formAnalytic.link=null,this.selectedOption="",this.isAnalytic=!1,this.uploadProgress=null):s==4&&(this.uploadProgress=null,this.formAppeal.id=null,this.formAppeal.isSecret=0,this.formAppeal.isApprove=0,this.formAppeal.link=null,this.selectedOption="",this.formAppeal.path=null,this.isAppeal=!1)},async insertSlik(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formDetailSlik.name),this.formDetailSlik.note!=null&&s.append("note",this.formDetailSlik.note),this.formDetailSlik.path!=null?s.append("path",this.formDetailSlik.path):this.formDetailSlik.link!=null&&s.append("link",this.formDetailSlik.link),s.append("isSecret",this.formDetailSlik.isSecret),s.append("isApprove",this.formDetailSlik.isApprove),s.append("file_id",this.formDetailSlik.file_id),s.append("_method","PUT");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post(`/edit-attach/${this.formDetailSlik.id}`,s,l);i.status===200?(this.overlay=!1,this.closeModal(1),this.closeModal(2),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.closeModal(2),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.closeModal(1),this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertAnalytic(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAnalytic.name),s.append("note",this.formAnalytic.note),this.formAnalytic.path!="null"?s.append("path",this.formAnalytic.path):this.formAnalytic.link!=null&&s.append("link",this.formAnalytic.link),s.append("phase",this.formAnalytic.phase),s.append("isSecret",this.formAnalytic.isSecret),s.append("file_id",this.formAnalytic.file_id),s.append("isApprove",this.formAnalytic.isApprove),s.append("_method","PUT");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post(`/edit-attach/${this.formAnalytic.id}`,s,l);i.status===200?(this.overlay=!1,this.closeModal(3),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(3),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(3),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertAppeal(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAppeal.name),s.append("note",this.formAppeal.note),this.formAppeal.path!=null?s.append("path",this.formAppeal.path):this.formAppeal.link!=null&&s.append("link",this.formAppeal.link),s.append("phase",this.formAppeal.phase),s.append("isSecret",this.formAppeal.isSecret),s.append("file_id",this.formAppeal.file_id),s.append("isApprove",this.formAppeal.isApprove),s.append("_method","PUT");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post(`/edit-attach/${this.formAppeal.id}`,s,l);i.status===200?(this.overlay=!1,this.closeModal(4),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(4),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.closeModal(4),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}}},Ke=n("span",{class:"text-h6 font-weight-medium"},"Phase 2 (SLIK) 📄",-1),je={class:"operation-wrapper"},Me={class:"d-flex justify-space-between"},Ne=["href"],Oe=["href"],qe=["onClick"],Le=["onClick"],Re=["onClick"],ze={key:0},Ee={class:"operation-wrapper"},Be={class:"d-flex justify-space-between"},Ge=["href"],He=["href"],Je={key:1},We={class:"operation-wrapper"},Xe={class:"d-flex justify-space-between"},Ye=["href"],Qe=["href"],Ze=n("span",{style:{color:"red"}},"*",-1),$e=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),et=n("span",{class:"subtitle-1 text-center"},"Note: ",-1),tt=n("span",{style:{color:"red"}},"*",-1),lt=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),at=n("span",{style:{color:"red"}},"*",-1),st=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),it=n("span",{style:{color:"red"}},"*",-1),ot=n("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1),nt=n("span",{style:{color:"red"}},"*",-1),rt=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),dt=n("span",{style:{color:"red"}},"*",-1),ut=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),pt=n("span",{style:{color:"red"}},"*",-1),mt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),ht=n("span",{style:{color:"red"}},"*",-1),ct=n("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1),ft=n("span",{style:{color:"red"}},"*",-1),gt=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),_t=n("span",{style:{color:"red"}},"*",-1),yt=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),kt=n("span",{style:{color:"red"}},"*",-1),vt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),bt=n("span",{style:{color:"red"}},"*",-1),At=n("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1),St=n("span",{style:{color:"red"}},"*",-1),Ft=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),Pt=n("span",{style:{color:"red"}},"*",-1),xt=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),Dt=n("span",{style:{color:"red"}},"*",-1),It=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),wt=n("span",{style:{color:"red"}},"*",-1),Vt=n("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1);function Tt(s,l,i,g,a,d){return p(),b(R,null,[e(te,{"model-value":a.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),u(" Loading... ")]),_:1},8,["model-value"]),e(v,{color:"warning"},{default:t(()=>[e(q,{class:"py-2"},{default:t(()=>[e(I,{align:"center","no-gutters":""},{default:t(()=>[e(m,{cols:"auto"},{default:t(()=>[Ke]),_:1}),e($),e(m,{cols:"auto"},{default:t(()=>[e(le,{"max-width":"400"},{activator:t(({props:o})=>[e(F,k({icon:""},o,{color:"on-primary",variant:"text"}),{default:t(()=>[e(f,{color:"on-primary"},{default:t(()=>[u("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(v,null,{default:t(()=>[e(q,{class:"text-h6 py-2 px-4"},{default:t(()=>[u(" Penjelasan Phase SLIK ")]),_:1}),e(U,{class:"py-2 px-4"},{default:t(()=>[u(" Tahap ini melibatkan proses pengecekan riwayat kredit nasabah melalui Sistem Layanan Informasi Keuangan (SLIK). SLIK merupakan sistem yang dikelola oleh Otoritas Jasa Keuangan (OJK) untuk menyediakan informasi pinjaman debitur. Hasil analisis SLIK digunakan untuk menilai kelayakan kredit dan risiko nasabah berdasarkan catatan keuangan sebelumnya. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),b(R,null,J(i.data,(o,w)=>(p(),b("div",{key:w},[e(B,{density:"compact"},{default:t(()=>[d.shouldDisplay(o)?(p(),h(A,{key:0},{prepend:t(()=>[u(y(parseInt(o.isApprove)?"✅":"❌")+" ",1),e(f,{icon:"mdi-file"})]),append:t(()=>[n("div",je,[n("div",Me,[o.path!=="null"||o.link!==null?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:r})=>[o.path!=="null"?(p(),b("a",k({key:0},r,{href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Ne)):c("",!0),o.link!==null?(p(),b("a",k({key:1},r,{href:`${o.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Oe)):c("",!0)]),_:2},1024)):c("",!0),o.path==="null"&&o.link===null?(p(),h(S,{key:1,location:"top",text:"Upload File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.openModal(1,o)}),[e(f,{size:"20",icon:"bx-upload",color:"blue"})],16,qe)]),_:2},1024)):c("",!0),e(S,{location:"top",text:"Edit File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.openModal(1,o)}),[e(f,{size:"20",icon:"bx-edit",color:"blue"})],16,Le)]),_:2},1024),e(S,{location:"top",text:"Hapus File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>i.deleteAttachment(o.id)}),[e(f,{size:"20",icon:"bx-trash",color:"red"})],16,Re)]),_:2},1024)])])]),default:t(()=>[e(C,null,{default:t(()=>[u(y(o.name),1)]),_:2},1024),o.note!="null"?(p(),h(X,{key:0},{default:t(()=>[u(y(o.note),1)]),_:2},1024)):c("",!0)]),_:2},1024)):c("",!0)]),_:2},1024)]))),128)),d.showAnalisaAwalCredit()?(p(),b("div",ze,[e(B,{density:"compact"},{default:t(()=>[e(A,null,{prepend:t(()=>[u(y(parseInt(a.formAnalytic.isApprove)?"✅":"❌")+" ",1),e(f,{icon:"mdi-file"})]),append:t(()=>[n("div",Ee,[n("div",Be,[a.formAnalytic.path!=="null"||a.formAnalytic.link!==null?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:o})=>[a.formAnalytic.path!=="null"?(p(),b("a",k({key:0},o,{href:`${i.filePath}/${i.fileId}/${a.formAnalytic.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Ge)):c("",!0),a.formAnalytic.link!==null?(p(),b("a",k({key:1},o,{href:`${a.formAnalytic.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,He)):c("",!0)]),_:1})):c("",!0),e(S,{location:"top",text:"Upload File / Link"},{activator:t(({props:o})=>[n("button",k(o,{onClick:l[0]||(l[0]=w=>d.openModal(2,a.formAnalytic))}),[e(f,{size:"20",icon:"bx-upload",color:"blue"})],16)]),_:1}),e(S,{location:"top",text:"Edit File"},{activator:t(({props:o})=>[n("button",k(o,{onClick:l[1]||(l[1]=w=>d.openModal(2,a.formAnalytic))}),[e(f,{size:"20",icon:"bx-edit",color:"blue"})],16)]),_:1}),i.userAccess&&parseInt(i.userAccess.canInsertData)==1&&i.phase<3?(p(),h(S,{key:1,location:"top",text:"Hapus File"},{activator:t(({props:o})=>[n("button",k(o,{onClick:l[2]||(l[2]=w=>i.deleteAttachment(a.formAnalytic.id))}),[e(f,{size:"20",icon:"bx-trash",color:"red"})],16)]),_:1})):c("",!0)])])]),default:t(()=>[e(C,null,{default:t(()=>[u(y(a.formAnalytic.name),1)]),_:1}),a.formAnalytic.note!=null?(p(),h(X,{key:0},{default:t(()=>[u(y(a.formAnalytic.note),1)]),_:1})):c("",!0)]),_:1})]),_:1})])):c("",!0),d.showFileBanding()?(p(),b("div",Je,[e(B,{density:"compact"},{default:t(()=>[e(A,null,{prepend:t(()=>[u(y(parseInt(a.formAppeal.isApprove)?"✅":"❌")+" ",1),e(f,{icon:"mdi-file"})]),append:t(()=>[n("div",We,[n("div",Xe,[a.formAppeal.path!=="null"||a.formAppeal.link!==null?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:o})=>[a.formAppeal.path!=="null"?(p(),b("a",k({key:0},o,{href:`${i.filePath}/${i.fileId}/${a.formAppeal.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Ye)):c("",!0),a.formAppeal.link!==null?(p(),b("a",k({key:1},o,{href:`${a.formAppeal.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Qe)):c("",!0)]),_:1})):c("",!0),e(S,{location:"top",text:"Upload File / Link"},{activator:t(({props:o})=>[n("button",k(o,{onClick:l[3]||(l[3]=w=>d.openModal(3,a.formAppeal))}),[e(f,{size:"20",icon:"bx-upload",color:"blue"})],16)]),_:1}),e(S,{location:"top",text:"Edit File"},{activator:t(({props:o})=>[n("button",k(o,{onClick:l[4]||(l[4]=w=>d.openModal(3,a.formAppeal))}),[e(f,{size:"20",icon:"bx-edit",color:"blue"})],16)]),_:1}),e(S,{location:"top",text:"Hapus File"},{activator:t(({props:o})=>[n("button",k(o,{onClick:l[5]||(l[5]=w=>i.deleteAttachment(a.formAppeal.id))}),[e(f,{size:"20",icon:"bx-trash",color:"red"})],16)]),_:1})])])]),default:t(()=>[e(C,null,{default:t(()=>[u(y(a.formAppeal.name),1)]),_:1})]),_:1})]),_:1})])):c("",!0)]),_:1}),e(K,{modelValue:a.isFormDetailSlik,"onUpdate:modelValue":l[15]||(l[15]=o=>a.isFormDetailSlik=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Attachment ")]),text:t(()=>[e(O,{onSubmit:N(d.insertSlik,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[Ze,$e,e(x,{class:"my-3",modelValue:a.formDetailSlik.name,"onUpdate:modelValue":l[6]||(l[6]=o=>a.formDetailSlik.name=o),autofocus:"",disabled:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[et,e(x,{class:"my-3",modelValue:a.formDetailSlik.note,"onUpdate:modelValue":l[7]||(l[7]=o=>a.formDetailSlik.note=o),rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[tt,lt,e(H,{modelValue:a.selectedOption,"onUpdate:modelValue":l[8]||(l[8]=o=>a.selectedOption=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"File",value:"file"}),e(M,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),a.selectedOption==="file"?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[at,st,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[9]||(l[9]=o=>{d.handleFileChange(o),a.formDetailSlik.link=null})},null,8,["rules"])]),_:1})):c("",!0),a.selectedOption==="link"?(p(),h(m,{key:1,md:"12",cols:"12"},{default:t(()=>[it,ot,e(x,{class:"my-3",modelValue:a.formDetailSlik.link,"onUpdate:modelValue":l[10]||(l[10]=o=>a.formDetailSlik.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:a.formDetailSlik.isSecret,"onUpdate:modelValue":l[11]||(l[11]=o=>a.formDetailSlik.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.formDetailSlik.isApprove,"onUpdate:modelValue":l[12]||(l[12]=o=>a.formDetailSlik.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[13]||(l[13]=o=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[14]||(l[14]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isFormResumeSlik,"onUpdate:modelValue":l[24]||(l[24]=o=>a.isFormResumeSlik=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Attachment ")]),text:t(()=>[e(O,{onSubmit:N(d.insertSlik,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[nt,rt,e(x,{class:"my-3",modelValue:a.formDetailSlik.name,"onUpdate:modelValue":l[16]||(l[16]=o=>a.formDetailSlik.name=o),autofocus:"",disabled:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[dt,ut,e(H,{modelValue:a.selectedOption,"onUpdate:modelValue":l[17]||(l[17]=o=>a.selectedOption=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"File",value:"file"}),e(M,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),a.selectedOption==="file"?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[pt,mt,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[18]||(l[18]=o=>{d.handleFileChange(o),a.formDetailSlik.link=null})},null,8,["rules"])]),_:1})):c("",!0),a.selectedOption==="link"?(p(),h(m,{key:1,md:"12",cols:"12"},{default:t(()=>[ht,ct,e(x,{class:"my-3",modelValue:a.formDetailSlik.link,"onUpdate:modelValue":l[19]||(l[19]=o=>a.formDetailSlik.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:a.formDetailSlik.isSecret,"onUpdate:modelValue":l[20]||(l[20]=o=>a.formDetailSlik.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.formDetailSlik.isApprove,"onUpdate:modelValue":l[21]||(l[21]=o=>a.formDetailSlik.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[22]||(l[22]=o=>d.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[23]||(l[23]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isAnalytic,"onUpdate:modelValue":l[32]||(l[32]=o=>a.isAnalytic=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Analisis AO ")]),text:t(()=>[e(O,{onSubmit:N(d.insertAnalytic,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[ft,gt,e(x,{class:"my-3",modelValue:a.formAnalytic.name,"onUpdate:modelValue":l[25]||(l[25]=o=>a.formAnalytic.name=o),autofocus:"",disabled:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[_t,yt,e(H,{modelValue:a.selectedOption,"onUpdate:modelValue":l[26]||(l[26]=o=>a.selectedOption=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"File",value:"file"}),e(M,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),a.selectedOption==="file"?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[kt,vt,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[27]||(l[27]=o=>{d.handleAnalyticChange(o),a.formAnalytic.link=null})},null,8,["rules"])]),_:1})):c("",!0),a.selectedOption==="link"?(p(),h(m,{key:1,md:"12",cols:"12"},{default:t(()=>[bt,At,e(x,{class:"my-3",modelValue:a.formAnalytic.link,"onUpdate:modelValue":l[28]||(l[28]=o=>a.formAnalytic.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.formAnalytic.isApprove,"onUpdate:modelValue":l[29]||(l[29]=o=>a.formAnalytic.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[30]||(l[30]=o=>d.closeModal(3))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[31]||(l[31]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isAppeal,"onUpdate:modelValue":l[40]||(l[40]=o=>a.isAppeal=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Banding AO ")]),text:t(()=>[e(O,{onSubmit:N(d.insertAppeal,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[St,Ft,e(x,{class:"my-3",modelValue:a.formAppeal.name,"onUpdate:modelValue":l[33]||(l[33]=o=>a.formAppeal.name=o),autofocus:"",disabled:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Pt,xt,e(H,{modelValue:a.selectedOption,"onUpdate:modelValue":l[34]||(l[34]=o=>a.selectedOption=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"File",value:"file"}),e(M,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),a.selectedOption==="file"?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[Dt,It,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[35]||(l[35]=o=>{d.handleAppealChange(o),a.formAppeal.link=null})},null,8,["rules"])]),_:1})):c("",!0),a.selectedOption==="link"?(p(),h(m,{key:1,md:"12",cols:"12"},{default:t(()=>[wt,Vt,e(x,{class:"my-3",modelValue:a.formDetailSlik.link,"onUpdate:modelValue":l[36]||(l[36]=o=>a.formDetailSlik.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.formAppeal.isApprove,"onUpdate:modelValue":l[37]||(l[37]=o=>a.formAppeal.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[38]||(l[38]=o=>d.closeModal(4))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[39]||(l[39]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const Ct=Y(Ue,[["render",Tt]]);const Ut={name:"AttachmentCard3",props:{submission:{type:Object,required:!0},data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},phase:{type:Number,required:!0}},computed:{sortedSubmission(){return this.submission.slice().sort((s,l)=>s.type===2&&l.type!==2?-1:s.type!==2&&l.type===2?1:0)}},watch:{selectedOption(s){s==="file"?this.formAnalisaKredit.link=null:s==="link"&&(this.formAnalisaKredit.path=null)}},data(){return{selectedOption:"",overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isAnalisaKredit:!1,formAnalisaKredit:{id:null,name:"Analisa Kredit",file_id:this.fileId,path:"null",link:null,isApprove:0,isSecret:0},isSubmission:!1,isUpdateSubmission:!1,formSubmission:{id:null,file_id:null,phase:null,name:null,path:null,link:null,note:null,type:null}}},methods:{openModal(s,l=null){s==1?(this.formAnalisaKredit.id=l.id,this.formAnalisaKredit.name=l.name,this.formAnalisaKredit.link=l.link,this.formAnalisaKredit.path=l.path,this.formAnalisaKredit.isSecret=parseInt(l.isSecret),this.formAnalisaKredit.isApprove=parseInt(l.isApprove),this.isAnalisaKredit=!0):s==2?(this.formSubmission.file_id=this.fileId,this.formSubmission.phase=3,this.isSubmission=!0):s==3&&(this.formSubmission.id=l.id,this.formSubmission.file_id=this.fileId,this.formSubmission.phase=3,this.formSubmission.name=l.name,this.formSubmission.type=l.type,this.isUpdateSubmission=!0)},closeModal(s){s==1?(this.formAnalisaKredit.id=null,this.formAnalisaKredit.isSecret=0,this.formAnalisaKredit.isApprove=0,this.isAnalisaKredit=!1):s==2?(this.formSubmission.id=null,this.formSubmission.file_id=null,this.formSubmission.phase=null,this.formSubmission.name=null,this.formSubmission.path=null,this.formSubmission.link=null,this.formSubmission.note=null,this.formSubmission.type=null,this.selectedOption="",this.isSubmission=!1):s==3&&(this.formSubmission.id=null,this.formSubmission.file_id=null,this.formSubmission.phase=null,this.formSubmission.name=null,this.formSubmission.path=null,this.formSubmission.link=null,this.formSubmission.note=null,this.formSubmission.type=null,this.selectedOption="",this.isUpdateSubmission=!1)},handleFileChange(s,l,i){const g=s.target.files[0];g&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(g.type)?l[i]=g:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},async insertAnalisa(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAnalisaKredit.name),s.append("isSecret",this.formAnalisaKredit.isSecret),s.append("isApprove",this.formAnalisaKredit.isApprove),s.append("file_id",this.formAnalisaKredit.file_id),this.formAnalisaKredit.path!="null"&&this.formAnalisaKredit.path!=null?s.append("path",this.formAnalisaKredit.path):this.formAnalisaKredit.link!=null&&s.append("link",this.formAnalisaKredit.link),s.append("_method","PUT");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post(`/edit-attach/${this.formAnalisaKredit.id}`,s,l);i.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertSubmission(){try{if(this.overlay=!0,this.formSubmission.link==null&&this.formSubmission.path==null){this.isSubmission=!1,this.$showToast("error","Error","File / Link harus diisi"),this.overlay=!1;return}const s=new FormData;s.append("file_id",this.formSubmission.file_id),s.append("name",this.formSubmission.name),s.append("type",this.formSubmission.type),s.append("phase",this.formSubmission.phase),this.formSubmission.path!=null&&this.formSubmission.path!=null?s.append("path",this.formSubmission.path):this.formSubmission.link!=null&&s.append("link",this.formSubmission.link),s.append("_method","POST");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post("/file-submission",s,l);i.status===200?(this.overlay=!1,this.closeModal(2),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(2),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.uploadProgress=null,this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteSubmission(s){try{if(!window.confirm("Apakah Anda yakin ingin menghapus data? Data akan terhapus secara permanen."))return;this.overlay=!0;const i=await V.delete(`/file-submission/${s}`);i.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",i.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry","Terjadi Kesalahan Silahkan Coba Lagi"))}catch(l){this.overlay=!1,this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",l.response.data.message)}},async updateSubmission(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.formSubmission.file_id),s.append("name",this.formSubmission.name),s.append("type",this.formSubmission.type),s.append("phase",this.formSubmission.phase),this.formSubmission.path!=null&&this.formSubmission.path!=null?s.append("path",this.formSubmission.path):this.formSubmission.link!=null&&s.append("link",this.formSubmission.link),s.append("_method","PUT");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post(`/file-submission/${this.formSubmission.id}`,s,l);i.status===200?(this.overlay=!1,this.closeModal(3),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(3),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.uploadProgress=null,this.closeModal(3),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}}},D=s=>(oe("data-v-19279774"),s=s(),ne(),s),Kt=D(()=>n("span",{class:"text-h6 font-weight-medium"},"Phase 3 (Analisa Kredit) 📄",-1)),jt={class:"operation-wrapper"},Mt={class:"d-flex justify-space-between"},Nt=["href"],Ot=["href"],qt=["onClick"],Lt=["onClick"],Rt=["onClick"],zt=D(()=>n("span",{class:"text-subtitle-1 font-weight-bold ml-2"},"Dokumen Penunjang Kredit / Jaminan 📄",-1)),Et={key:0},Bt={class:"text-subtitle-2 font-weight-medium"},Gt={key:0,class:"text-caption text-grey-darken-1"},Ht={key:1,class:"text-caption text-grey-darken-1"},Jt={class:"d-flex"},Wt=D(()=>n("span",{style:{color:"red"}},"*",-1)),Xt=D(()=>n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),Yt=D(()=>n("span",{style:{color:"red"}},"*",-1)),Qt=D(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),Zt=D(()=>n("span",{style:{color:"red"}},"*",-1)),$t=D(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),el=D(()=>n("span",{style:{color:"red"}},"*",-1)),tl=D(()=>n("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),ll=D(()=>n("span",{style:{color:"red"}},"*",-1)),al=D(()=>n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),sl=D(()=>n("span",{style:{color:"red"}},"*",-1)),il=D(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),ol=D(()=>n("span",{style:{color:"red"}},"*",-1)),nl=D(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),rl=D(()=>n("span",{style:{color:"red"}},"*",-1)),dl=D(()=>n("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),ul=D(()=>n("span",{style:{color:"red"}},"*",-1)),pl=D(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Jenis Dokumen : ",-1)),ml=D(()=>n("span",{style:{color:"red"}},"*",-1)),hl=D(()=>n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),cl=D(()=>n("span",{style:{color:"red"}},"*",-1)),fl=D(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),gl=D(()=>n("span",{style:{color:"red"}},"*",-1)),_l=D(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),yl=D(()=>n("span",{style:{color:"red"}},"*",-1)),kl=D(()=>n("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),vl=D(()=>n("span",{style:{color:"red"}},"*",-1)),bl=D(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Jenis Dokumen : ",-1));function Al(s,l,i,g,a,d){return p(),b(R,null,[e(te,{"model-value":a.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),u(" Loading... ")]),_:1},8,["model-value"]),e(v,{color:"warning"},{default:t(()=>[e(q,{class:"py-2"},{default:t(()=>[e(I,{align:"center","no-gutters":""},{default:t(()=>[e(m,{cols:"auto"},{default:t(()=>[Kt]),_:1}),e($),e(m,{cols:"auto"},{default:t(()=>[e(le,{"max-width":"400"},{activator:t(({props:o})=>[e(F,k({icon:""},o,{color:"on-primary",variant:"text"}),{default:t(()=>[e(f,{color:"on-primary"},{default:t(()=>[u("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(v,null,{default:t(()=>[e(q,{class:"text-h6 py-2 px-4"},{default:t(()=>[u(" Penjelasan Phase Analisa Kredit ")]),_:1}),e(U,{class:"py-2 px-4"},{default:t(()=>[u(" Tahap ini merupakan proses evaluasi mendalam terhadap kelayakan nasabah untuk menerima kredit. Analisa kredit mencakup penilaian aspek 5C: Character (karakter), Capacity (kapasitas), Capital (modal), Collateral (jaminan), dan Condition (kondisi). Tim analis kredit akan mengevaluasi data finansial, riwayat kredit, dan informasi lainnya untuk menentukan tingkat risiko dan kemampuan nasabah dalam memenuhi kewajiban kreditnya. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),b(R,null,J(i.data,(o,w)=>(p(),b("div",{key:w},[e(B,{density:"compact"},{default:t(()=>[e(A,null,{prepend:t(()=>[u(y(parseInt(o.isApprove)?"✅":"❌")+" ",1),e(f,{icon:"mdi-file"})]),append:t(()=>[n("div",jt,[n("div",Mt,[o.path!=="null"||o.link!==null?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:r})=>[o.path!=="null"?(p(),b("a",k({key:0},r,{href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Nt)):c("",!0),o.link!==null?(p(),b("a",k({key:1},r,{href:`${o.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Ot)):c("",!0)]),_:2},1024)):c("",!0),o.path=="null"&&o.link==null?(p(),h(S,{key:1,location:"top",text:"Upload File / Link"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.openModal(1,o)}),[e(f,{size:"20",icon:"bx-upload",color:"blue"})],16,qt)]),_:2},1024)):c("",!0),e(S,{location:"top",text:"Edit File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.openModal(1,o)}),[e(f,{size:"20",icon:"bx-edit",color:"blue"})],16,Lt)]),_:2},1024),e(S,{location:"top",text:"Hapus File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>i.deleteAttachment(o.id)}),[e(f,{size:"20",icon:"bx-trash",color:"red"})],16,Rt)]),_:2},1024)])])]),default:t(()=>[e(C,null,{default:t(()=>[u(y(o.name),1)]),_:2},1024),o.note!=null?(p(),h(X,{key:0},{default:t(()=>[u(y(o.note),1)]),_:2},1024)):c("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),e(v,{class:"mt-2"},{default:t(()=>[e(U,{class:"py-1 header-color"},{default:t(()=>[e(I,{align:"center","no-gutters":""},{default:t(()=>[e(m,{cols:"auto",class:"mr-auto"},{default:t(()=>[zt]),_:1}),e(m,{cols:"auto"},{default:t(()=>[n("span",null,[e(F,{color:"primary",size:"x-small",class:"my-3 mx-3",onClick:l[0]||(l[0]=o=>d.openModal(2))},{default:t(()=>[u(" Tambah Data Lain ")]),_:1})])]),_:1})]),_:1})]),_:1}),i.submission.length==0?(p(),b("div",Et,[e(B,null,{default:t(()=>[e(A,null,{default:t(()=>[u("Belum ada file")]),_:1})]),_:1})])):c("",!0),d.sortedSubmission.length>0?(p(!0),b(R,{key:1},J(d.sortedSubmission,(o,w)=>(p(),b("div",{key:w},[e(I,{"no-gutters":"",align:"center",class:"pa-2"},{default:t(()=>[e(m,{cols:"auto",class:"mr-2"},{default:t(()=>[e(f,{color:"success",size:"small",icon:"mdi-check-circle"})]),_:1}),e(m,null,{default:t(()=>[n("div",Bt,y(o.name),1),o.type==1?(p(),b("div",Gt,"Dokumen Penunjang Analisa ")):c("",!0),o.type==2?(p(),b("div",Ht,"Dokumen Jaminan ")):c("",!0)]),_:2},1024),e(m,{cols:"auto"},{default:t(()=>[n("div",Jt,[o.path!=null?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:r})=>[e(F,k(r,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)):(p(),h(S,{key:1,location:"top",text:"Lihat File"},{activator:t(({props:r})=>[e(F,k(r,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:`${o.link}`,target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)),i.phase<5?(p(),h(S,{key:2,location:"top",text:"Edit File"},{activator:t(({props:r})=>[e(F,k(r,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>d.openModal(3,o)}),null,16,["onClick"])]),_:2},1024)):c("",!0),i.phase<5?(p(),h(S,{key:3,location:"top",text:"Hapus File"},{activator:t(({props:r})=>[e(F,k(r,{icon:"bx-trash",size:"small",color:"error",variant:"text",onClick:j=>d.deleteSubmission(o.id)}),null,16,["onClick"])]),_:2},1024)):c("",!0)])]),_:2},1024)]),_:2},1024)]))),128)):c("",!0)]),_:1}),e(K,{modelValue:a.isAnalisaKredit,"onUpdate:modelValue":l[9]||(l[9]=o=>a.isAnalisaKredit=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Attachment ")]),text:t(()=>[e(O,{onSubmit:N(d.insertAnalisa,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[Wt,Xt,e(x,{class:"my-3",modelValue:a.formAnalisaKredit.name,"onUpdate:modelValue":l[1]||(l[1]=o=>a.formAnalisaKredit.name=o),autofocus:"",disabled:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Yt,Qt,e(H,{modelValue:a.selectedOption,"onUpdate:modelValue":l[2]||(l[2]=o=>a.selectedOption=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"File",value:"file"}),e(M,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),a.selectedOption==="file"?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[Zt,$t,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[3]||(l[3]=o=>{d.handleFileChange(o,this.formAnalisaKredit,"path"),a.formAnalisaKredit.link=null})},null,8,["rules"])]),_:1})):c("",!0),a.selectedOption==="link"?(p(),h(m,{key:1,md:"12",cols:"12"},{default:t(()=>[el,tl,e(x,{class:"my-3",modelValue:a.formAnalisaKredit.link,"onUpdate:modelValue":l[4]||(l[4]=o=>a.formAnalisaKredit.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:a.formAnalisaKredit.isSecret,"onUpdate:modelValue":l[5]||(l[5]=o=>a.formAnalisaKredit.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.formAnalisaKredit.isApprove,"onUpdate:modelValue":l[6]||(l[6]=o=>a.formAnalisaKredit.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[7]||(l[7]=o=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[8]||(l[8]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isSubmission,"onUpdate:modelValue":l[17]||(l[17]=o=>a.isSubmission=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Tambah Data ")]),text:t(()=>[e(O,{onSubmit:N(d.insertSubmission,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[ll,al,e(x,{class:"my-3",modelValue:a.formSubmission.name,"onUpdate:modelValue":l[10]||(l[10]=o=>a.formSubmission.name=o),autofocus:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[sl,il,e(H,{modelValue:a.selectedOption,"onUpdate:modelValue":l[11]||(l[11]=o=>a.selectedOption=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"File",value:"file"}),e(M,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),a.selectedOption==="file"?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[ol,nl,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[12]||(l[12]=o=>{d.handleFileChange(o,this.formSubmission,"path"),a.formSubmission.link=null})},null,8,["rules"])]),_:1})):c("",!0),a.selectedOption==="link"?(p(),h(m,{key:1,md:"12",cols:"12"},{default:t(()=>[rl,dl,e(x,{class:"my-3",modelValue:a.formSubmission.link,"onUpdate:modelValue":l[13]||(l[13]=o=>a.formSubmission.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[ul,pl,e(H,{modelValue:a.formSubmission.type,"onUpdate:modelValue":l[14]||(l[14]=o=>a.formSubmission.type=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"Dokumen Penunjang Analisa",value:"1"}),e(M,{label:"Dokumen Jaminan",value:"2"})]),_:1},8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[15]||(l[15]=o=>d.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[16]||(l[16]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isUpdateSubmission,"onUpdate:modelValue":l[25]||(l[25]=o=>a.isUpdateSubmission=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Update Data ")]),text:t(()=>[e(O,{onSubmit:N(d.updateSubmission,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[ml,hl,e(x,{class:"my-3",modelValue:a.formSubmission.name,"onUpdate:modelValue":l[18]||(l[18]=o=>a.formSubmission.name=o),autofocus:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[cl,fl,e(H,{modelValue:a.selectedOption,"onUpdate:modelValue":l[19]||(l[19]=o=>a.selectedOption=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"File",value:"file"}),e(M,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),a.selectedOption==="file"?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[gl,_l,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[20]||(l[20]=o=>{d.handleFileChange(o,this.formSubmission,"path"),a.formSubmission.link=null})},null,8,["rules"])]),_:1})):c("",!0),a.selectedOption==="link"?(p(),h(m,{key:1,md:"12",cols:"12"},{default:t(()=>[yl,kl,e(x,{class:"my-3",modelValue:a.formSubmission.link,"onUpdate:modelValue":l[21]||(l[21]=o=>a.formSubmission.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[vl,bl,e(H,{modelValue:a.formSubmission.type,"onUpdate:modelValue":l[22]||(l[22]=o=>a.formSubmission.type=o),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"Dokumen Penunjang Kredit",value:1}),e(M,{label:"Dokumen Jaminan",value:2})]),_:1},8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[23]||(l[23]=o=>d.closeModal(3))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[24]||(l[24]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const de=Y(Ut,[["render",Al],["__scopeId","data-v-19279774"]]),Sl={name:"AttachmentCard4",props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},phase:{type:Number,required:!0}},watch:{selectedOption(s){s==="file"?this.formAnalisaKredit.link=null:s==="link"&&(this.formAnalisaKredit.path=null)}},data(){return{selectedOption:"",overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isKomite:!1,formKomite:{id:null,name:"Analisa Kredit",file_id:this.fileId,path:"null",link:null,isApprove:0,isSecret:0}}},methods:{toSignature(s){if(s.path=="null"&&s.link==null){this.$showToast("info","Perhatian","File harus di upload terlebih dahulu");return}if((()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||window.innerWidth<=800)()){this.$showToast("info","Perhatian","Disarankan menggunakan komputer untuk tampilan dan pengalaman terbaik");return}this.$router.push(`/a-pdfeditor/${s.id}`)},openModal(s,l=null){s==1&&(this.formKomite.id=l.id,this.formKomite.name=l.name,this.formKomite.link=l.link,this.formKomite.isSecret=parseInt(l.isSecret),this.formKomite.isApprove=parseInt(l.isApprove),this.isKomite=!0)},closeModal(s){s==1&&(this.formKomite.id=null,this.formKomite.isSecret=0,this.formKomite.isApprove=0,this.isKomite=!1)},handleFileChange(s){const l=s.target.files[0];l&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(l.type)?this.formKomite.path=l:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},async insertKomite(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formKomite.name),s.append("isSecret",this.formKomite.isSecret),s.append("isApprove",this.formKomite.isApprove),s.append("file_id",this.formKomite.file_id),this.formKomite.path!="null"&&this.formKomite.path!=null?s.append("path",this.formKomite.path):this.formKomite.link!=null&&s.append("link",this.formKomite.link),s.append("_method","PUT");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post(`/edit-attach/${this.formKomite.id}`,s,l);i.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}}},Fl=n("span",{class:"text-h6 font-weight-medium"},"Phase 4 (KOMITE) 📄",-1),Pl={class:"operation-wrapper"},xl={class:"d-flex justify-space-between"},Dl=["href"],Il=["href"],wl=["onClick"],Vl=["onClick"],Tl=["onClick"],Cl=["onClick"],Ul=n("span",{style:{color:"red"}},"*",-1),Kl=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),jl=n("span",{style:{color:"red"}},"*",-1),Ml=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1);function Nl(s,l,i,g,a,d){return p(),b(R,null,[e(te,{"model-value":a.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),u(" Loading... ")]),_:1},8,["model-value"]),e(v,{color:"warning"},{default:t(()=>[e(q,{class:"py-2"},{default:t(()=>[e(I,{align:"center","no-gutters":""},{default:t(()=>[e(m,{cols:"auto"},{default:t(()=>[Fl]),_:1}),e($),e(m,{cols:"auto"},{default:t(()=>[e(le,{"max-width":"400"},{activator:t(({props:o})=>[e(F,k({icon:""},o,{color:"on-primary",variant:"text"}),{default:t(()=>[e(f,{color:"on-primary"},{default:t(()=>[u("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(v,null,{default:t(()=>[e(q,{class:"text-h6 py-2 px-4"},{default:t(()=>[u(" Penjelasan Phase Komite ")]),_:1}),e(U,{class:"py-2 px-4"},{default:t(()=>[u(" Tahap ini merupakan proses pengambilan keputusan akhir terkait pengajuan kredit. Komite Kredit akan memberikan keputusan apakah pengajuan kredit disetujui, ditolak, atau memerlukan informasi tambahan. Keputusan diambil berdasarkan pertimbangan risiko, kebijakan kredit bank, dan potensi keuntungan. Komite juga dapat memberikan rekomendasi terkait syarat dan ketentuan kredit jika disetujui. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),b(R,null,J(i.data,(o,w)=>(p(),b("div",{key:w},[e(B,{density:"compact"},{default:t(()=>[e(A,null,{prepend:t(()=>[u(y(parseInt(o.isApprove)?"✅":"❌")+" ",1),e(f,{icon:"mdi-file"})]),append:t(()=>[n("div",Pl,[n("div",xl,[o.path!=="null"||o.link!==null?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:r})=>[o.path!=="null"?(p(),b("a",k({key:0},r,{href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Dl)):c("",!0),o.link!==null?(p(),b("a",k({key:1},r,{href:`${o.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Il)):c("",!0)]),_:2},1024)):c("",!0),o.path=="null"&&o.link==null?(p(),h(S,{key:1,location:"top",text:"Upload File / Link"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.openModal(1,o)}),[e(f,{size:"20",icon:"bx-upload",color:"blue"})],16,wl)]),_:2},1024)):c("",!0),e(S,{location:"top",text:"Edit File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.openModal(1,o)}),[e(f,{size:"20",icon:"bx-edit",color:"blue"})],16,Vl)]),_:2},1024),e(S,{location:"top",text:"Tanda Tangan File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.toSignature(o)}),[e(f,{size:"20",icon:"bx-pen",color:"blue"})],16,Tl)]),_:2},1024),e(S,{location:"top",text:"Hapus File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>i.deleteAttachment(o.id)}),[e(f,{size:"20",icon:"bx-trash",color:"red"})],16,Cl)]),_:2},1024)])])]),default:t(()=>[e(C,null,{default:t(()=>[u(y(o.name),1)]),_:2},1024),o.note!=null?(p(),h(X,{key:0},{default:t(()=>[u(y(o.note),1)]),_:2},1024)):c("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),e(K,{modelValue:a.isKomite,"onUpdate:modelValue":l[6]||(l[6]=o=>a.isKomite=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Attachment ")]),text:t(()=>[e(O,{onSubmit:N(d.insertKomite,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[Ul,Kl,e(x,{class:"my-3",modelValue:a.formKomite.name,"onUpdate:modelValue":l[0]||(l[0]=o=>a.formKomite.name=o),autofocus:"",disabled:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[jl,Ml,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[1]||(l[1]=o=>d.handleFileChange(o))},null,8,["rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:a.formKomite.isSecret,"onUpdate:modelValue":l[2]||(l[2]=o=>a.formKomite.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.formKomite.isApprove,"onUpdate:modelValue":l[3]||(l[3]=o=>a.formKomite.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[4]||(l[4]=o=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[5]||(l[5]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const ue=Y(Sl,[["render",Nl]]),Ol={name:"AttachmentOperation",props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},phase:{type:Number,required:!0}},data(){return{overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isSp3k:!1,formsp3k:{id:null,name:"SP3K",file_id:this.fileId,path:null,isApprove:0,isSecret:0}}},methods:{openModal(s,l=null){s==1&&(this.formsp3k.id=l.id,this.formsp3k.name=l.name,this.formsp3k.isSecret=parseInt(l.isSecret),this.formsp3k.isApprove=parseInt(l.isApprove),this.isSp3k=!0)},closeModal(s){s==1&&(this.formsp3k.id=null,this.formsp3k.isSecret=0,this.formsp3k.path=null,this.formsp3k.isApprove=0,this.isSp3k=!1)},handleFileChange(s){const l=s.target.files[0];l&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(l.type)?this.formsp3k.path=l:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},async insertSpk3k(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formsp3k.name),s.append("path",this.formsp3k.path),s.append("isSecret",this.formsp3k.isSecret),s.append("isApprove",this.formsp3k.isApprove),s.append("file_id",this.formsp3k.file_id),s.append("_method","PUT");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post(`/edit-attach/${this.formsp3k.id}`,s,l);i.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}}},ql=n("span",{class:"text-h6 font-weight-medium"},"Phase Operation 📄",-1),Ll={class:"operation-wrapper"},Rl={class:"d-flex justify-space-between"},zl=["href"],El=["onClick"],Bl=["onClick"],Gl=["onClick"],Hl=n("span",{style:{color:"red"}},"*",-1),Jl=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),Wl=n("span",{style:{color:"red"}},"*",-1),Xl=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1);function Yl(s,l,i,g,a,d){return p(),b(R,null,[e(te,{"model-value":a.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),u(" Loading... ")]),_:1},8,["model-value"]),e(v,{color:"warning"},{default:t(()=>[e(q,{class:"py-2"},{default:t(()=>[e(I,{align:"center","no-gutters":""},{default:t(()=>[e(m,{cols:"auto"},{default:t(()=>[ql]),_:1}),e($),e(m,{cols:"auto"},{default:t(()=>[e(le,{"max-width":"400"},{activator:t(({props:o})=>[e(F,k({icon:""},o,{color:"on-primary",variant:"text"}),{default:t(()=>[e(f,{color:"on-primary"},{default:t(()=>[u("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(v,null,{default:t(()=>[e(q,{class:"text-h6 py-2 px-4"},{default:t(()=>[u(" Penjelasan Phase Operation ")]),_:1}),e(U,{class:"py-2 px-4"},{default:t(()=>[u(" Tahap Operation merupakan fase implementasi dan pengelolaan kredit setelah disetujui. Tujuan utama tahap ini adalah memastikan kredit berjalan sesuai dengan ketentuan yang disepakati dan meminimalkan risiko operasional. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),b(R,null,J(i.data,(o,w)=>(p(),b("div",{key:w},[e(B,{density:"compact"},{default:t(()=>[e(A,null,{prepend:t(()=>[u(y(parseInt(o.isApprove)?"✅":"❌")+" ",1),e(f,{icon:"mdi-file"})]),append:t(()=>[n("div",Ll,[n("div",Rl,[o.path!=="null"?(p(),h(S,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:r})=>[n("a",k(r,{href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[e(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,zl)]),_:2},1024)):c("",!0),o.path==="null"&&i.userAccess&&parseInt(i.userAccess.canInsertData)==1?(p(),h(S,{key:1,location:"top",text:"Upload File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.openModal(1,o)}),[e(f,{size:"20",icon:"bx-upload",color:"blue"})],16,El)]),_:2},1024)):c("",!0),e(S,{location:"top",text:"Edit File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>d.openModal(1,o)}),[e(f,{size:"20",icon:"bx-edit",color:"blue"})],16,Bl)]),_:2},1024),e(S,{location:"top",text:"Hapus File"},{activator:t(({props:r})=>[n("button",k(r,{onClick:j=>i.deleteAttachment(o.id)}),[e(f,{size:"20",icon:"bx-trash",color:"red"})],16,Gl)]),_:2},1024)])])]),default:t(()=>[e(C,null,{default:t(()=>[u(y(o.name),1)]),_:2},1024),o.note!=null?(p(),h(X,{key:0},{default:t(()=>[u(y(o.note),1)]),_:2},1024)):c("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),e(K,{modelValue:a.isSp3k,"onUpdate:modelValue":l[6]||(l[6]=o=>a.isSp3k=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Attachment ")]),text:t(()=>[e(O,{onSubmit:N(d.insertSpk3k,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[Hl,Jl,e(x,{class:"my-3",modelValue:a.formsp3k.name,"onUpdate:modelValue":l[0]||(l[0]=o=>a.formsp3k.name=o),autofocus:"",disabled:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Wl,Xl,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[1]||(l[1]=o=>d.handleFileChange(o))},null,8,["rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:a.formsp3k.isSecret,"onUpdate:modelValue":l[2]||(l[2]=o=>a.formsp3k.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.formsp3k.isApprove,"onUpdate:modelValue":l[3]||(l[3]=o=>a.formsp3k.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[4]||(l[4]=o=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[5]||(l[5]=o=>a.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const Ql=Y(Ol,[["render",Yl]]);const Zl={components:{AttachmentCard1:Ce,AttachmentCard2:Ct,AttachmentCard3:de,attachmentCard3:de,AttachmentCard4:ue,attachmentCard4:ue,attachmentOperation:Ql},name:"Phase",props:{phase1Attachments:{type:Object,required:!0},phase2Attachments:{type:Object,required:!0},phase3Attachments:{type:Object,required:!0},phase4Attachments:{type:Object,required:!0},phase5Attachments:{type:Object,required:!0},userAccess:{type:Object,required:!0},dataFile:{type:Object,required:!0},userData:{type:Object,required:!0},dataNote:{type:Object,required:!0},updateDataNote:{type:Object,required:!0},insertNote:{type:Function,required:!0},changeApproval:{type:Function,required:!0},formatDate:{type:Function,required:!0},openModal:{type:Function,required:!0},deleteAttachment:{type:Function,required:!0},deleteNote:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},step:{type:Function,required:!0},fileId:{type:String,required:!0},resetNote:{type:Function,required:!0},notePhase1:{type:Object,required:!0},notePhase2:{type:Object,required:!0},notePhase3:{type:Object,required:!0},notePhase4:{type:Object,required:!0},modalNote:{type:Function,required:!0},submissions:{type:Object,required:!0}},data(){return{filePath:this.$filePath,isUpdateNote:!1,currentPage:1,itemsPerPage:10}},computed:{paginatedNotes(){const s=(this.currentPage-1)*this.itemsPerPage,l=s+this.itemsPerPage;return this.dataFile.notes.slice(s,l)}},methods:{async generateReport(s){try{this.overlay=!0;const l=await V.get(`/generatereport/${s}`,{responseType:"blob"});if(l.status==200){this.overlay=!1;const i=window.URL.createObjectURL(new Blob([l.data])),g=document.createElement("a");g.href=i,g.setAttribute("download",`${this.dataFile.name}.pdf`),document.body.appendChild(g),g.click(),document.body.removeChild(g),this.$showToast("success","Berhasil","File berhasil diunduh")}else this.overlay=!1,this.$showToast("error","Error","Gagal mengunduh file")}catch(l){console.log(l),this.overlay=!1,this.$showToast("error","Error","Terjadi kesalahan saat mengunduh file")}},onPageChange(s){this.currentPage=s},formatInput(s){return s=s.replace(/\D/g,""),s=s.replace(/\B(?=(\d{3})+(?!\d))/g,","),s}}},re=s=>(oe("data-v-72e2dfa3"),s=s(),ne(),s),$l=re(()=>n("span",null,"Informasi Umum ℹ️",-1)),ea=re(()=>n("span",null,"Dokumen Pendukung 📄",-1)),ta={class:"mb-5"},la={class:"mb-5"},aa={class:"mb-5"},sa={class:"mb-5"},ia={class:"mb-5"},oa={key:0},na=re(()=>n("span",null,"Catatan 📃",-1)),ra={class:"comment-content"};function da(s,l,i,g,a,d){const o=W("AttachmentCard1"),w=W("AttachmentCard2"),r=W("attachmentCard3"),j=W("attachmentCard4"),pe=W("attachmentOperation");return p(),h(v,{color:"backgroundCard"},{default:t(()=>[["Account Officer","AO","ao","account officer","Account Officer Executive","account officer executive","Account Officer / Executive AO","AO / RO"].includes(i.userData.position.name)?(p(),h(q,{key:1,class:"text-2xl font-weight-bold d-flex justify-center"},{default:t(()=>[u(" Detail "),parseInt(i.dataFile.isApproved)==1?(p(),h(L,{key:0,color:"success"},{default:t(()=>[u("Approved")]),_:1})):c("",!0),parseInt(i.dataFile.isApproved)==2?(p(),h(L,{key:1,color:"warning"},{default:t(()=>[u("Pending")]),_:1})):c("",!0),parseInt(i.dataFile.isApproved)==3?(p(),h(L,{key:2,color:"error"},{default:t(()=>[u("Rejected")]),_:1})):c("",!0),parseInt(i.dataFile.isApproved)==4?(p(),h(L,{key:3,color:"error"},{default:t(()=>[u("Cancel by Debitur")]),_:1})):c("",!0)]),_:1})):(p(),h(q,{key:0,class:"text-2xl font-weight-bold d-flex justify-center"},{default:t(()=>[u(" Detail "),parseInt(i.dataFile.isApproved)==1?(p(),h(L,{key:0,color:"success",onClick:l[0]||(l[0]=P=>i.openModal(9))},{default:t(()=>[u("Approved")]),_:1})):c("",!0),parseInt(i.dataFile.isApproved)==2?(p(),h(L,{key:1,color:"warning",onClick:l[1]||(l[1]=P=>i.openModal(9))},{default:t(()=>[u("Pending")]),_:1})):c("",!0),parseInt(i.dataFile.isApproved)==3?(p(),h(L,{key:2,color:"error",onClick:l[2]||(l[2]=P=>i.openModal(9))},{default:t(()=>[u("Rejected")]),_:1})):c("",!0),parseInt(i.dataFile.isApproved)==4?(p(),h(L,{key:3,color:"error",onClick:l[3]||(l[3]=P=>i.openModal(9))},{default:t(()=>[u("Cancel by Debitur")]),_:1})):c("",!0)]),_:1})),i.dataFile&&parseInt(i.dataFile.phase)==6?(p(),h(U,{key:2,class:"font-weight-bold d-flex justify-end"},{default:t(()=>[e(F,{color:"primary",onClick:l[4]||(l[4]=P=>d.generateReport(i.fileId)),size:"x-small"},{default:t(()=>[u(" Generate Laporan ")]),_:1})]),_:1})):c("",!0),i.dataFile.reasonRejected!=null?(p(),h(U,{key:3},{default:t(()=>[e(v,null,{default:t(()=>[e(q,null,{default:t(()=>[u(" Alasan Ditolak 🔹 ")]),_:1}),e(U,null,{default:t(()=>[n("div",null,[n("span",null,y(i.dataFile&&i.dataFile.reasonRejected),1)])]),_:1})]),_:1})]),_:1})):c("",!0),e(U,null,{default:t(()=>[e(v,{class:"mb-5"},{default:t(()=>[e(q,null,{default:t(()=>[e(I,{class:"d-flex justify-space-between"},{default:t(()=>[e(m,{cols:"12",sm:"6",md:"8"},{default:t(()=>[$l]),_:1}),e(m,{cols:"12",sm:"6",md:"4",class:"text-sm-right text-md-right"},{default:t(()=>[n("span",null,[e(F,{color:"primary",size:"small",class:"my-3 mx-3",onClick:l[5]||(l[5]=P=>i.openModal(4))},{default:t(()=>[u(" Edit Data ")]),_:1})])]),_:1})]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(B,{density:"compact",lines:"two"},{default:t(()=>[e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-person",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" Nama Pemohon ")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.name),1)]),_:1})]),_:1}),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-person",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" NIK Pemohon ")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.nik_pemohon),1)]),_:1})]),_:1}),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-map-marker",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" Alamat Pemohon ")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.address),1)]),_:1})]),_:1}),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-phone",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" No. HP Pemohon")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.no_hp),1)]),_:1})]),_:1}),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-cash",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" Jumlah Plafon")]),_:1}),e(A,null,{default:t(()=>[n("strong",null," Rp "+y(d.formatInput(i.dataFile.plafon)),1)]),_:1})]),_:1}),i.dataFile.nik_pasangan!=null&&i.dataFile.nik_pasangan!=""&&i.dataFile.nik_pasangan!="null"?(p(),h(A,{key:0},{prepend:t(()=>[e(f,{icon:"mdi-code-greater-than",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" NIK Pasangan")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.nik_pasangan),1)]),_:1})]),_:1})):c("",!0),i.dataFile.nik_jaminan!=null&&i.dataFile.nik_jaminan!=""&&i.dataFile.nik_jaminan!="null"?(p(),h(A,{key:1},{prepend:t(()=>[e(f,{icon:"mdi-code-greater-than",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" NIK atas nama Jaminan")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.nik_jaminan),1)]),_:1})]),_:1})):c("",!0),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-office-building",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" Jenis Usaha")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.type_bussiness),1)]),_:1})]),_:1}),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-office-building",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" Deskripsi Usaha")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.desc_bussiness),1)]),_:1})]),_:1}),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-office-building",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" Sumber Order")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.order_source),1)]),_:1})]),_:1}),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-office-building",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" Status Kredit")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.status_kredit),1)]),_:1})]),_:1}),e(A,null,{prepend:t(()=>[e(f,{icon:"mdi-office-building",size:"x-small"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" Tipe Kredit")]),_:1}),e(A,null,{default:t(()=>[n("strong",null,y(i.dataFile.type==1?"Reguler":"Restruktur"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(q,null,{default:t(()=>[e(I,{class:"d-flex justify-space-between"},{default:t(()=>[e(m,{cols:"12",sm:"6",md:"8"},{default:t(()=>[ea]),_:1}),i.userAccess&&i.userAccess.canInsertData?(p(),h(m,{key:0,cols:"12",sm:"6",md:"4",class:"text-sm-right text-md-right"},{default:t(()=>[n("span",null,[e(F,{color:"primary",size:"small",class:"my-3 mx-3",onClick:l[6]||(l[6]=P=>i.openModal(1))},{default:t(()=>[u(" Tambah Data Lain ")]),_:1})])]),_:1})):c("",!0)]),_:1})]),_:1}),e(U,null,{default:t(()=>[n("div",ta,[e(o,{data:i.phase1Attachments,fileId:parseInt(i.dataFile.id),filePath:a.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,openModal:i.openModal,phase:parseInt(i.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","openModal","phase"])]),n("div",la,[parseInt(i.dataFile.phase)>1?(p(),h(w,{key:0,data:i.phase2Attachments,fileId:parseInt(i.dataFile.id),filePath:a.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,getDetailFile:i.getDetailFile,phase:parseInt(i.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile","phase"])):c("",!0)]),n("div",aa,[parseInt(i.dataFile.phase)>2?(p(),h(r,{key:0,data:i.phase3Attachments,fileId:parseInt(i.dataFile.id),filePath:a.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,getDetailFile:i.getDetailFile,phase:parseInt(i.dataFile.phase),submission:i.submissions},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile","phase","submission"])):c("",!0)]),n("div",sa,[parseInt(i.dataFile.phase)>3?(p(),h(j,{key:0,data:i.phase4Attachments,fileId:parseInt(i.dataFile.id),filePath:a.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,getDetailFile:i.getDetailFile,phase:parseInt(i.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile","phase"])):c("",!0)]),n("div",ia,[parseInt(i.dataFile.phase)>4?(p(),h(pe,{key:0,data:i.phase5Attachments,fileId:parseInt(i.dataFile.id),filePath:a.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,getDetailFile:i.getDetailFile,phase:parseInt(i.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile","phase"])):c("",!0)])]),_:1})]),_:1})]),_:1}),i.dataFile&&parseInt(i.dataFile.phase)<6?(p(),h(U,{key:4},{default:t(()=>[e(v,null,{default:t(()=>[i.dataFile&&(parseInt(i.dataFile.phase)===2||parseInt(i.dataFile.phase)===3)?(p(),h(U,{key:0,class:"d-flex justify-center text-center pa-3 font-weight-bold"},{default:t(()=>[u(" Status Approval Phase ✅ (khusus SLIK dan Survei hanya perlu 1 approval) ")]),_:1})):(p(),h(U,{key:1,class:"d-flex justify-center text-center pa-3 font-weight-bold"},{default:t(()=>[u(" Status Approval Phase ✅ ")]),_:1})),e(U,null,{default:t(()=>[i.dataFile&&i.dataFile.approvals&&i.dataFile.approvals.length?(p(),b("div",oa,[(p(!0),b(R,null,J(i.dataFile.approvals,(P,ie)=>(p(),b(R,{key:ie},[i.dataFile.phase==P.phase?(p(),h(L,{key:0,color:P.approved==1?"success":"error",class:"mr-2",onClick:ae=>i.changeApproval(P.id)},{default:t(()=>[u(y(P.user.name)+" - "+y(P.user.position.name),1)]),_:2},1032,["color","onClick"])):c("",!0)],64))),128))])):c("",!0)]),_:1})]),_:1})]),_:1})):c("",!0),e(U,null,{default:t(()=>[e(v,null,{default:t(()=>[e(q,null,{default:t(()=>[u(" Lain - lain 🔹 ")]),_:1}),e(U,null,{default:t(()=>[n("div",null,[e(ye,null,{default:t(()=>[e(L,{color:"success",onClick:l[7]||(l[7]=P=>i.openModal(6))},{default:t(()=>[u(" Data Durasi Waktu ")]),_:1}),e(L,{color:"success",onClick:l[8]||(l[8]=P=>i.openModal(7))},{default:t(()=>[u(" Data Aktivitas")]),_:1}),e(L,{color:"success",onClick:l[9]||(l[9]=P=>i.openModal(8))},{default:t(()=>[u(" Data Riwayat Persetujuan")]),_:1}),e(L,{color:"success",onClick:l[10]||(l[10]=P=>i.openModal(10))},{default:t(()=>[u(" Data Riwayat Dokumen Pendukung")]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),e(Z),e(U,null,{default:t(()=>[e(v,null,{default:t(()=>[e(q,null,{default:t(()=>[e(I,{class:"d-flex justify-space-between"},{default:t(()=>[e(m,{cols:"12",sm:"6",md:"8"},{default:t(()=>[na]),_:1}),e(m,{cols:"12",sm:"6",md:"4",class:"text-sm-right text-md-right"})]),_:1}),e(O,{onSubmit:N(i.insertNote,["prevent"])},{default:t(()=>[e(I,{align:"center",justify:"center"},{default:t(()=>[e(m,{cols:"12",sm:"8",md:"10"},{default:t(()=>[e(se,{outlined:"",rows:"2",placeholder:"Tambahkan catatan disini",modelValue:i.dataNote.note,"onUpdate:modelValue":l[11]||(l[11]=P=>i.dataNote.note=P)},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",sm:"4",md:"2"},{default:t(()=>[e(F,{color:"primary",icon:"",type:"submit"},{default:t(()=>[e(f,null,{default:t(()=>[u("mdi-note-plus")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),e(U,null,{default:t(()=>[n("div",null,[(p(!0),b(R,null,J(d.paginatedNotes,(P,ie)=>(p(),b("div",{key:ie,class:"user-comment"},[n("div",ra,[n("p",null,y(P.note),1),e(I,{class:"justify-space-between mx-2 mb-2"},{default:t(()=>[n("small",null,[n("strong",null,y(P.user.name)+" - "+y(P.user.position.name),1)]),n("small",null,y(i.formatDate(P.created_at)),1)]),_:2},1024)]),i.userData.id==P.user_id?(p(),h(_e,{key:0,transition:"scale-transition"},{activator:t(({props:ae})=>[e(f,k(ae,{class:"ellipsis-icon"}),{default:t(()=>[u("mdi-dots-vertical")]),_:2},1040)]),default:t(()=>[e(B,null,{default:t(()=>[e(A,{color:"primary",onClick:ae=>i.openModal(3,P)},{prepend:t(()=>[e(f,{icon:"mdi-edit"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" edit")]),_:1})]),_:2},1032,["onClick"]),e(A,{color:"primary",onClick:ae=>i.deleteNote(P.id)},{prepend:t(()=>[e(f,{icon:"mdi-trash"})]),default:t(()=>[e(C,null,{default:t(()=>[u(" hapus")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)):c("",!0)]))),128)),e(me,{modelValue:a.currentPage,"onUpdate:modelValue":l[12]||(l[12]=P=>a.currentPage=P),length:Math.ceil(i.dataFile.notes.length/a.itemsPerPage),onInput:d.onPageChange},null,8,["modelValue","length","onInput"])])]),_:1})]),_:1})]),_:1}),i.userAccess&&parseInt(i.userAccess.canApprove)?(p(),h(ge,{key:5},{default:t(()=>[e(m,{class:"d-flex justify-space-beetwen"},{default:t(()=>[i.dataFile&&parseInt(i.dataFile.phase)>1?(p(),h(F,{key:0,color:"info",text:"Prev Phase",variant:"tonal",onClick:l[13]||(l[13]=P=>i.step(i.fileId,"-"))})):c("",!0),e($),i.dataFile&&parseInt(i.dataFile.phase)<5?(p(),h(F,{key:1,color:"info",text:"Next Phase",variant:"tonal",onClick:l[14]||(l[14]=P=>i.step(i.fileId,"next"))})):c("",!0),i.dataFile&&parseInt(i.dataFile.phase)==5?(p(),h(F,{key:2,color:"success",text:"Setujui",variant:"tonal",onClick:l[15]||(l[15]=P=>i.step(i.fileId,"next"))})):c("",!0)]),_:1})]),_:1})):c("",!0)]),_:1})}const ua=Y(Zl,[["render",da],["__scopeId","data-v-72e2dfa3"]]),pa={components:{phase:ua},data(){return{selectedOption:"",overlay:!1,isMobile:!1,userData:null,userAccess:{},fileId:this.$route.params.fileId,isShowPhase4:!1,isShowPhase5:!1,isShowTimers:!1,isShowHistory:!1,isShowApprovals:!1,isChangeStatusCredit:!1,isShowAttachment:!1,listUser:[],isInsertNewApproval:!1,dataApproval:{file_id:null,user_id:null,phase:null,approved:null},listPhase:[{title:"1. Pooling",value:1},{title:"2. SLIK",value:2},{title:"3. Survei",value:3},{title:"4. Komite",value:4},{title:"5. Operation",value:5}],listApproval:[{title:"Approved",value:1},{title:"Pending",value:0}],listedApproval:[],isDeleteApproval:!1,idDeleteApproval:null,nameFileList:[{value:"KTP Pemohon",title:"KTP Pemohon"},{value:"Kartu Keluarga",title:"Kartu Keluarga"},{value:"Jaminan SHM",title:"Jaminan SHM"},{value:"Foto Kunjungan",title:"Foto Kunjungan"},{value:"Foto WhatsApp",title:"Foto WhatsApp"},{value:"Buku Nikah",title:"Buku Nikah"},{value:"SHM",title:"Jaminan SHM"},{value:"BPKB",title:"Jaminan BPKB"},{value:"KTP Pasangan",title:"KTP Pasangan"},{value:"KTP Atas Nama Jaminan",title:"KTP Atas Nama Jaminan"},{value:"Resume SLIK",title:"Resume SLIK"},{value:"Detail SLIK",title:"Detail SLIK"},{value:"Detail SLIK Pasangan",title:"Detail SLIK Pasangan"},{value:"Detail SLIK Atas Nama jaminan",title:"Detail SLIK Atas Nama jaminan"},{value:"File Banding",title:"File Banding"},{value:"Analisa Awal Kredit AO",title:"Analisa Awal Kredit AO"},{value:"Analisa Kredit",title:"Analisa Kredit"},{value:"Lembar Pengesahan",title:"Lembar Pengesahan"},{value:"Rekomendasi Kepatuhan",title:"Rekomendasi Kepatuhan"},{value:"SP3K",title:"SP3K"},{value:"Notaris",title:"Notaris"},{value:"Lain-lain",title:"Lain-lain"}],orderList:[{value:"AO SENDIRI",title:"AO SENDIRI"},{value:"C. SERVIS / KANTOR",title:"C. SERVIS / KANTOR"},{value:"NASABAH",title:"NASABAH"},{value:"CROSS SALING DIVISI",title:"CROSS SALING DIVISI"},{value:"AGEN MGM / LAINNYA",title:"AGEN MGM / LAINNYA"},{value:"WEBSITE / WA / SOSMED",title:"WEBSITE / WA/ SOSMED"},{value:"TEAM BUSSINES",title:"TEAM BUSSINES"},{value:"PROGRAM KKB NEW",title:"PROGRAM KKB NEW"},{value:"PROGRAM KKB SECOND",title:"PROGRAM KKB SECOND"},{value:"CENTRO",title:"CENTRO"}],statusCreditList:[{value:"FRESH",title:"FRESH"},{value:"REPEAT ORDER",title:"REPEAT ORDER"},{value:"TOPUP",title:"TOPUP"}],changeStatus:{id:null,status:null,reasonRejected:null},stepperModel:0,isUpdateGeneralInfo:!1,generalInfo:{id:null,name:null,type_bussiness:null,desc_bussiness:null,order_source:null,status_kredit:null,plafon:null,type:null,nik_pemohon:null,name_pasangan:null,nik_pasangan:null,nik_jaminan:null,address:null,no_hp:null},dataFile:{id:this.$route.params.fileId,user_id:null,phase:1,name:"",type_bussiness:"",desc_bussiness:"",order_source:"",status_kredit:"",nik_pemohon:null,nik_pasangan:null,name_pasangan:null,nik_jaminan:null,address:null,no_hp:null,plafon:"0",type:null,surveyResult:"-",otsResult:"-",cekLingResult:"-",verTelResult:"-",creditScoring:"-",attachments:[],notes:[],approvals:[],phase_times:[],file_activities:[],reasonRejected:""},filePath:this.$filePath,typeCreditList:[{value:1,title:"Reguler"},{value:2,title:"Restruktur"}],timerHeaders:[{text:"Phase",value:"phase",sortable:!0},{text:"Waktu Mulai",value:"startTime",sortable:!0},{text:"Waktu Selesai",value:"endTime",sortable:!0},{text:"Rentang Waktu",value:"timeDiff",sortable:!0}],attachmentHeaders:[{text:"Nama",value:"name",sortable:!0},{text:"Phase",value:"phase",sortable:!0},{text:"Waktu",value:"startTime",sortable:!0}],historyHeaders:[{text:"User",value:"user.name",sortable:!0},{text:"Aktivitas",value:"activity",sortable:!0},{text:"Tanggal",value:"created_at",sortable:!0}],approvalHeaders:[{text:"Phase",value:"phase",sortable:!0},{text:"Nama",value:"user.name",sortable:!0},{text:"Status",value:"approved",sortable:!0},{text:"Tanggal",value:"created_at",sortable:!0}],isUpdateNote:!1,dataNote:{file_id:this.$route.params.fileId,note:null,isRead:null},updateDataNote:{file_id:this.$route.params.fileId,note:null,isRead:null},phaseNote:[],notesByPhase:{},isModalPhase:!1,insertAttch:!1,updateAttch:!1,rules:{required:s=>!!s||"Required"},uploadProgress:null,attachFile:{id:null,file_id:this.$route.params.fileId,phase:null,name:null,path:null,note:null,link:null,isSecret:0,isApprove:1},notePhase1:[],notePhase2:[],notePhase3:[],notePhase4:[],currentPage:1,itemsPerPage:10,isDataPhase3:!1,dataPhase3:{surveyResult:""},attachments:[],dataAttachPhase1:[],dataAttachPhase2:[],dataAttachPhase3:[],dataAttachPhase4:[],dataAttachPhase5:[],fileSubmissions:[]}},computed:{paginatedNotes(){const s=(this.currentPage-1)*this.itemsPerPage,l=s+this.itemsPerPage;return this.dataFile.notes.slice(s,l)}},methods:{back(){this.$router.go(-1)},async updateStatusCredit(){try{this.overlay=!0;const s=new FormData;if(s.append("id",this.fileId),s.append("status",this.changeStatus.status),this.changeStatus.status=="3"){if(this.changeStatus.reasonRejected==null){this.overlay=!1,this.closeModal(9),this.$showToast("error","Sorry","Alasan Penolakan wajib diisi");return}s.append("reasonRejected",this.changeStatus.reasonRejected)}const l=await V.post("/change-status",s);l.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.closeModal(9),this.$showToast("success","Success",l.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.closeModal(9),this.$showToast("error","Sorry",l.data.message))}catch(s){this.overlay=!1,this.closeModal(9),this.$showToast("error","Sorry",s.response.data.message)}},calculateTimeDiff(s,l){let i=new Date(s),a=(l?new Date(l):new Date).valueOf()-i.valueOf(),d=Math.floor(a/1e3/60),o=Math.floor(d/60),w=d%60;return`${o} jam ${w} menit`},formatFileId(s){return Array.isArray(s)?s.join(", "):s},async updatePhase3(){try{this.overlay=!0;const s=new FormData;s.append("surveyResult",this.dataPhase3.surveyResult),s.append("_method","PUT");const l=await V.post(`/survey-credit/${this.fileId}`,s);l.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.$showToast("success","Success",l.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.$showToast("error","Sorry",l.data.message))}catch(s){this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},onPageChange(s){this.currentPage=s},formatInputPlafon(s){let l=s.target.value;l=l.replace(/\D/g,""),l=l.replace(/\B(?=(\d{3})+(?!\d))/g,","),s.target.value=l},formatDate(s){return new Date(s).toLocaleString("id-ID")},resetNote(){this.dataNote={file_id:this.$route.params.fileId,user_id:null,phase:null,note:null,isRead:null}},checkMobile(){this.isMobile=window.innerWidth<728},formatInput(s){return s=s.replace(/\D/g,""),s=s.replace(/\B(?=(\d{3})+(?!\d))/g,","),s},async step(s,l){try{if(l=="next"){if(!window.confirm("Apakah Anda yakin melanjutkan ke tahap selanjutnya"))return;this.overlay=!0;const g=new FormData;g.append("id",s),g.append("type",l),g.append("_method","POST");const a=await V.post("/change-phase-approve",g);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.data.data.message))}else{if(!window.confirm("Apakah Anda yakin Kembali ke phase sebelumnya"))return;this.overlay=!0;const g=new FormData;g.append("id",s),g.append("type",l),g.append("_method","POST");const a=await V.post("/change-phase-approve",g);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.data.message))}}catch(i){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.response.data.message)}},async getDetailFile(s){try{this.overlay=!0;const l=await V.get(`/credit/${s}`);if(l.status===200){this.dataFile=l.data.data.file,this.attachments=this.dataFile.attachments.filter(i=>i.path&&i.path!=="null"||i.link&&i.link!=="null"),this.userAccess=l.data.data.userAccess,this.fileSubmissions=this.dataFile.filesubmissions,this.dataAttachPhase1=l.data.data.file.attachments.filter(i=>i.phase==1),this.dataAttachPhase2=l.data.data.file.attachments.filter(i=>i.phase==2),this.dataAttachPhase3=l.data.data.file.attachments.filter(i=>i.phase==3),this.dataAttachPhase4=l.data.data.file.attachments.filter(i=>i.phase==4),this.dataAttachPhase5=l.data.data.file.attachments.filter(i=>i.phase==5),this.dataFile.phase=parseInt(this.dataFile.phase),this.isShowPhase4=!(parseInt(this.dataFile.plafon)<25e6),this.dataFile.phase==5&&(this.isShowPhase5=!0),parseInt(this.dataFile.phase)==5?this.stepperModel=parseInt(this.dataFile.phase)-1:this.stepperModel=parseInt(this.dataFile.phase)-1,this.generalInfo.id=this.dataFile.id,this.generalInfo.name=this.dataFile.name,this.generalInfo.type_bussiness=this.dataFile.type_bussiness,this.generalInfo.desc_bussiness=this.dataFile.desc_bussiness,this.generalInfo.order_source=this.dataFile.order_source,this.generalInfo.status_kredit=this.dataFile.status_kredit,this.generalInfo.plafon=this.dataFile.plafon,this.generalInfo.type=this.dataFile.type,this.generalInfo.nik_pemohon=this.dataFile.nik_pemohon,this.generalInfo.name_pasangan=this.dataFile.name_pasangan,this.generalInfo.nik_pasangan=this.dataFile.nik_pasangan,this.generalInfo.nik_jaminan=this.dataFile.nik_jaminan,this.generalInfo.address=this.dataFile.address,this.generalInfo.no_hp=this.dataFile.no_hp;for(let i=0;i<5;i++)this.separateNotesByPhase(this.dataFile,i);this.listedApproval=this.dataFile.approvals.map(i=>({value:i.id,title:`${i.user.name} - fase ${i.phase}`})),this.overlay=!1}else this.$showToast("error","Sorry",l.data.data.message),this.overlay=!1}catch(l){this.overlay=!1,this.$showToast("error","Sorry",l.response.data.message)}},getUserData(){const s=localStorage.getItem("userData");s&&(this.userData=JSON.parse(s))},openModal(s,l=null){s==1?this.insertAttch=!0:s==2?(this.attachFile.id=l.id,this.attachFile.file_id=l.file_id,this.attachFile.name=l.name,this.attachFile.isSecret=parseInt(l.isSecret),this.attachFile.isApprove=parseInt(l.isApprove),this.attachFile.link=l.link,this.updateAttch=!0):s==3?(this.updateDataNote.id=l.id,this.updateDataNote.file_id=l.file_id,this.updateDataNote.note=l.note,this.isUpdateNote=!0):s==4?this.isUpdateGeneralInfo=!0:s==5?(this.dataPhase3.surveyResult=this.dataFile.surveyResult,this.isDataPhase3=!0):s==6?this.isShowTimers=!0:s==7?this.isShowHistory=!0:s==8?this.isShowApprovals=!0:s==9?this.isChangeStatusCredit=!0:s==10?this.isShowAttachment=!0:s==11?this.isInsertNewApproval=!0:s==12&&(this.isDeleteApproval=!0)},closeModal(s){s===1?(this.resetAttch(),this.insertAttch=!1):s===2?this.updateAttch=!1:s===3?(this.resetNote(),this.updateNote=!1):s==4?this.isUpdateGeneralInfo=!1:s==5?(this.dataPhase3.surveyResult="",this.isDataPhase3=!1):s==9?(this.isChangeStatusCredit=!1,this.changeStatus.id=null,this.changeStatus.status=null,this.changeStatus.reasonRejected=null):s==10?(this.dataApproval.file_id=null,this.dataApproval.user_id=null,this.dataApproval.phase=null,this.dataApproval.approved=null,this.isInsertNewApproval=!1):s==11&&(this.isDeleteApproval=!1,this.idDeleteApproval=null)},async updateGeneralInfo(){try{this.overlay=!0;const s=new FormData;s.append("name",this.generalInfo.name),s.append("type",this.generalInfo.type),s.append("plafon",this.generalInfo.plafon.replace(/\D/g,"")),s.append("type_bussiness",this.generalInfo.type_bussiness),s.append("desc_bussiness",this.generalInfo.desc_bussiness),s.append("order_source",this.generalInfo.order_source),s.append("status_kredit",this.generalInfo.status_kredit),this.generalInfo.nik_pemohon!=""&&s.append("nik_pemohon",this.generalInfo.nik_pemohon),this.generalInfo.nik_pasangan!==""&&this.generalInfo.nik_pasangan!==null&&this.generalInfo.nik_pasangan!=="null"&&this.generalInfo.nik_pasangan!="-"&&(s.append("nik_pasangan",this.generalInfo.nik_pasangan),s.append("name_pasangan",this.generalInfo.name_pasangan??null)),this.generalInfo.nik_jaminan!==""&&this.generalInfo.nik_jaminan!==null&&this.generalInfo.nik_jaminan!=="null"&&this.generalInfo.nik_jaminan!="-"&&s.append("nik_jaminan",this.generalInfo.nik_jaminan),this.generalInfo.address!=""&&s.append("address",this.generalInfo.address),this.generalInfo.no_hp!=""&&s.append("no_hp",this.generalInfo.no_hp),s.append("_method","PUT");const l=await V.post(`/edit-general-info/${this.generalInfo.id}`,s);l.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateGeneralInfo=!1,this.$showToast("success","Success",l.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateGeneralInfo=!1,this.$showToast("error","Sorry",l.data.message))}catch(s){this.isUpdateGeneralInfo=!1,this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertNote(){try{if(this.overlay=!0,this.dataNote.note==null){this.$showToast("error","Sorry","Note cannot be empty"),this.overlay=!1;return}const s=new FormData;s.append("file_id",this.dataNote.file_id),s.append("note",this.dataNote.note),s.append("_method","POST");const l=await V.post("/note",s);l.status===200?(this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",l.data.message)):(this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",l.data.message))}catch(s){this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async updateNote(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.updateDataNote.file_id),s.append("note",this.updateDataNote.note),s.append("_method","PUT");const l=await V.post(`/note/${this.updateDataNote.id}`,s);l.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateNote=!1,this.$showToast("success","Success",l.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateNote=!1,this.$showToast("error","Sorry",l.data.message))}catch(s){this.isUpdateNote=!1,this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteNote(s){try{if(this.overlay=!0,!window.confirm("Apakah Anda yakin ingin menghapus data? Data akan terhapus secara permanen."))return;const i=await V.delete(`/note/${s}`);i.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",i.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(l){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",l.response.data.message)}},separateNotesByPhase(s,l){s.notes.forEach(i=>{if(i.phase==l)switch(l){case 1:this.notePhase1.push(i);break;case 2:this.notePhase2.push(i);break;case 3:this.notePhase3.push(i);break;case 4:this.notePhase4.push(i);break}})},modalNote(){this.isModalPhase=!this.isModalPhase},async changeApproval(s){try{this.overlay=!0;const l=await V.get(`/change-phase-approve/${s}`);l.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",l.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",l.data.message))}catch(l){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",l.response.data.message)}},handleFileChange(s){const l=s.target.files[0];l&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(l.type)?this.attachFile.path=l:(this.closeModal(1),this.closeModal(2),this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, DOCX, XLS, dan XLSX yang diizinkan."),s.target.value=null)},resetAttch(){this.attachFile={id:null,file_id:this.$route.params.fileId,name:null,path:null,note:null,link:null,isSecret:!1}},async insertAttachment(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.attachFile.file_id),s.append("phase",this.dataFile.phase),s.append("name",this.attachFile.name),this.attachFile.path!=null&&s.append("path",this.attachFile.path),this.attachFile.link!=null&&s.append("link",this.attachFile.link),s.append("note",this.attachFile.note),s.append("isApprove",this.attachFile.isApprove),this.dataFile.phase>=2&&(this.attachFile.isSecret===!1?s.append("isSecret","0"):s.append("isSecret",String(this.attachFile.isSecret))),s.append("_method","POST");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post("/add-attach",s,l);i.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async editAttachment(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.attachFile.file_id),s.append("name",this.attachFile.name),s.append("path",this.attachFile.path),s.append("phase",this.dataFile.phase),s.append("isApprove",this.attachFile.isApprove),this.attachFile.path!=null&&s.append("path",this.attachFile.path),s.append("isSecret",this.attachFile.isSecret),s.append("_method","PUT");const l={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(a){console.error("Error calculating progress:",a)}},headers:{"Content-Type":"multipart/form-data"}},i=await V.post(`/edit-attach/${this.attachFile.id}`,s,l);i.status===200?(this.overlay=!1,this.closeModal(2),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(2),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteAttachment(s){try{if(!window.confirm("Apakah Anda yakin ingin menghapus data? Data akan terhapus secara permanen."))return;this.overlay=!0;const i=await V.delete(`/delete-attach/${s}`);i.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",i.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry","Terjadi Kesalahan Silahkan Coba Lagi"))}catch{this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry","Terjadi Kesalahan Silahkan Coba Lagi")}},async getUser(){try{this.overlay=!0;const s=await V.get("/getAllUser");s.status===200?(this.listUser=s.data.data.map(l=>({value:l.id,title:l.name})),this.overlay=!1):(this.$showToast("error","Sorry",s.data.data.message),this.overlay=!1)}catch(s){this.overlay=!1,this.$showToast("error","Sorry",s.response.data.message)}},async insertNewApproval(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.dataFile.id),s.append("user_id",this.dataApproval.user_id),s.append("phase",this.dataApproval.phase),s.append("approved",this.dataApproval.approved),s.append("_method","POST");const l=await V.post("/add-approval",s);l.status===200?(this.overlay=!1,this.closeModal(10),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",l.data.message)):(this.overlay=!1,this.closeModal(10),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",l.data.message))}catch(s){this.overlay=!1,this.closeModal(10),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteApproval(){try{if(!window.confirm("Apakah Anda yakin ingin menghapus data? Data akan terhapus secara permanen."))return;this.overlay=!0;const l=new FormData;l.append("idApproval",this.idDeleteApproval),l.append("_method","POST");const i=await V.post("/delete-approval",l);i.status===200?(this.overlay=!1,this.closeModal(11),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(11),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.closeModal(11),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}},mounted(){this.checkMobile(),this.getUserData(),this.getUser(),this.getDetailFile(this.fileId)}};const _=s=>(oe("data-v-370af5d8"),s=s(),ne(),s),ma=_(()=>n("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),ha=_(()=>n("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),ca=_(()=>n("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),fa=_(()=>n("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),ga=_(()=>n("span",{style:{color:"red"}},"*",-1)),_a=_(()=>n("span",{class:"subtitle-1 text-center"},"Note: ",-1)),ya=_(()=>n("span",{style:{color:"red"}},"*",-1)),ka=_(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),va=_(()=>n("span",{style:{color:"red"}},"*",-1)),ba=_(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),Aa=_(()=>n("span",{style:{color:"red"}},"*",-1)),Sa=_(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),Fa=_(()=>n("span",{style:{color:"red"}},"*",-1)),Pa=_(()=>n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),xa=_(()=>n("span",{style:{color:"red"}},"*",-1)),Da=_(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),Ia=_(()=>n("span",{style:{color:"red"}},"*",-1)),wa=_(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Jenis Kredit: ",-1)),Va=_(()=>n("span",{style:{color:"red"}},"*",-1)),Ta=_(()=>n("span",{class:"subtitle-1 text-center"},"Nama Pemohon: ",-1)),Ca=_(()=>n("span",{style:{color:"red"}},"*",-1)),Ua=_(()=>n("span",{class:"subtitle-1 text-center"},"Jumlah Plafon: ",-1)),Ka=_(()=>n("span",{style:{color:"red"}},"*",-1)),ja=_(()=>n("span",{class:"subtitle-1 text-center"},"Pilih sumber order: ",-1)),Ma=_(()=>n("span",{style:{color:"red"}},"*",-1)),Na=_(()=>n("span",{class:"subtitle-1 text-center"},"Pilih status kredit: ",-1)),Oa=_(()=>n("span",{style:{color:"red"}},"*",-1)),qa=_(()=>n("span",{class:"subtitle-1 text-center"},"Jenis Usaha: ",-1)),La=_(()=>n("span",{style:{color:"red"}},"*",-1)),Ra=_(()=>n("span",{class:"subtitle-1 text-center"},"Deskripsi Usaha: ",-1)),za=_(()=>n("span",{style:{color:"red"}},"*",-1)),Ea=_(()=>n("span",{class:"subtitle-1 text-center"},"NIK Pemohon: ",-1)),Ba=_(()=>n("span",{style:{color:"red"}},"*",-1)),Ga=_(()=>n("span",{class:"subtitle-1 text-center"},"Alamat Pemohon: ",-1)),Ha=_(()=>n("span",{class:"subtitle-1 text-center"},"NIK Pasangan (kosongkan jika tidak ada): ",-1)),Ja=_(()=>n("span",{class:"subtitle-1 text-center"},"NIK Pemilik Jaminan (kosongkan jika tidak ada): ",-1)),Wa=_(()=>n("span",{class:"subtitle-1 text-center"},"Nama Pasangan (kosongkan jika tidak ada): ",-1)),Xa=_(()=>n("span",{class:"subtitle-1 text-center"},"No. HP: ",-1)),Ya=_(()=>n("span",{style:{color:"red"}},"*",-1)),Qa=_(()=>n("span",{class:"subtitle-1 text-center"},"Hasil Survei: ",-1)),Za=_(()=>n("span",{style:{color:"red"}},"*",-1)),$a=_(()=>n("span",{class:"subtitle-1 text-center"},"Alasan: ",-1)),es=_(()=>n("span",{style:{color:"red"}},"*",-1)),ts=_(()=>n("span",{class:"subtitle-1 text-center"},"Pilih karyawan: ",-1)),ls=_(()=>n("span",{style:{color:"red"}},"*",-1)),as=_(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Phase: ",-1)),ss=_(()=>n("span",{style:{color:"red"}},"*",-1)),is={class:"subtitle-1 text-center"},os=_(()=>n("span",{style:{color:"red"}},"*",-1)),ns=_(()=>n("span",{class:"subtitle-1 text-center"},"Pilih karyawan: ",-1));function rs(s,l,i,g,a,d){const o=W("phase"),w=W("EasyDataTable");return p(),b("div",null,[e(te,{"model-value":a.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),u(" Loading... ")]),_:1},8,["model-value"]),e(v,null,{default:t(()=>[e(F,{"prepend-icon":"mdi-arrow-left",variant:"text",class:"mt-2",onClick:d.back},{default:t(()=>[u(" Kembali ")]),_:1},8,["onClick"]),e(q,{class:"text-2xl font-weight-bold d-flex justify-left"},{default:t(()=>[u(" Kredit ")]),_:1}),e(U,null,{default:t(()=>[e(he,{"model-value":a.stepperModel,mobile:a.isMobile},{default:t(()=>[e(ce,null,{default:t(()=>[e(Q,{title:"Phase 1 (Pooling)",value:"1",complete:a.stepperModel>1},null,8,["complete"]),e(Z),e(Q,{title:"Phase 2 (SLIK)",value:"2",complete:a.stepperModel>2},null,8,["complete"]),e(Z),e(Q,{title:"Phase 3 (Survei)",value:"3",complete:a.stepperModel>3},null,8,["complete"]),e(Z),e(Q,{title:"Phase 4 (Komite)",value:"4",complete:a.stepperModel>4},null,8,["complete"]),e(Z),e(Q,{title:"Operation",value:"5",complete:a.stepperModel>5},null,8,["complete"]),e(Z),e(Q,{title:"Approved",value:"6",complete:a.stepperModel>6},null,8,["complete"])]),_:1}),e(fe,null,{default:t(()=>[a.userData&&a.userData.position.role.isPhase1Access==1?(p(),h(G,{key:0,value:"1"},{default:t(()=>[e(o,{dataFile:a.dataFile,userData:a.userData,"insert-note":d.insertNote,"change-approval":d.changeApproval,"format-date":d.formatDate,"open-modal":d.openModal,"delete-attachment":d.deleteAttachment,"delete-note":d.deleteNote,"get-detail-file":d.getDetailFile,step:d.step,"file-id":d.formatFileId(a.fileId),"user-access":a.userAccess,"reset-note":d.resetNote,"data-note":a.dataNote,"update-data-note":a.updateDataNote,"note-phase1":a.notePhase1,"note-phase2":a.notePhase2,"note-phase3":a.notePhase3,"note-phase4":a.notePhase4,"modal-note":d.modalNote,phase1Attachments:a.dataAttachPhase1,phase2Attachments:a.dataAttachPhase2,phase3Attachments:a.dataAttachPhase3,phase4Attachments:a.dataAttachPhase4,phase5Attachments:a.dataAttachPhase5,submissions:a.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})):(p(),h(G,{key:1,value:"1"},{default:t(()=>[ma]),_:1})),a.userData&&a.userData.position.role.isPhase2Access==1?(p(),h(G,{key:2,value:"2"},{default:t(()=>[e(o,{dataFile:a.dataFile,userData:a.userData,"insert-note":d.insertNote,"change-approval":d.changeApproval,"format-date":d.formatDate,"open-modal":d.openModal,"delete-attachment":d.deleteAttachment,"delete-note":d.deleteNote,"get-detail-file":d.getDetailFile,step:d.step,"file-id":d.formatFileId(a.fileId),"user-access":a.userAccess,"reset-note":d.resetNote,"data-note":a.dataNote,"update-data-note":a.updateDataNote,"note-phase1":a.notePhase1,"note-phase2":a.notePhase2,"note-phase3":a.notePhase3,"note-phase4":a.notePhase4,"modal-note":d.modalNote,phase1Attachments:a.dataAttachPhase1,phase2Attachments:a.dataAttachPhase2,phase3Attachments:a.dataAttachPhase3,phase4Attachments:a.dataAttachPhase4,phase5Attachments:a.dataAttachPhase5,submissions:a.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})):(p(),h(G,{key:3,value:"2"},{default:t(()=>[ha]),_:1})),a.userData&&a.userData.position.role.isPhase3Access==1?(p(),h(G,{key:4,value:"3"},{default:t(()=>[e(o,{dataFile:a.dataFile,userData:a.userData,"insert-note":d.insertNote,"change-approval":d.changeApproval,"format-date":d.formatDate,"open-modal":d.openModal,"delete-attachment":d.deleteAttachment,"delete-note":d.deleteNote,"get-detail-file":d.getDetailFile,step:d.step,"file-id":d.formatFileId(a.fileId),"user-access":a.userAccess,"reset-note":d.resetNote,"data-note":a.dataNote,"update-data-note":a.updateDataNote,"note-phase1":a.notePhase1,"note-phase2":a.notePhase2,"note-phase3":a.notePhase3,"note-phase4":a.notePhase4,"modal-note":d.modalNote,phase1Attachments:a.dataAttachPhase1,phase2Attachments:a.dataAttachPhase2,phase3Attachments:a.dataAttachPhase3,phase4Attachments:a.dataAttachPhase4,phase5Attachments:a.dataAttachPhase5,submissions:a.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})):(p(),h(G,{key:5,value:"3"},{default:t(()=>[ca]),_:1})),a.userData&&a.userData.position.role.isPhase4Access==1?(p(),h(G,{key:6,value:"4"},{default:t(()=>[e(o,{dataFile:a.dataFile,userData:a.userData,"insert-note":d.insertNote,"change-approval":d.changeApproval,"format-date":d.formatDate,"open-modal":d.openModal,"delete-attachment":d.deleteAttachment,"delete-note":d.deleteNote,"get-detail-file":d.getDetailFile,step:d.step,"file-id":d.formatFileId(a.fileId),"user-access":a.userAccess,"reset-note":d.resetNote,"data-note":a.dataNote,"update-data-note":a.updateDataNote,"note-phase1":a.notePhase1,"note-phase2":a.notePhase2,"note-phase3":a.notePhase3,"note-phase4":a.notePhase4,"modal-note":d.modalNote,phase1Attachments:a.dataAttachPhase1,phase2Attachments:a.dataAttachPhase2,phase3Attachments:a.dataAttachPhase3,phase4Attachments:a.dataAttachPhase4,phase5Attachments:a.dataAttachPhase5,submissions:a.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})):(p(),h(G,{key:7,value:"4"},{default:t(()=>[fa]),_:1})),e(G,{value:"5"},{default:t(()=>[e(o,{dataFile:a.dataFile,userData:a.userData,"insert-note":d.insertNote,"change-approval":d.changeApproval,"format-date":d.formatDate,"open-modal":d.openModal,"delete-attachment":d.deleteAttachment,"delete-note":d.deleteNote,"get-detail-file":d.getDetailFile,step:d.step,"file-id":d.formatFileId(a.fileId),"user-access":a.userAccess,"reset-note":d.resetNote,"data-note":a.dataNote,"update-data-note":a.updateDataNote,"note-phase1":a.notePhase1,"note-phase2":a.notePhase2,"note-phase3":a.notePhase3,"note-phase4":a.notePhase4,"modal-note":d.modalNote,phase1Attachments:a.dataAttachPhase1,phase2Attachments:a.dataAttachPhase2,phase3Attachments:a.dataAttachPhase3,phase4Attachments:a.dataAttachPhase4,phase5Attachments:a.dataAttachPhase5,submissions:a.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1}),e(G,{value:"6"},{default:t(()=>[e(o,{dataFile:a.dataFile,userData:a.userData,"insert-note":d.insertNote,"change-approval":d.changeApproval,"format-date":d.formatDate,"open-modal":d.openModal,"delete-attachment":d.deleteAttachment,"delete-note":d.deleteNote,"get-detail-file":d.getDetailFile,step:d.step,"file-id":d.formatFileId(a.fileId),"user-access":a.userAccess,"reset-note":d.resetNote,"data-note":a.dataNote,"update-data-note":a.updateDataNote,"note-phase1":a.notePhase1,"note-phase2":a.notePhase2,"note-phase3":a.notePhase3,"note-phase4":a.notePhase4,"modal-note":d.modalNote,phase1Attachments:a.dataAttachPhase1,phase2Attachments:a.dataAttachPhase2,phase3Attachments:a.dataAttachPhase3,phase4Attachments:a.dataAttachPhase4,phase5Attachments:a.dataAttachPhase5,submissions:a.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})]),_:1})]),_:1},8,["model-value","mobile"])]),_:1})]),_:1}),e(K,{modelValue:a.insertAttch,"onUpdate:modelValue":l[9]||(l[9]=r=>a.insertAttch=r),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Tambah Data ")]),text:t(()=>[e(O,{onSubmit:N(d.insertAttachment,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Pilih Keterangan File",items:a.nameFileList,autofocus:"",modelValue:a.attachFile.name,"onUpdate:modelValue":l[0]||(l[0]=r=>a.attachFile.name=r),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[ga,_a,e(x,{class:"my-3",modelValue:a.attachFile.note,"onUpdate:modelValue":l[1]||(l[1]=r=>a.attachFile.note=r),rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[ya,ka,e(H,{modelValue:a.selectedOption,"onUpdate:modelValue":l[2]||(l[2]=r=>a.selectedOption=r),mandatory:!0,row:""},{default:t(()=>[e(M,{label:"File",value:"file"}),e(M,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),a.selectedOption==="file"?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[va,ba,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[3]||(l[3]=r=>d.handleFileChange(r))},null,8,["rules"])]),_:1})):c("",!0),a.selectedOption==="link"?(p(),h(m,{key:1,md:"12",cols:"12"},{default:t(()=>[Aa,Sa,e(x,{class:"my-3",modelValue:a.attachFile.link,"onUpdate:modelValue":l[4]||(l[4]=r=>a.attachFile.link=r),autofocus:"",rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1})):c("",!0),a.dataFile.phase>=2?(p(),h(m,{key:2,md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:a.attachFile.isSecret,"onUpdate:modelValue":l[5]||(l[5]=r=>a.attachFile.isSecret=r),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.attachFile.isApprove,"onUpdate:modelValue":l[6]||(l[6]=r=>a.attachFile.isApprove=r),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit",disabled:!(a.attachFile.name&&(a.attachFile.path||a.attachFile.link)&&a.attachFile.isApprove===1&&a.attachFile.note!==null)},{default:t(()=>[u(" Simpan ")]),_:1},8,["disabled"]),n("button",{type:"button",class:"btn btn-blue",onClick:l[7]||(l[7]=r=>d.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[8]||(l[8]=r=>a.uploadProgress=r),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.updateAttch,"onUpdate:modelValue":l[16]||(l[16]=r=>a.updateAttch=r),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Edit Data ")]),text:t(()=>[e(O,{onSubmit:N(d.editAttachment,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[Fa,Pa,e(x,{class:"my-3",modelValue:a.attachFile.name,"onUpdate:modelValue":l[10]||(l[10]=r=>a.attachFile.name=r),autofocus:"",rules:[a.rules.required],disabled:""},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[xa,Da,e(E,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[a.rules.required],onChange:l[11]||(l[11]=r=>d.handleFileChange(r))},null,8,["rules"])]),_:1}),a.dataFile.phase==2?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Termasuk File Rahasia ? (SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:a.attachFile.isSecret,"onUpdate:modelValue":l[12]||(l[12]=r=>a.attachFile.isSecret=r),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1})):c("",!0),e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:a.attachFile.isApprove,"onUpdate:modelValue":l[13]||(l[13]=r=>a.attachFile.isApprove=r),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Update ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[14]||(l[14]=r=>d.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[15]||(l[15]=r=>a.uploadProgress=r),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isUpdateGeneralInfo,"onUpdate:modelValue":l[32]||(l[32]=r=>a.isUpdateGeneralInfo=r),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Edit Informasi Umum ")]),text:t(()=>[e(O,{onSubmit:N(d.updateGeneralInfo,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[Ia,wa,e(T,{items:a.typeCreditList,autofocus:"",modelValue:a.generalInfo.type,"onUpdate:modelValue":l[17]||(l[17]=r=>a.generalInfo.type=r),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Va,Ta,e(x,{class:"my-3",modelValue:a.generalInfo.name,"onUpdate:modelValue":l[18]||(l[18]=r=>a.generalInfo.name=r),rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Ca,Ua,e(x,{class:"my-3",modelValue:a.generalInfo.plafon,"onUpdate:modelValue":l[19]||(l[19]=r=>a.generalInfo.plafon=r),type:"text",onInput:d.formatInputPlafon},null,8,["modelValue","onInput"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Ka,ja,e(T,{items:a.orderList,modelValue:a.generalInfo.order_source,"onUpdate:modelValue":l[20]||(l[20]=r=>a.generalInfo.order_source=r),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Ma,Na,e(T,{items:a.statusCreditList,modelValue:a.generalInfo.status_kredit,"onUpdate:modelValue":l[21]||(l[21]=r=>a.generalInfo.status_kredit=r),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Oa,qa,e(x,{class:"my-3",modelValue:a.generalInfo.type_bussiness,"onUpdate:modelValue":l[22]||(l[22]=r=>a.generalInfo.type_bussiness=r),rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[La,Ra,e(x,{class:"my-3",modelValue:a.generalInfo.desc_bussiness,"onUpdate:modelValue":l[23]||(l[23]=r=>a.generalInfo.desc_bussiness=r),rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[za,Ea,e(x,{class:"my-3",modelValue:a.generalInfo.nik_pemohon,"onUpdate:modelValue":l[24]||(l[24]=r=>a.generalInfo.nik_pemohon=r),rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Ba,Ga,e(x,{class:"my-3",modelValue:a.generalInfo.address,"onUpdate:modelValue":l[25]||(l[25]=r=>a.generalInfo.address=r),rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Ha,e(x,{class:"my-3",modelValue:a.generalInfo.nik_pasangan,"onUpdate:modelValue":l[26]||(l[26]=r=>a.generalInfo.nik_pasangan=r),hint:"Kosongkan jika tidak ada"},null,8,["modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Ja,e(x,{class:"my-3",modelValue:a.generalInfo.nik_jaminan,"onUpdate:modelValue":l[27]||(l[27]=r=>a.generalInfo.nik_jaminan=r),hint:"Kosongkan jika tidak ada"},null,8,["modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Wa,e(x,{type:"text",class:"my-3",modelValue:a.generalInfo.name_pasangan,"onUpdate:modelValue":l[28]||(l[28]=r=>a.generalInfo.name_pasangan=r),hint:"kosongkan jika tidak ada"},null,8,["modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[Xa,e(x,{class:"my-3",modelValue:a.generalInfo.no_hp,"onUpdate:modelValue":l[29]||(l[29]=r=>a.generalInfo.no_hp=r),rules:[a.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Update ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[30]||(l[30]=r=>d.closeModal(4))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(z,{modelValue:a.uploadProgress,"onUpdate:modelValue":l[31]||(l[31]=r=>a.uploadProgress=r),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isUpdateNote,"onUpdate:modelValue":l[34]||(l[34]=r=>a.isUpdateNote=r),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Update Note ")]),text:t(()=>[e(O,{onSubmit:N(d.updateNote,["prevent"])},{default:t(()=>[e(I,{align:"center",justify:"center"},{default:t(()=>[e(m,{md:"10",cols:"10"},{default:t(()=>[e(se,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:a.updateDataNote.note,"onUpdate:modelValue":l[33]||(l[33]=r=>a.updateDataNote.note=r),rows:"2"},null,8,["modelValue"])]),_:1}),e(m,{md:"2",cols:"2"},{default:t(()=>[e(F,{density:"compact",icon:"mdi-note-plus",type:"submit"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isDataPhase3,"onUpdate:modelValue":l[37]||(l[37]=r=>a.isDataPhase3=r),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Hasil Survey ")]),text:t(()=>[e(O,{onSubmit:N(d.updatePhase3,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[Ya,Qa,e(se,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:a.dataPhase3.surveyResult,"onUpdate:modelValue":l[35]||(l[35]=r=>a.dataPhase3.surveyResult=r),rows:"3"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u("Update")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[36]||(l[36]=r=>d.closeModal(5))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isShowTimers,"onUpdate:modelValue":l[38]||(l[38]=r=>a.isShowTimers=r),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Waktu ")]),text:t(()=>[e(w,{headers:a.timerHeaders,items:a.dataFile.phase_times},{"item-timeDiff":t(r=>[u(y(d.calculateTimeDiff(r.startTime,r.endTime)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isShowAttachment,"onUpdate:modelValue":l[39]||(l[39]=r=>a.isShowAttachment=r),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Waktu ")]),text:t(()=>[e(w,{headers:a.attachmentHeaders,items:a.attachments},null,8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isShowHistory,"onUpdate:modelValue":l[40]||(l[40]=r=>a.isShowHistory=r),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Data Riwayat ")]),text:t(()=>[e(w,{"show-index":"",headers:a.historyHeaders,items:a.dataFile.file_activities},{"item-created_at":t(r=>[u(y(d.formatDate(r.created_at)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isShowApprovals,"onUpdate:modelValue":l[41]||(l[41]=r=>a.isShowApprovals=r),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Riwayat Persetujuan ")]),text:t(()=>[e(w,{headers:a.approvalHeaders,items:a.dataFile.approvals},{"item-approved":t(r=>[parseInt(r.approved)==1?(p(),h(L,{key:0,color:"success"},{default:t(()=>[u(" Disetujui ")]),_:1})):(p(),h(L,{key:1,color:"error"},{default:t(()=>[u(" Belum disetujui ")]),_:1}))]),"item-created_at":t(r=>[u(y(d.formatDate(r.created_at)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isChangeStatusCredit,"onUpdate:modelValue":l[45]||(l[45]=r=>a.isChangeStatusCredit=r),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Ubah Status File ")]),text:t(()=>[e(O,{onSubmit:N(d.updateStatusCredit,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[e(T,{label:"Ubah Status File",items:[{value:1,title:"Approved"},{value:2,title:"Pending"},{value:3,title:"Rejected"}],modelValue:a.changeStatus.status,"onUpdate:modelValue":l[42]||(l[42]=r=>a.changeStatus.status=r)},null,8,["modelValue"])]),_:1}),a.changeStatus.status==3?(p(),h(m,{key:0,md:"12",cols:"12"},{default:t(()=>[Za,$a,e(se,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:a.changeStatus.reasonRejected,"onUpdate:modelValue":l[43]||(l[43]=r=>a.changeStatus.reasonRejected=r),rows:"2"},null,8,["modelValue"])]),_:1})):c("",!0),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[44]||(l[44]=r=>d.closeModal(9))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isInsertNewApproval,"onUpdate:modelValue":l[50]||(l[50]=r=>a.isInsertNewApproval=r),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Tambah Approval ")]),text:t(()=>[e(O,{onSubmit:N(d.insertNewApproval,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[es,ts,e(T,{items:a.listUser,autofocus:"",modelValue:a.dataApproval.user_id,"onUpdate:modelValue":l[46]||(l[46]=r=>a.dataApproval.user_id=r),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[ls,as,e(T,{items:a.listPhase,autofocus:"",modelValue:a.dataApproval.phase,"onUpdate:modelValue":l[47]||(l[47]=r=>a.dataApproval.phase=r),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(m,{md:"12",cols:"12"},{default:t(()=>[ss,n("span",is,[u("Pilih Status: "),e(T,{items:a.listApproval,autofocus:"",modelValue:a.dataApproval.approved,"onUpdate:modelValue":l[48]||(l[48]=r=>a.dataApproval.approved=r),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Tambah ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[49]||(l[49]=r=>d.closeModal(10))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:a.isDeleteApproval,"onUpdate:modelValue":l[53]||(l[53]=r=>a.isDeleteApproval=r),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(v,null,{title:t(()=>[u(" Hapus Approval ")]),text:t(()=>[e(O,{onSubmit:N(d.deleteApproval,["prevent"])},{default:t(()=>[e(I,null,{default:t(()=>[e(m,{md:"12",cols:"12"},{default:t(()=>[os,ns,e(T,{items:a.listedApproval,autofocus:"",modelValue:a.idDeleteApproval,"onUpdate:modelValue":l[51]||(l[51]=r=>a.idDeleteApproval=r),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(F,{type:"submit"},{default:t(()=>[u(" Hapus ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:l[52]||(l[52]=r=>d.closeModal(11))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])])}const Vs=Y(pa,[["render",rs],["__scopeId","data-v-370af5d8"]]);export{Vs as default};
