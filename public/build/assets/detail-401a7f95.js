import{m as w}from"./index-8a05cf38.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import{c as S,d as h,e as U,V as k,b as O,g as de}from"./VRow-89e21357.js";import{a as B,c as V,d as H,b as F,V as ue}from"./VMenu-8c8ca00a.js";import{o as u,h as c,w as l,a as t,c as _,F as J,e as p,t as y,i as f,b as n,M as v,f as m,G as L,E as Z,d as K,V as I,a2 as z,r as E,H as oe,I as ne}from"./main-5eb3ec29.js";import{V as P}from"./VTooltip-88605d4b.js";import{V as $}from"./VOverlay-f81185fe.js";import{V as N,a as x}from"./VTextField-372129d2.js";import{V as Q,a as q}from"./VRadioGroup-654bc8f0.js";import{b as G}from"./VWindowItem-366a6f8a.js";import{V as T}from"./VSelect-dd5c487a.js";import{V as C}from"./VDialog-6f1a207e.js";import{V as j,a as pe}from"./VChip-b308d721.js";import{V as X}from"./VDivider-dfafb7c0.js";import{V as te,a as ce,b as he,c as me,d as W,e as fe,f as R}from"./VStepper-ea020afe.js";import{V as ge}from"./VSpacer-bae86a63.js";import"./VImg-6a3f2a2c.js";import"./dialog-transition-4168eb3c.js";import"./VCheckboxBtn-c5b7ce72.js";const ye={name:"AttachmentCard1",props:{data:{type:Object,required:!0},fileId:{type:Number,required:!0},filePath:{type:String,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},openModal:{type:Function,required:!0}}},Ae=n("span",null,"Phase 1 (Pooling) ðŸ“„",-1),_e={class:"operation-wrapper"},ve={class:"d-flex justify-space-between"},ke=["href"],be=["onClick"],Fe=["onClick"],Pe={class:"operation-wrapper"},Se={class:"d-flex justify-space-between"},De=["href"],xe=["onClick"],we=["onClick"];function Ie(s,a,i,g,e,r){return u(),c(k,{color:"warning"},{default:l(()=>[t(U,null,{default:l(()=>[t(S,{class:"d-flex justify-space-between"},{default:l(()=>[t(h,{cols:"12",sm:"6",md:"8"},{default:l(()=>[Ae]),_:1})]),_:1})]),_:1}),(u(!0),_(L,null,J(i.data,(o,D)=>(u(),_("div",{key:D},[o.path!=null&&!parseInt(o.isSecret)?(u(),c(B,{key:0,density:"compact"},{default:l(()=>[t(F,null,{prepend:l(()=>[p(y(o.isApprove?"âœ…":"âŒ")+" ",1),t(f,{icon:"mdi-file"})]),append:l(()=>[n("div",_e,[n("div",ve,[o.path!="null"?(u(),c(P,{key:0,location:"top",text:"Lihat File"},{activator:l(({props:d})=>[n("a",v(d,{href:i.filePath+"/"+i.fileId+"/"+o.path,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,ke)]),_:2},1024)):m("",!0),i.userAccess&&parseInt(i.userAccess.canUpdateData)?(u(),c(P,{key:1,location:"top",text:"Edit File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>i.openModal(2,o)}),[t(f,{size:"20",icon:"bx-edit",color:"blue"})],16,be)]),_:2},1024)):m("",!0),i.userAccess&&parseInt(i.userAccess.canDeleteData)?(u(),c(P,{key:2,location:"top",text:"Hapus File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>i.deleteAttachment(o.id)}),[t(f,{size:"20",icon:"bx-trash",color:"red"})],16,Fe)]),_:2},1024)):m("",!0)])])]),default:l(()=>[t(V,null,{default:l(()=>[p(y(o.name),1)]),_:2},1024),o.note!=null?(u(),c(H,{key:0},{default:l(()=>[p(y(o.note),1)]),_:2},1024)):m("",!0)]),_:2},1024)]),_:2},1024)):(u(),c(B,{key:1,density:"compact"},{default:l(()=>[t(F,null,{prepend:l(()=>[p(y(o.isApprove?"âœ…":"âŒ")+" ",1),t(f,{icon:"mdi-file"})]),append:l(()=>[n("div",Pe,[n("div",Se,[i.userAccess&&parseInt(i.userAccess.isSecret)&&o.path!="null"?(u(),c(P,{key:0,location:"top",text:"Lihat File"},{activator:l(({props:d})=>[n("a",v(d,{href:i.filePath+"/"+s.dataFile.id+"/"+o.path,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,De)]),_:2},1024)):m("",!0),i.userAccess&&parseInt(i.userAccess.canUpdateData)?(u(),c(P,{key:1,location:"top",text:"Edit File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>i.openModal(2,o)}),[t(f,{size:"20",icon:"bx-edit",color:"blue"})],16,xe)]),_:2},1024)):m("",!0),i.userAccess&&parseInt(i.userAccess.canDeleteData)?(u(),c(P,{key:2,location:"top",text:"Hapus File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>i.deleteAttachment(o.id)}),[t(f,{size:"20",icon:"bx-trash",color:"red"})],16,we)]),_:2},1024)):m("",!0)])])]),default:l(()=>[t(V,null,{default:l(()=>[p(y(o.name),1)]),_:2},1024),o.note!=null?(u(),c(H,{key:0},{default:l(()=>[p(y(o.note),1)]),_:2},1024)):m("",!0)]),_:2},1024)]),_:2},1024))]))),128))]),_:1})}const Ve=Y(ye,[["render",Ie]]),Te={props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0}},watch:{selectedOption(s){s==="file"?this.formDetailSlik.link=null:s==="link"&&(this.formDetailSlik.path=null)}},data(){return{overlay:!1,selectedOption:"",uploadProgress:null,rules:{required:s=>!!s||"Required"},isFormDetailSlik:!1,formDetailSlik:{id:null,name:null,path:null,link:null,file_id:this.fileId,isApprove:0,isSecret:0},isFormResumeSlik:!1,formResumeSlik:{id:null,name:null,path:null,link:null,file_id:this.fileId,isApprove:0,isSecret:0},isAppeal:!1,formAppeal:{id:null,file_id:this.fileId,phase:2,name:"File Banding",path:null,link:null,isApprove:0,isSecret:0},isAnalytic:!1,formAnalytic:{id:null,file_id:this.fileId,link:null,phase:2,name:"Analisa Awal Kredit AO",path:null,isApprove:0,isSecret:0}}},methods:{shouldDisplay(s){return s.name==="Detail SLIK"&&parseInt(this.userAccess.isSecret)==1||s.name==="Resume SLIK"},showAnalisaAwalCredit(){const s=this.data.find(i=>i.name==="Detail SLIK"&&i.isApprove==1&&i.path!="null"),a=this.data.find(i=>i.name==="Resume SLIK"&&i.isApprove==1);if(s&&a){let i=this.data.find(g=>g.name=="Analisa Awal Kredit AO");i&&(this.formAnalytic.id=i.id,this.formAnalytic.isApprove=parseInt(i.isApprove),this.formAnalytic.isSecret=parseInt(i.isSecret),this.formAnalytic.path=i.path,this.formAnalytic.link=i.link)}return s&&a},showFileBanding(){const s=this.data.find(e=>e.name=="Detail SLIK"&&e.isApprove!=1&&e.path!="null"),a=this.data.find(e=>e.name=="Resume SLIK"&&e.isApprove!=1&&e.path!="null"),i=this.data.find(e=>e.name==="File Banding"&&e.path!="null"),g=this.data.find(e=>e.name==="Analisa Awal Kredit AO"&&e.path!="null");if(s&&a||i&&g){let e=this.data.find(r=>r.name==="File Banding");return e&&(this.formAppeal.id=e.id,this.formAppeal.isApprove=parseInt(e.isApprove),this.formAppeal.isSecret=parseInt(e.isSecret),this.formAppeal.path=e.path),!0}return!1},handleFileChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formDetailSlik.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},handleAnalyticChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formAnalytic.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},handleAppealChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formAppeal.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},openModal(s,a=null){s==1?a.name=="Detail SLIK"?(this.formDetailSlik.id=a.id,this.formDetailSlik.name=a.name,this.formDetailSlik.isSecret=parseInt(a.isSecret),this.formDetailSlik.isApprove=parseInt(a.isApprove),this.isFormDetailSlik=!0):a.name=="Resume SLIK"&&(this.formDetailSlik.id=a.id,this.formDetailSlik.name=a.name,this.formDetailSlik.isSecret=parseInt(a.isSecret),this.formDetailSlik.isApprove=parseInt(a.isApprove),this.isFormResumeSlik=!0):s==2?this.isAnalytic=!0:s==3&&(this.isAppeal=!0)},closeModal(s){s==1?(this.formDetailSlik.id=null,this.formDetailSlik.name=null,this.formDetailSlik.isSecret=0,this.formDetailSlik.isApprove=0,this.isFormDetailSlik=!1):s==2?(this.formDetailSlik.id=null,this.formDetailSlik.name=null,this.formDetailSlik.isSecret=0,this.formDetailSlik.isApprove=0,this.isFormResumeSlik=!1):s==3?(this.formAnalytic.id=null,this.formAnalytic.isSecret=0,this.formAnalytic.isApprove=0,this.formAnalytic.path=null,this.isAnalytic=!1):s==4&&(this.formAppeal.id=null,this.formAppeal.isSecret=0,this.formAppeal.isApprove=0,this.formAppeal.path=null,this.isAppeal=!1)},async insertSlik(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formDetailSlik.name),this.formDetailSlik.path!="null"?s.append("path",this.formDetailSlik.path):this.formDetailSlik.link!=null&&s.append("link",this.formDetailSlik.link),s.append("isSecret",this.formDetailSlik.isSecret),s.append("isApprove",this.formDetailSlik.isApprove),s.append("file_id",this.formDetailSlik.file_id),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(e){console.error("Error calculating progress:",e)}},headers:{"Content-Type":"multipart/form-data"}},i=await w.post(`/user/edit-attach/${this.formDetailSlik.id}`,s,a);i.status===200?(this.overlay=!1,this.closeModal(1),this.closeModal(2),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.closeModal(2),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertAnalytic(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAnalytic.name),this.formAnalytic.path!="null"?s.append("path",this.formAnalytic.path):this.formAnalytic.link!=null&&s.append("link",this.formAnalytic.link),s.append("phase",this.formAnalytic.phase),s.append("isSecret",this.formAnalytic.isSecret),s.append("file_id",this.formAnalytic.file_id),s.append("isApprove",this.formAnalytic.isApprove),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(e){console.error("Error calculating progress:",e)}},headers:{"Content-Type":"multipart/form-data"}},i=await w.post(`/user/edit-attach/${this.formAnalytic.id}`,s,a);i.status===200?(this.overlay=!1,this.closeModal(3),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(3),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(3),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertAppeal(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAppeal.name),this.formAppeal.path!=null?s.append("path",this.formAppeal.path):this.formAppeal.link!=null&&s.append("link",this.formAppeal.link),s.append("phase",this.formAppeal.phase),s.append("isSecret",this.formAppeal.isSecret),s.append("file_id",this.formAppeal.file_id),s.append("isApprove",this.formAppeal.isApprove),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(e){console.error("Error calculating progress:",e)}},headers:{"Content-Type":"multipart/form-data"}},i=await w.post(`/user/edit-attach/${this.formAppeal.id}`,s,a);i.status===200?(this.overlay=!1,this.closeModal(4),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(4),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(4),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}}},Ce=n("span",null,"Phase 2 (SLIK) ðŸ“„",-1),Ue={class:"operation-wrapper"},Ke={class:"d-flex justify-space-between"},Ne=["href"],Me=["href"],je=["onClick"],Oe=["onClick"],qe={key:0},Le={class:"operation-wrapper"},Re={class:"d-flex justify-space-between"},ze=["href"],Be=["href"],Ge={key:1},Ee={class:"operation-wrapper"},He={class:"d-flex justify-space-between"},Je=["href"],Ye=["href"],We=n("span",{style:{color:"red"}},"*",-1),Xe=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),Qe=n("span",{style:{color:"red"}},"*",-1),Ze=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),$e=n("span",{style:{color:"red"}},"*",-1),et=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),tt=n("span",{style:{color:"red"}},"*",-1),lt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),at=n("span",{style:{color:"red"}},"*",-1),st=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),it=n("span",{style:{color:"red"}},"*",-1),ot=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),nt=n("span",{style:{color:"red"}},"*",-1),rt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),dt=n("span",{style:{color:"red"}},"*",-1),ut=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),pt=n("span",{style:{color:"red"}},"*",-1),ct=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),ht=n("span",{style:{color:"red"}},"*",-1),mt=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),ft=n("span",{style:{color:"red"}},"*",-1),gt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),yt=n("span",{style:{color:"red"}},"*",-1),At=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),_t=n("span",{style:{color:"red"}},"*",-1),vt=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),kt=n("span",{style:{color:"red"}},"*",-1),bt=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),Ft=n("span",{style:{color:"red"}},"*",-1),Pt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),St=n("span",{style:{color:"red"}},"*",-1),Dt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1);function xt(s,a,i,g,e,r){return u(),_(L,null,[t($,{"model-value":e.overlay,class:"align-center justify-center"},{default:l(()=>[t(Z,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),p(" Loading... ")]),_:1},8,["model-value"]),t(k,{color:"warning"},{default:l(()=>[t(U,null,{default:l(()=>[t(S,{class:"d-flex justify-space-between"},{default:l(()=>[t(h,{cols:"12",sm:"6",md:"8"},{default:l(()=>[Ce]),_:1})]),_:1})]),_:1}),(u(!0),_(L,null,J(i.data,(o,D)=>(u(),_("div",{key:D},[t(B,{density:"compact"},{default:l(()=>[r.shouldDisplay(o)?(u(),c(F,{key:0},{prepend:l(()=>[p(y(parseInt(o.isApprove)?"âœ…":"âŒ")+" ",1),t(f,{icon:"mdi-file"})]),append:l(()=>[n("div",Ue,[n("div",Ke,[o.path!=="null"||o.link!==null?(u(),c(P,{key:0,location:"top",text:"Lihat File"},{activator:l(({props:d})=>[o.path!=="null"?(u(),_("a",v({key:0},d,{href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Ne)):m("",!0),o.link!==null?(u(),_("a",v({key:1},d,{href:`${o.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Me)):m("",!0)]),_:2},1024)):m("",!0),o.path==="null"&&o.link===null&&i.userAccess&&parseInt(i.userAccess.canInsertData)==1?(u(),c(P,{key:1,location:"top",text:"Upload File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>r.openModal(1,o)}),[t(f,{size:"20",icon:"bx-upload",color:"blue"})],16,je)]),_:2},1024)):m("",!0),i.userAccess&&parseInt(i.userAccess.canUpdateData)?(u(),c(P,{key:2,location:"top",text:"Edit File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>r.openModal(1,o)}),[t(f,{size:"20",icon:"bx-edit",color:"blue"})],16,Oe)]),_:2},1024)):m("",!0)])])]),default:l(()=>[t(V,null,{default:l(()=>[p(y(o.name),1)]),_:2},1024),o.note!=null?(u(),c(H,{key:0},{default:l(()=>[p(y(o.note),1)]),_:2},1024)):m("",!0)]),_:2},1024)):m("",!0)]),_:2},1024)]))),128)),r.showAnalisaAwalCredit()?(u(),_("div",qe,[t(B,{density:"compact"},{default:l(()=>[t(F,null,{prepend:l(()=>[p(y(parseInt(e.formAnalytic.isApprove)?"âœ…":"âŒ")+" ",1),t(f,{icon:"mdi-file"})]),append:l(()=>[n("div",Le,[n("div",Re,[e.formAnalytic.path!=="null"||e.formAnalytic.link!==null?(u(),c(P,{key:0,location:"top",text:"Lihat File"},{activator:l(({props:o})=>[e.formAnalytic.path!=="null"?(u(),_("a",v({key:0},o,{href:`${i.filePath}/${i.fileId}/${e.formAnalytic.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,ze)):m("",!0),e.formAnalytic.link!==null?(u(),_("a",v({key:1},o,{href:`${e.formAnalytic.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Be)):m("",!0)]),_:1})):m("",!0),(e.formAnalytic.path==null||e.formAnalytic.path=="null"||e.formAnalytic.link==null)&&i.userAccess&&parseInt(i.userAccess.canAppeal)==1?(u(),c(P,{key:1,location:"top",text:"Upload File"},{activator:l(({props:o})=>[n("button",v(o,{onClick:a[0]||(a[0]=D=>r.openModal(2,e.formAnalytic))}),[t(f,{size:"20",icon:"bx-upload",color:"blue"})],16)]),_:1})):m("",!0),i.userAccess&&parseInt(i.userAccess.canAppeal)==1?(u(),c(P,{key:2,location:"top",text:"Edit File"},{activator:l(({props:o})=>[n("button",v(o,{onClick:a[1]||(a[1]=D=>r.openModal(2,e.formAnalytic))}),[t(f,{size:"20",icon:"bx-edit",color:"blue"})],16)]),_:1})):m("",!0)])])]),default:l(()=>[t(V,null,{default:l(()=>[p(y(e.formAnalytic.name),1)]),_:1}),e.formAnalytic.note!=null?(u(),c(H,{key:0},{default:l(()=>[p(y(e.formAnalytic.note),1)]),_:1})):m("",!0)]),_:1})]),_:1})])):m("",!0),r.showFileBanding()?(u(),_("div",Ge,[t(B,{density:"compact"},{default:l(()=>[t(F,null,{prepend:l(()=>[p(y(parseInt(e.formAppeal.isApprove)?"âœ…":"âŒ")+" ",1),t(f,{icon:"mdi-file"})]),append:l(()=>[n("div",Ee,[n("div",He,[e.formAppeal.path!=="null"||e.formAppeal.link!==null?(u(),c(P,{key:0,location:"top",text:"Lihat File"},{activator:l(({props:o})=>[e.formAppeal.path!=="null"?(u(),_("a",v({key:0},o,{href:`${i.filePath}/${i.fileId}/${e.formAppeal.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Je)):m("",!0),e.formAppeal.link!==null?(u(),_("a",v({key:1},o,{href:`${e.formAppeal.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Ye)):m("",!0)]),_:1})):m("",!0),(e.formAppeal.path==null||e.formAppeal.path=="null")&&i.userAccess&&parseInt(i.userAccess.canAppeal)==1?(u(),c(P,{key:1,location:"top",text:"Upload File"},{activator:l(({props:o})=>[n("button",v(o,{onClick:a[2]||(a[2]=D=>r.openModal(3,e.formAppeal))}),[t(f,{size:"20",icon:"bx-upload",color:"blue"})],16)]),_:1})):m("",!0),i.userAccess&&parseInt(i.userAccess.canAppeal)==1?(u(),c(P,{key:2,location:"top",text:"Edit File"},{activator:l(({props:o})=>[n("button",v(o,{onClick:a[3]||(a[3]=D=>r.openModal(3,e.formAppeal))}),[t(f,{size:"20",icon:"bx-edit",color:"blue"})],16)]),_:1})):m("",!0)])])]),default:l(()=>[t(V,null,{default:l(()=>[p(y(e.formAppeal.name),1)]),_:1})]),_:1})]),_:1})])):m("",!0)]),_:1}),t(C,{modelValue:e.isFormDetailSlik,"onUpdate:modelValue":a[12]||(a[12]=o=>e.isFormDetailSlik=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Attachmenta ")]),text:l(()=>[t(N,{onSubmit:K(r.insertSlik,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[We,Xe,t(x,{class:"my-3",modelValue:e.formDetailSlik.name,"onUpdate:modelValue":a[4]||(a[4]=o=>e.formDetailSlik.name=o),autofocus:"",disabled:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[Qe,Ze,t(Q,{modelValue:e.selectedOption,"onUpdate:modelValue":a[5]||(a[5]=o=>e.selectedOption=o),mandatory:!0,row:""},{default:l(()=>[t(q,{label:"File",value:"file"}),t(q,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),e.selectedOption==="file"?(u(),c(h,{key:0,md:"12",cols:"12"},{default:l(()=>[$e,et,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[6]||(a[6]=o=>{r.handleFileChange(o),e.formDetailSlik.link=null})},null,8,["rules"])]),_:1})):m("",!0),e.selectedOption==="link"?(u(),c(h,{key:1,md:"12",cols:"12"},{default:l(()=>[tt,lt,t(x,{class:"my-3",modelValue:e.formDetailSlik.link,"onUpdate:modelValue":a[7]||(a[7]=o=>e.formDetailSlik.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formDetailSlik.isSecret,"onUpdate:modelValue":a[8]||(a[8]=o=>e.formDetailSlik.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formDetailSlik.isApprove,"onUpdate:modelValue":a[9]||(a[9]=o=>e.formDetailSlik.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[10]||(a[10]=o=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[11]||(a[11]=o=>e.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isFormResumeSlik,"onUpdate:modelValue":a[21]||(a[21]=o=>e.isFormResumeSlik=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Attachment ")]),text:l(()=>[t(N,{onSubmit:K(r.insertSlik,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[at,st,t(x,{class:"my-3",modelValue:e.formDetailSlik.name,"onUpdate:modelValue":a[13]||(a[13]=o=>e.formDetailSlik.name=o),autofocus:"",disabled:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[it,ot,t(Q,{modelValue:e.selectedOption,"onUpdate:modelValue":a[14]||(a[14]=o=>e.selectedOption=o),mandatory:!0,row:""},{default:l(()=>[t(q,{label:"File",value:"file"}),t(q,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),e.selectedOption==="file"?(u(),c(h,{key:0,md:"12",cols:"12"},{default:l(()=>[nt,rt,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[15]||(a[15]=o=>{r.handleFileChange(o),e.formDetailSlik.link=null})},null,8,["rules"])]),_:1})):m("",!0),e.selectedOption==="link"?(u(),c(h,{key:1,md:"12",cols:"12"},{default:l(()=>[dt,ut,t(x,{class:"my-3",modelValue:e.formDetailSlik.link,"onUpdate:modelValue":a[16]||(a[16]=o=>e.formDetailSlik.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formDetailSlik.isSecret,"onUpdate:modelValue":a[17]||(a[17]=o=>e.formDetailSlik.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formDetailSlik.isApprove,"onUpdate:modelValue":a[18]||(a[18]=o=>e.formDetailSlik.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[19]||(a[19]=o=>r.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[20]||(a[20]=o=>e.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isAnalytic,"onUpdate:modelValue":a[29]||(a[29]=o=>e.isAnalytic=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Analisis AO ")]),text:l(()=>[t(N,{onSubmit:K(r.insertAnalytic,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[pt,ct,t(x,{class:"my-3",modelValue:e.formAnalytic.name,"onUpdate:modelValue":a[22]||(a[22]=o=>e.formAnalytic.name=o),autofocus:"",disabled:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[ht,mt,t(Q,{modelValue:e.selectedOption,"onUpdate:modelValue":a[23]||(a[23]=o=>e.selectedOption=o),mandatory:!0,row:""},{default:l(()=>[t(q,{label:"File",value:"file"}),t(q,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),e.selectedOption==="file"?(u(),c(h,{key:0,md:"12",cols:"12"},{default:l(()=>[ft,gt,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[24]||(a[24]=o=>{r.handleAnalyticChange(o),e.formAnalytic.link=null})},null,8,["rules"])]),_:1})):m("",!0),e.selectedOption==="link"?(u(),c(h,{key:1,md:"12",cols:"12"},{default:l(()=>[yt,At,t(x,{class:"my-3",modelValue:e.formAnalytic.link,"onUpdate:modelValue":a[25]||(a[25]=o=>e.formAnalytic.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formAnalytic.isApprove,"onUpdate:modelValue":a[26]||(a[26]=o=>e.formAnalytic.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[27]||(a[27]=o=>r.closeModal(3))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[28]||(a[28]=o=>e.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isAppeal,"onUpdate:modelValue":a[37]||(a[37]=o=>e.isAppeal=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Banding AO ")]),text:l(()=>[t(N,{onSubmit:K(r.insertAppeal,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[_t,vt,t(x,{class:"my-3",modelValue:e.formAppeal.name,"onUpdate:modelValue":a[30]||(a[30]=o=>e.formAppeal.name=o),autofocus:"",disabled:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[kt,bt,t(Q,{modelValue:e.selectedOption,"onUpdate:modelValue":a[31]||(a[31]=o=>e.selectedOption=o),mandatory:!0,row:""},{default:l(()=>[t(q,{label:"File",value:"file"}),t(q,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),e.selectedOption==="file"?(u(),c(h,{key:0,md:"12",cols:"12"},{default:l(()=>[Ft,Pt,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[32]||(a[32]=o=>{r.handleAppealChange(o),e.formAppeal.link=null})},null,8,["rules"])]),_:1})):m("",!0),e.formAppeal==="link"?(u(),c(h,{key:1,md:"12",cols:"12"},{default:l(()=>[St,Dt,t(x,{class:"my-3",modelValue:e.formDetailSlik.link,"onUpdate:modelValue":a[33]||(a[33]=o=>e.formDetailSlik.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formAppeal.isApprove,"onUpdate:modelValue":a[34]||(a[34]=o=>e.formAppeal.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[35]||(a[35]=o=>r.closeModal(4))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[36]||(a[36]=o=>e.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const wt=Y(Te,[["render",xt]]),It={name:"AttachmentCard3",props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0}},watch:{selectedOption(s){s==="file"?this.formAnalisaKredit.link=null:s==="link"&&(this.formAnalisaKredit.path=null)}},data(){return{selectedOption:"",overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isAnalisaKredit:!1,formAnalisaKredit:{id:null,name:"Analisa Kredit",file_id:this.fileId,path:"null",link:null,isApprove:0,isSecret:0}}},methods:{openModal(s,a=null){s==1&&(this.formAnalisaKredit.id=a.id,this.formAnalisaKredit.name=a.name,this.formAnalisaKredit.link=a.link,this.formAnalisaKredit.path=a.path,this.formAnalisaKredit.isSecret=parseInt(a.isSecret),this.formAnalisaKredit.isApprove=parseInt(a.isApprove),this.isAnalisaKredit=!0)},closeModal(s){s==1&&(this.formAnalisaKredit.id=null,this.formAnalisaKredit.isSecret=0,this.formAnalisaKredit.isApprove=0,this.isAnalisaKredit=!1)},handleFileChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formAnalisaKredit.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},async insertAnalisa(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAnalisaKredit.name),s.append("isSecret",this.formAnalisaKredit.isSecret),s.append("isApprove",this.formAnalisaKredit.isApprove),s.append("file_id",this.formAnalisaKredit.file_id),this.formAnalisaKredit.path!="null"&&this.formAnalisaKredit.path!=null?s.append("path",this.formAnalisaKredit.path):this.formAnalisaKredit.link!=null&&s.append("link",this.formAnalisaKredit.link),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(e){console.error("Error calculating progress:",e)}},headers:{"Content-Type":"multipart/form-data"}},i=await w.post(`/user/edit-attach/${this.formAnalisaKredit.id}`,s,a);i.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}}},Vt=n("span",null,"Phase 3 (Analisa Kredit) ðŸ“„",-1),Tt={class:"operation-wrapper"},Ct={class:"d-flex justify-space-between"},Ut=["href"],Kt=["href"],Nt=["onClick"],Mt=["onClick"],jt=n("span",{style:{color:"red"}},"*",-1),Ot=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),qt=n("span",{style:{color:"red"}},"*",-1),Lt=n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1),Rt=n("span",{style:{color:"red"}},"*",-1),zt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1),Bt=n("span",{style:{color:"red"}},"*",-1),Gt=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1);function Et(s,a,i,g,e,r){return u(),_(L,null,[t($,{"model-value":e.overlay,class:"align-center justify-center"},{default:l(()=>[t(Z,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),p(" Loading... ")]),_:1},8,["model-value"]),t(k,{color:"warning"},{default:l(()=>[t(U,null,{default:l(()=>[t(S,{class:"d-flex justify-space-between"},{default:l(()=>[t(h,{cols:"12",sm:"6",md:"8"},{default:l(()=>[Vt]),_:1})]),_:1})]),_:1}),(u(!0),_(L,null,J(i.data,(o,D)=>(u(),_("div",{key:D},[t(B,{density:"compact"},{default:l(()=>[t(F,null,{prepend:l(()=>[p(y(parseInt(o.isApprove)?"âœ…":"âŒ")+" ",1),t(f,{icon:"mdi-file"})]),append:l(()=>[n("div",Tt,[n("div",Ct,[o.path!=="null"||o.link!==null?(u(),c(P,{key:0,location:"top",text:"Lihat File"},{activator:l(({props:d})=>[o.path!=="null"?(u(),_("a",v({key:0},d,{href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Ut)):m("",!0),o.link!==null?(u(),_("a",v({key:1},d,{href:`${o.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Kt)):m("",!0)]),_:2},1024)):m("",!0),o.path=="null"&&o.link==null&&i.userAccess&&parseInt(i.userAccess.canInsertData)==1?(u(),c(P,{key:1,location:"top",text:"Upload File / Link"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>r.openModal(1,o)}),[t(f,{size:"20",icon:"bx-upload",color:"blue"})],16,Nt)]),_:2},1024)):m("",!0),i.userAccess&&parseInt(i.userAccess.canUpdateData)?(u(),c(P,{key:2,location:"top",text:"Edit File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>r.openModal(1,o)}),[t(f,{size:"20",icon:"bx-edit",color:"blue"})],16,Mt)]),_:2},1024)):m("",!0)])])]),default:l(()=>[t(V,null,{default:l(()=>[p(y(o.name),1)]),_:2},1024),o.note!=null?(u(),c(H,{key:0},{default:l(()=>[p(y(o.note),1)]),_:2},1024)):m("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),t(C,{modelValue:e.isAnalisaKredit,"onUpdate:modelValue":a[8]||(a[8]=o=>e.isAnalisaKredit=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Attachment ")]),text:l(()=>[t(N,{onSubmit:K(r.insertAnalisa,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[jt,Ot,t(x,{class:"my-3",modelValue:e.formAnalisaKredit.name,"onUpdate:modelValue":a[0]||(a[0]=o=>e.formAnalisaKredit.name=o),autofocus:"",disabled:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[qt,Lt,t(Q,{modelValue:e.selectedOption,"onUpdate:modelValue":a[1]||(a[1]=o=>e.selectedOption=o),mandatory:!0,row:""},{default:l(()=>[t(q,{label:"File",value:"file"}),t(q,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),e.selectedOption==="file"?(u(),c(h,{key:0,md:"12",cols:"12"},{default:l(()=>[Rt,zt,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[2]||(a[2]=o=>{r.handleFileChange(o),e.formAnalisaKredit.link=null})},null,8,["rules"])]),_:1})):m("",!0),e.selectedOption==="link"?(u(),c(h,{key:1,md:"12",cols:"12"},{default:l(()=>[Bt,Gt,t(x,{class:"my-3",modelValue:e.formAnalisaKredit.link,"onUpdate:modelValue":a[3]||(a[3]=o=>e.formAnalisaKredit.link=o),type:"link",hint:"Pastikan menggunakan https://",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formAnalisaKredit.isSecret,"onUpdate:modelValue":a[4]||(a[4]=o=>e.formAnalisaKredit.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formAnalisaKredit.isApprove,"onUpdate:modelValue":a[5]||(a[5]=o=>e.formAnalisaKredit.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[6]||(a[6]=o=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[7]||(a[7]=o=>e.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const se=Y(It,[["render",Et]]),Ht={name:"AttachmentCard4",props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0}},watch:{selectedOption(s){s==="file"?this.formAnalisaKredit.link=null:s==="link"&&(this.formAnalisaKredit.path=null)}},data(){return{selectedOption:"",overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isKomite:!1,formKomite:{id:null,name:"Analisa Kredit",file_id:this.fileId,path:"null",link:null,isApprove:0,isSecret:0}}},methods:{openModal(s,a=null){s==1&&(this.formKomite.id=a.id,this.formKomite.name=a.name,this.formKomite.link=a.link,this.formKomite.path=a.path,this.formKomite.isSecret=parseInt(a.isSecret),this.formKomite.isApprove=parseInt(a.isApprove),this.isKomite=!0)},closeModal(s){s==1&&(this.formKomite.id=null,this.formKomite.isSecret=0,this.formKomite.isApprove=0,this.isKomite=!1)},handleFileChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formKomite.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},async insertKomite(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formKomite.name),s.append("isSecret",this.formKomite.isSecret),s.append("isApprove",this.formKomite.isApprove),s.append("file_id",this.formKomite.file_id),this.formKomite.path!="null"&&this.formKomite.path!=null?s.append("path",this.formKomite.path):this.formKomite.link!=null&&s.append("link",this.formKomite.link),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(e){console.error("Error calculating progress:",e)}},headers:{"Content-Type":"multipart/form-data"}},i=await w.post(`/user/edit-attach/${this.formKomite.id}`,s,a);i.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}}},Jt=n("span",null,"Phase 4 (KOMITE) ðŸ“„",-1),Yt={class:"operation-wrapper"},Wt={class:"d-flex justify-space-between"},Xt=["href"],Qt=["href"],Zt=["onClick"],$t=["onClick"],el=n("span",{style:{color:"red"}},"*",-1),tl=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),ll=n("span",{style:{color:"red"}},"*",-1),al=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1);function sl(s,a,i,g,e,r){return u(),_(L,null,[t($,{"model-value":e.overlay,class:"align-center justify-center"},{default:l(()=>[t(Z,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),p(" Loading... ")]),_:1},8,["model-value"]),t(k,{color:"warning"},{default:l(()=>[t(U,null,{default:l(()=>[t(S,{class:"d-flex justify-space-between"},{default:l(()=>[t(h,{cols:"12",sm:"6",md:"8"},{default:l(()=>[Jt]),_:1})]),_:1})]),_:1}),(u(!0),_(L,null,J(i.data,(o,D)=>(u(),_("div",{key:D},[t(B,{density:"compact"},{default:l(()=>[t(F,null,{prepend:l(()=>[p(y(parseInt(o.isApprove)?"âœ…":"âŒ")+" ",1),t(f,{icon:"mdi-file"})]),append:l(()=>[n("div",Yt,[n("div",Wt,[o.path!=="null"||o.link!==null?(u(),c(P,{key:0,location:"top",text:"Lihat File"},{activator:l(({props:d})=>[o.path!=="null"?(u(),_("a",v({key:0},d,{href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Xt)):m("",!0),o.link!==null?(u(),_("a",v({key:1},d,{href:`${o.link}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,Qt)):m("",!0)]),_:2},1024)):m("",!0),o.path=="null"&&o.link==null&&i.userAccess&&parseInt(i.userAccess.canInsertData)==1?(u(),c(P,{key:1,location:"top",text:"Upload File / Link"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>r.openModal(1,o)}),[t(f,{size:"20",icon:"bx-upload",color:"blue"})],16,Zt)]),_:2},1024)):m("",!0),i.userAccess&&parseInt(i.userAccess.canUpdateData)?(u(),c(P,{key:2,location:"top",text:"Edit File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>r.openModal(1,o)}),[t(f,{size:"20",icon:"bx-edit",color:"blue"})],16,$t)]),_:2},1024)):m("",!0)])])]),default:l(()=>[t(V,null,{default:l(()=>[p(y(o.name),1)]),_:2},1024),o.note!=null?(u(),c(H,{key:0},{default:l(()=>[p(y(o.note),1)]),_:2},1024)):m("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),t(C,{modelValue:e.isKomite,"onUpdate:modelValue":a[6]||(a[6]=o=>e.isKomite=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Attachment ")]),text:l(()=>[t(N,{onSubmit:K(r.insertKomite,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[el,tl,t(x,{class:"my-3",modelValue:e.formKomite.name,"onUpdate:modelValue":a[0]||(a[0]=o=>e.formKomite.name=o),autofocus:"",disabled:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[ll,al,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[1]||(a[1]=o=>r.handleFileChange(o))},null,8,["rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formKomite.isSecret,"onUpdate:modelValue":a[2]||(a[2]=o=>e.formKomite.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formKomite.isApprove,"onUpdate:modelValue":a[3]||(a[3]=o=>e.formKomite.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[4]||(a[4]=o=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[5]||(a[5]=o=>e.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const ie=Y(Ht,[["render",sl]]),il={name:"AttachmentOperation",props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0}},data(){return{overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isSp3k:!1,formsp3k:{id:null,name:"SP3K",file_id:this.fileId,path:null,isApprove:0,isSecret:0}}},methods:{openModal(s,a=null){s==1&&(this.formsp3k.id=a.id,this.formsp3k.name=a.name,this.formsp3k.isSecret=parseInt(a.isSecret),this.formsp3k.isApprove=parseInt(a.isApprove),this.isSp3k=!0)},closeModal(s){s==1&&(this.formsp3k.id=null,this.formsp3k.isSecret=0,this.formsp3k.isApprove=0,this.isSp3k=!1)},handleFileChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formsp3k.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},async insertSpk3k(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formsp3k.name),s.append("path",this.formsp3k.path),s.append("isSecret",this.formsp3k.isSecret),s.append("isApprove",this.formsp3k.isApprove),s.append("file_id",this.formsp3k.file_id),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(e){console.error("Error calculating progress:",e)}},headers:{"Content-Type":"multipart/form-data"}},i=await w.post(`/user/edit-attach/${this.formsp3k.id}`,s,a);i.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}}},ol=n("span",null,"Operation ðŸ“„",-1),nl={class:"operation-wrapper"},rl={class:"d-flex justify-space-between"},dl=["href"],ul=["onClick"],pl=["onClick"],cl=n("span",{style:{color:"red"}},"*",-1),hl=n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1),ml=n("span",{style:{color:"red"}},"*",-1),fl=n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1);function gl(s,a,i,g,e,r){return u(),_(L,null,[t($,{"model-value":e.overlay,class:"align-center justify-center"},{default:l(()=>[t(Z,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),p(" Loading... ")]),_:1},8,["model-value"]),t(k,{color:"warning"},{default:l(()=>[t(U,null,{default:l(()=>[t(S,{class:"d-flex justify-space-between"},{default:l(()=>[t(h,{cols:"12",sm:"6",md:"8"},{default:l(()=>[ol]),_:1})]),_:1})]),_:1}),(u(!0),_(L,null,J(i.data,(o,D)=>(u(),_("div",{key:D},[t(B,{density:"compact"},{default:l(()=>[t(F,null,{prepend:l(()=>[p(y(parseInt(o.isApprove)?"âœ…":"âŒ")+" ",1),t(f,{icon:"mdi-file"})]),append:l(()=>[n("div",nl,[n("div",rl,[o.path!=="null"?(u(),c(P,{key:0,location:"top",text:"Lihat File"},{activator:l(({props:d})=>[n("a",v(d,{href:`${i.filePath}/${i.fileId}/${o.path}`,target:"_blank",rel:"noopener noreferrer"}),[n("button",null,[t(f,{size:"20",icon:"bx-link-external",color:"blue"})])],16,dl)]),_:2},1024)):m("",!0),o.path==="null"&&i.userAccess&&parseInt(i.userAccess.canInsertData)==1?(u(),c(P,{key:1,location:"top",text:"Upload File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>r.openModal(1,o)}),[t(f,{size:"20",icon:"bx-upload",color:"blue"})],16,ul)]),_:2},1024)):m("",!0),i.userAccess&&parseInt(i.userAccess.canUpdateData)?(u(),c(P,{key:2,location:"top",text:"Edit File"},{activator:l(({props:d})=>[n("button",v(d,{onClick:M=>r.openModal(1,o)}),[t(f,{size:"20",icon:"bx-edit",color:"blue"})],16,pl)]),_:2},1024)):m("",!0)])])]),default:l(()=>[t(V,null,{default:l(()=>[p(y(o.name),1)]),_:2},1024),o.note!=null?(u(),c(H,{key:0},{default:l(()=>[p(y(o.note),1)]),_:2},1024)):m("",!0)]),_:2},1024)]),_:2},1024)]))),128))]),_:1}),t(C,{modelValue:e.isSp3k,"onUpdate:modelValue":a[6]||(a[6]=o=>e.isSp3k=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Attachment ")]),text:l(()=>[t(N,{onSubmit:K(r.insertSpk3k,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[cl,hl,t(x,{class:"my-3",modelValue:e.formsp3k.name,"onUpdate:modelValue":a[0]||(a[0]=o=>e.formsp3k.name=o),autofocus:"",disabled:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[ml,fl,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[1]||(a[1]=o=>r.handleFileChange(o))},null,8,["rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formsp3k.isSecret,"onUpdate:modelValue":a[2]||(a[2]=o=>e.formsp3k.isSecret=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.formsp3k.isApprove,"onUpdate:modelValue":a[3]||(a[3]=o=>e.formsp3k.isApprove=o),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[4]||(a[4]=o=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[5]||(a[5]=o=>e.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const yl=Y(il,[["render",gl]]);const Al={components:{AttachmentCard1:Ve,AttachmentCard2:wt,AttachmentCard3:se,attachmentCard3:se,AttachmentCard4:ie,attachmentCard4:ie,attachmentOperation:yl},name:"Phase",props:{phase1Attachments:{type:Object,required:!0},phase2Attachments:{type:Object,required:!0},phase3Attachments:{type:Object,required:!0},phase4Attachments:{type:Object,required:!0},phase5Attachments:{type:Object,required:!0},userAccess:{type:Object,required:!0},dataFile:{type:Object,required:!0},userData:{type:Object,required:!0},dataNote:{type:Object,required:!0},updateDataNote:{type:Object,required:!0},insertNote:{type:Function,required:!0},changeApproval:{type:Function,required:!0},formatDate:{type:Function,required:!0},openModal:{type:Function,required:!0},deleteAttachment:{type:Function,required:!0},deleteNote:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},step:{type:Function,required:!0},fileId:{type:String,required:!0},resetNote:{type:Function,required:!0},notePhase1:{type:Object,required:!0},notePhase2:{type:Object,required:!0},notePhase3:{type:Object,required:!0},notePhase4:{type:Object,required:!0},modalNote:{type:Function,required:!0}},data(){return{filePath:this.$filePath,isUpdateNote:!1,currentPage:1,itemsPerPage:10}},computed:{paginatedNotes(){const s=(this.currentPage-1)*this.itemsPerPage,a=s+this.itemsPerPage;return this.dataFile.notes.slice(s,a)}},methods:{onPageChange(s){this.currentPage=s},formatInput(s){return s=s.replace(/\D/g,""),s=s.replace(/\B(?=(\d{3})+(?!\d))/g,","),s}}},ae=s=>(oe("data-v-ad11cfb5"),s=s(),ne(),s),_l=ae(()=>n("span",null,"Informasi Umum â„¹ï¸",-1)),vl=ae(()=>n("span",null,"Dokumen Pendukung ðŸ“„",-1)),kl={class:"mb-5"},bl={class:"mb-5"},Fl={class:"mb-5"},Pl={class:"mb-5"},Sl={class:"mb-5"},Dl={key:0},xl=ae(()=>n("span",null,"Catatan ðŸ“ƒ",-1)),wl={class:"comment-content"};function Il(s,a,i,g,e,r){const o=E("AttachmentCard1"),D=E("AttachmentCard2"),d=E("attachmentCard3"),M=E("attachmentCard4"),re=E("attachmentOperation");return u(),c(k,{color:"backgroundCard"},{default:l(()=>[["Account Officer","AO","ao","account officer","Account Officer Executive","account officer executive","Account Officer / Executive AO","AO / RO"].includes(i.userData.position.name)?(u(),c(U,{key:1,class:"text-2xl font-weight-bold d-flex justify-center"},{default:l(()=>[p(" Detail "),parseInt(i.dataFile.isApproved)==1?(u(),c(j,{key:0,color:"success"},{default:l(()=>[p("Approved")]),_:1})):m("",!0),parseInt(i.dataFile.isApproved)==2?(u(),c(j,{key:1,color:"warning"},{default:l(()=>[p("Pending")]),_:1})):m("",!0),parseInt(i.dataFile.isApproved)==3?(u(),c(j,{key:2,color:"error"},{default:l(()=>[p("Rejected")]),_:1})):m("",!0)]),_:1})):(u(),c(U,{key:0,class:"text-2xl font-weight-bold d-flex justify-center"},{default:l(()=>[p(" Detail "),parseInt(i.dataFile.isApproved)==1?(u(),c(j,{key:0,color:"success",onClick:a[0]||(a[0]=b=>i.openModal(9))},{default:l(()=>[p("Approved")]),_:1})):m("",!0),parseInt(i.dataFile.isApproved)==2?(u(),c(j,{key:1,color:"warning",onClick:a[1]||(a[1]=b=>i.openModal(9))},{default:l(()=>[p("Pending")]),_:1})):m("",!0),parseInt(i.dataFile.isApproved)==3?(u(),c(j,{key:2,color:"error",onClick:a[2]||(a[2]=b=>i.openModal(9))},{default:l(()=>[p("Rejected")]),_:1})):m("",!0)]),_:1})),i.dataFile.reasonRejected!=null?(u(),c(O,{key:2},{default:l(()=>[t(k,null,{default:l(()=>[t(U,null,{default:l(()=>[p(" Alasan Ditolak ðŸ”¹ ")]),_:1}),t(O,null,{default:l(()=>[n("div",null,[n("span",null,y(i.dataFile&&i.dataFile.reasonRejected),1)])]),_:1})]),_:1})]),_:1})):m("",!0),t(O,null,{default:l(()=>[t(k,{class:"mb-5"},{default:l(()=>[t(U,null,{default:l(()=>[t(S,{class:"d-flex justify-space-between"},{default:l(()=>[t(h,{cols:"12",sm:"6",md:"8"},{default:l(()=>[_l]),_:1}),i.userAccess&&i.userAccess.canInsertData?(u(),c(h,{key:0,cols:"12",sm:"6",md:"4",class:"text-sm-right text-md-right"},{default:l(()=>[n("span",null,[t(I,{color:"primary",size:"small",class:"my-3 mx-3",onClick:a[3]||(a[3]=b=>i.openModal(4))},{default:l(()=>[p(" Edit Data ")]),_:1})])]),_:1})):m("",!0)]),_:1})]),_:1}),t(O,null,{default:l(()=>[t(B,{density:"compact",lines:"two"},{default:l(()=>[t(F,null,{prepend:l(()=>[t(f,{icon:"mdi-person",size:"x-small"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" Nama Pemohon ")]),_:1}),t(F,null,{default:l(()=>[n("strong",null,y(i.dataFile.name),1)]),_:1})]),_:1}),t(F,null,{prepend:l(()=>[t(f,{icon:"mdi-map-marker",size:"x-small"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" Alamat Pemohon ")]),_:1}),t(F,null,{default:l(()=>[n("strong",null,y(i.dataFile.address),1)]),_:1})]),_:1}),t(F,null,{prepend:l(()=>[t(f,{icon:"mdi-phone",size:"x-small"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" No. HP Pemohon")]),_:1}),t(F,null,{default:l(()=>[n("strong",null,y(i.dataFile.no_hp),1)]),_:1})]),_:1}),t(F,null,{prepend:l(()=>[t(f,{icon:"mdi-cash",size:"x-small"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" Jumlah Plafon")]),_:1}),t(F,null,{default:l(()=>[n("strong",null," Rp "+y(r.formatInput(i.dataFile.plafon)),1)]),_:1})]),_:1}),i.dataFile.nik_pasangan!=null&&i.dataFile.nik_pasangan!=""?(u(),c(F,{key:0},{prepend:l(()=>[t(f,{icon:"mdi-code-greater-than",size:"x-small"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" NIK Pasangan")]),_:1}),t(F,null,{default:l(()=>[n("strong",null,y(i.dataFile.nik_pasangan),1)]),_:1})]),_:1})):m("",!0),i.dataFile.nik_jaminan!=null&&i.dataFile.nik_jaminan!=""?(u(),c(F,{key:1},{prepend:l(()=>[t(f,{icon:"mdi-code-greater-than",size:"x-small"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" NIK atas nama Jaminan")]),_:1}),t(F,null,{default:l(()=>[n("strong",null,y(i.dataFile.nik_jaminan),1)]),_:1})]),_:1})):m("",!0),t(F,null,{prepend:l(()=>[t(f,{icon:"mdi-office-building",size:"x-small"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" Jenis Usaha")]),_:1}),t(F,null,{default:l(()=>[n("strong",null,y(i.dataFile.type_bussiness),1)]),_:1})]),_:1}),t(F,null,{prepend:l(()=>[t(f,{icon:"mdi-office-building",size:"x-small"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" Deskripsi Usaha")]),_:1}),t(F,null,{default:l(()=>[n("strong",null,y(i.dataFile.desc_bussiness),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(k,null,{default:l(()=>[t(U,null,{default:l(()=>[t(S,{class:"d-flex justify-space-between"},{default:l(()=>[t(h,{cols:"12",sm:"6",md:"8"},{default:l(()=>[vl]),_:1}),i.userAccess&&i.userAccess.canInsertData?(u(),c(h,{key:0,cols:"12",sm:"6",md:"4",class:"text-sm-right text-md-right"},{default:l(()=>[n("span",null,[t(I,{color:"primary",size:"small",class:"my-3 mx-3",onClick:a[4]||(a[4]=b=>i.openModal(1))},{default:l(()=>[p(" Tambah Data Lain ")]),_:1})])]),_:1})):m("",!0)]),_:1})]),_:1}),t(O,null,{default:l(()=>[n("div",kl,[t(o,{data:i.phase1Attachments,fileId:parseInt(i.dataFile.id),filePath:e.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,openModal:i.openModal},null,8,["data","fileId","filePath","userAccess","deleteAttachment","openModal"])]),n("div",bl,[parseInt(i.dataFile.phase)>1?(u(),c(D,{key:0,data:i.phase2Attachments,fileId:parseInt(i.dataFile.id),filePath:e.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,getDetailFile:i.getDetailFile},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile"])):m("",!0)]),n("div",Fl,[parseInt(i.dataFile.phase)>2?(u(),c(d,{key:0,data:i.phase3Attachments,fileId:parseInt(i.dataFile.id),filePath:e.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,getDetailFile:i.getDetailFile},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile"])):m("",!0)]),n("div",Pl,[parseInt(i.dataFile.phase)>3?(u(),c(M,{key:0,data:i.phase4Attachments,fileId:parseInt(i.dataFile.id),filePath:e.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,getDetailFile:i.getDetailFile},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile"])):m("",!0)]),n("div",Sl,[parseInt(i.dataFile.phase)>4?(u(),c(re,{key:0,data:i.phase5Attachments,fileId:parseInt(i.dataFile.id),filePath:e.filePath,userAccess:i.userAccess,deleteAttachment:i.deleteAttachment,getDetailFile:i.getDetailFile},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile"])):m("",!0)])]),_:1})]),_:1})]),_:1}),i.dataFile&&parseInt(i.dataFile.phase)<6?(u(),c(O,{key:3},{default:l(()=>[t(k,null,{default:l(()=>[t(U,null,{default:l(()=>[p(" Status Approval Phase âœ… ")]),_:1}),t(O,null,{default:l(()=>[i.dataFile&&i.dataFile.approvals&&i.dataFile.approvals.length?(u(),_("div",Dl,[(u(!0),_(L,null,J(i.dataFile.approvals,(b,le)=>(u(),_(L,{key:le},[i.dataFile.phase==b.phase?(u(),c(j,{key:0,color:b.approved==1?"success":"error",class:"mr-2",onClick:ee=>i.changeApproval(b.id)},{default:l(()=>[p(y(b.user.name)+" - "+y(b.user.position.name),1)]),_:2},1032,["color","onClick"])):m("",!0)],64))),128))])):m("",!0)]),_:1})]),_:1})]),_:1})):m("",!0),t(O,null,{default:l(()=>[t(k,null,{default:l(()=>[t(U,null,{default:l(()=>[p(" Lain - lain ðŸ”¹ ")]),_:1}),t(O,null,{default:l(()=>[n("div",null,[t(pe,null,{default:l(()=>[t(j,{color:"success",onClick:a[5]||(a[5]=b=>i.openModal(6))},{default:l(()=>[p(" Data Durasi Waktu ")]),_:1}),t(j,{color:"success",onClick:a[6]||(a[6]=b=>i.openModal(7))},{default:l(()=>[p(" Data Aktivitas")]),_:1}),t(j,{color:"success",onClick:a[7]||(a[7]=b=>i.openModal(8))},{default:l(()=>[p(" Data Riwayat Persetujuan")]),_:1}),t(j,{color:"success",onClick:a[8]||(a[8]=b=>i.openModal(10))},{default:l(()=>[p(" Data Riwayat Dokumen Pendukung")]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),t(X),t(O,null,{default:l(()=>[t(k,null,{default:l(()=>[t(U,null,{default:l(()=>[t(S,{class:"d-flex justify-space-between"},{default:l(()=>[t(h,{cols:"12",sm:"6",md:"8"},{default:l(()=>[xl]),_:1}),t(h,{cols:"12",sm:"6",md:"4",class:"text-sm-right text-md-right"})]),_:1}),t(N,{onSubmit:K(i.insertNote,["prevent"])},{default:l(()=>[t(S,{align:"center",justify:"center"},{default:l(()=>[t(h,{cols:"12",sm:"8",md:"10"},{default:l(()=>[t(te,{outlined:"",rows:"2",placeholder:"Tambahkan catatan disini",modelValue:i.dataNote.note,"onUpdate:modelValue":a[9]||(a[9]=b=>i.dataNote.note=b)},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",sm:"4",md:"2"},{default:l(()=>[t(I,{color:"primary",icon:"",type:"submit"},{default:l(()=>[t(f,null,{default:l(()=>[p("mdi-note-plus")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(O,null,{default:l(()=>[n("div",null,[(u(!0),_(L,null,J(r.paginatedNotes,(b,le)=>(u(),_("div",{key:le,class:"user-comment"},[n("div",wl,[n("p",null,y(b.note),1),t(S,{class:"justify-space-between mx-2 mb-2"},{default:l(()=>[n("small",null,[n("strong",null,y(b.user.name)+" - "+y(b.user.position.name),1)]),n("small",null,y(i.formatDate(b.created_at)),1)]),_:2},1024)]),i.userData.id==b.user_id?(u(),c(ue,{key:0,transition:"scale-transition"},{activator:l(({props:ee})=>[t(f,v(ee,{class:"ellipsis-icon"}),{default:l(()=>[p("mdi-dots-vertical")]),_:2},1040)]),default:l(()=>[t(B,null,{default:l(()=>[t(F,{color:"primary",onClick:ee=>i.openModal(3,b)},{prepend:l(()=>[t(f,{icon:"mdi-edit"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" edit")]),_:1})]),_:2},1032,["onClick"]),t(F,{color:"primary",onClick:ee=>i.deleteNote(b.id)},{prepend:l(()=>[t(f,{icon:"mdi-trash"})]),default:l(()=>[t(V,null,{default:l(()=>[p(" hapus")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)):m("",!0)]))),128)),t(ce,{modelValue:e.currentPage,"onUpdate:modelValue":a[10]||(a[10]=b=>e.currentPage=b),length:Math.ceil(i.dataFile.notes.length/e.itemsPerPage),onInput:r.onPageChange},null,8,["modelValue","length","onInput"])])]),_:1})]),_:1})]),_:1}),i.userAccess&&parseInt(i.userAccess.canApprove)?(u(),c(de,{key:4},{default:l(()=>[t(h,{class:"d-flex justify-space-beetwen"},{default:l(()=>[i.dataFile&&parseInt(i.dataFile.phase)>1?(u(),c(I,{key:0,color:"info",text:"Prev Phase",variant:"tonal",onClick:a[11]||(a[11]=b=>i.step(i.fileId,"-"))})):m("",!0),t(ge),i.dataFile&&parseInt(i.dataFile.phase)<5?(u(),c(I,{key:1,color:"info",text:"Next Phase",variant:"tonal",onClick:a[12]||(a[12]=b=>i.step(i.fileId,"next"))})):m("",!0),i.dataFile&&parseInt(i.dataFile.phase)==5?(u(),c(I,{key:2,color:"success",text:"Setujui",variant:"tonal",onClick:a[13]||(a[13]=b=>i.step(i.fileId,"next"))})):m("",!0)]),_:1})]),_:1})):m("",!0)]),_:1})}const Vl=Y(Al,[["render",Il],["__scopeId","data-v-ad11cfb5"]]),Tl={components:{phase:Vl},data(){return{selectedOption:"",overlay:!1,isMobile:!1,userData:null,userAccess:{},fileId:this.$route.params.fileId,isShowPhase4:!1,isShowPhase5:!1,isShowTimers:!1,isShowHistory:!1,isShowApprovals:!1,isChangeStatusCredit:!1,isShowAttachment:!1,nameFileList:[{value:"KTP Pemohon",title:"KTP Pemohon"},{value:"Kartu Keluarga",title:"Kartu Keluarga"},{value:"Jaminan SHM",title:"Jaminan SHM"},{value:"Foto Kunjungan",title:"Foto Kunjungan"},{value:"Foto WhatsApp",title:"Foto WhatsApp"},{value:"Buku Nikah",title:"Buku Nikah"},{value:"SHM",title:"Jaminan SHM"},{value:"BPKB",title:"Jaminan BPKB"},{value:"KTP Pasangan",title:"KTP Pasangan"},{value:"KTP Atas Nama Jaminan",title:"KTP Atas Nama Jaminan"},{value:"KTP Atas Nama Jaminan",title:"KTP Atas Nama Jaminan"},{value:"Resume SLIK",title:"Resume SLIK"},{value:"Detail SLIK",title:"Detail SLIK"},{value:"File Banding",title:"File Banding"},{value:"Analisa Awal Kredit AO",title:"Analisa Awal Kredit AO"},{value:"Analisa Kredit",title:"Analisa Kredit"},{value:"Lembar Pengesahan",title:"Lembar Pengesahan"},{value:"Rekomendasi Kepatuhan",title:"Rekomendasi Kepatuhan"},{value:"SP3K",title:"SP3K"},{value:"Notaris",title:"Notaris"},{value:"Lain-lain",title:"Lain-lain"}],changeStatus:{id:null,status:null,reasonRejected:null},stepperModel:0,isUpdateGeneralInfo:!1,generalInfo:{id:null,name:"",type_bussiness:"",desc_bussiness:"",plafon:"0",nik_pemohon:null,nik_pasangan:null,nik_jaminan:null,address:null,no_hp:null},dataFile:{id:this.$route.params.fileId,user_id:null,phase:1,name:"",type_bussiness:"",desc_bussiness:"",nik_pemohon:null,nik_pasangan:null,nik_jaminan:null,address:null,no_hp:null,plafon:"0",surveyResult:"-",otsResult:"-",cekLingResult:"-",verTelResult:"-",creditScoring:"-",attachments:[],notes:[],approvals:[],phase_times:[],file_activities:[],reasonRejected:""},filePath:this.$filePath,timerHeaders:[{text:"Phase",value:"phase",sortable:!0},{text:"Waktu Mulai",value:"startTime",sortable:!0},{text:"Waktu Selesai",value:"endTime",sortable:!0},{text:"Rentang Waktu",value:"timeDiff",sortable:!0}],attachmentHeaders:[{text:"Nama",value:"name",sortable:!0},{text:"Phase",value:"phase",sortable:!0},{text:"Waktu",value:"startTime",sortable:!0}],historyHeaders:[{text:"User",value:"user.name",sortable:!0},{text:"Aktivitas",value:"activity",sortable:!0},{text:"Tanggal",value:"created_at",sortable:!0}],approvalHeaders:[{text:"Phase",value:"phase",sortable:!0},{text:"Nama",value:"user.name",sortable:!0},{text:"Status",value:"approved",sortable:!0},{text:"Tanggal",value:"created_at",sortable:!0}],isUpdateNote:!1,dataNote:{file_id:this.$route.params.fileId,note:null,isRead:null},updateDataNote:{file_id:this.$route.params.fileId,note:null,isRead:null},phaseNote:[],notesByPhase:{},isModalPhase:!1,insertAttch:!1,updateAttch:!1,rules:{required:s=>!!s||"Required"},uploadProgress:null,attachFile:{id:null,file_id:this.$route.params.fileId,phase:null,name:null,path:null,note:null,link:null,isSecret:0,isApprove:1},notePhase1:[],notePhase2:[],notePhase3:[],notePhase4:[],currentPage:1,itemsPerPage:10,isDataPhase3:!1,dataPhase3:{surveyResult:""},attachments:[],dataAttachPhase1:[],dataAttachPhase2:[],dataAttachPhase3:[],dataAttachPhase4:[],dataAttachPhase5:[]}},computed:{paginatedNotes(){const s=(this.currentPage-1)*this.itemsPerPage,a=s+this.itemsPerPage;return this.dataFile.notes.slice(s,a)}},methods:{async updateStatusCredit(){try{this.overlay=!0;const s=new FormData;if(s.append("id",this.fileId),s.append("status",this.changeStatus.status),this.changeStatus.status=="3"){if(this.changeStatus.reasonRejected==null){this.overlay=!1,this.closeModal(9),this.$showToast("error","Sorry","Alasan Penolakan wajib diisi");return}s.append("reasonRejected",this.changeStatus.reasonRejected)}const a=await w.post("/user/change-status",s);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.closeModal(9),this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.closeModal(9),this.$showToast("error","Sorry",a.data.message))}catch(s){console.log(s),this.overlay=!1,this.closeModal(9),this.$showToast("error","Sorry",s.response.data.message)}},calculateTimeDiff(s,a){let i=new Date(s),e=(a?new Date(a):new Date).valueOf()-i.valueOf(),r=Math.floor(e/1e3/60),o=Math.floor(r/60),D=r%60;return`${o} jam ${D} menit`},formatFileId(s){return Array.isArray(s)?s.join(", "):s},async updatePhase3(){try{this.overlay=!0;const s=new FormData;s.append("surveyResult",this.dataPhase3.surveyResult),s.append("_method","PUT");const a=await w.post(`/user/survey-credit/${this.fileId}`,s);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.$showToast("error","Sorry",a.data.message))}catch(s){this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},onPageChange(s){this.currentPage=s},formatInputPlafon(s){let a=s.target.value;a=a.replace(/\D/g,""),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,","),s.target.value=a},formatDate(s){return new Date(s).toLocaleString("id-ID")},resetNote(){this.dataNote={file_id:this.$route.params.fileId,user_id:null,phase:null,note:null,isRead:null}},checkMobile(){this.isMobile=window.innerWidth<728},formatInput(s){return s=s.replace(/\D/g,""),s=s.replace(/\B(?=(\d{3})+(?!\d))/g,","),s},async step(s,a){try{if(a=="next"){if(!window.confirm("Apakah Anda yakin melanjutkan ke tahap selanjutnya"))return;this.overlay=!0;const g=new FormData;g.append("id",s),g.append("type",a),g.append("_method","POST");const e=await w.post("/user/change-phase-approve",g);e.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",e.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",e.data.data.message))}else{if(!window.confirm("Apakah Anda yakin Kembali ke phase sebelumnya"))return;this.overlay=!0;const g=new FormData;g.append("id",s),g.append("type",a),g.append("_method","POST");const e=await w.post("/user/change-phase-approve",g);e.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",e.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",e.data.message))}}catch(i){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.response.data.message)}},async getDetailFile(s){try{this.overlay=!0;const a=await w.get(`/user/credit/${s}`);if(a.status===200){this.dataFile=a.data.data.file,this.attachments=this.dataFile.attachments.filter(i=>i.path!="null"),this.userAccess=a.data.data.userAccess,this.dataAttachPhase1=a.data.data.file.attachments.filter(i=>i.phase==1),this.dataAttachPhase2=a.data.data.file.attachments.filter(i=>i.phase==2),this.dataAttachPhase3=a.data.data.file.attachments.filter(i=>i.phase==3),this.dataAttachPhase4=a.data.data.file.attachments.filter(i=>i.phase==4),this.dataAttachPhase5=a.data.data.file.attachments.filter(i=>i.phase==5),this.dataFile.phase=parseInt(this.dataFile.phase),this.isShowPhase4=!(parseInt(this.dataFile.plafon)<25e6),this.dataFile.phase==5&&(this.isShowPhase5=!0),parseInt(this.dataFile.phase)==5?this.stepperModel=parseInt(this.dataFile.phase)-1:this.stepperModel=parseInt(this.dataFile.phase)-1,this.generalInfo.id=this.dataFile.id,this.generalInfo.name=this.dataFile.name,this.generalInfo.type_bussiness=this.dataFile.type_bussiness,this.generalInfo.desc_bussiness=this.dataFile.desc_bussiness,this.generalInfo.plafon=this.dataFile.plafon,this.generalInfo.nik_pemohon=this.dataFile.nik_pemohon,this.generalInfo.nik_pasangan=this.dataFile.nik_pasangan,this.generalInfo.nik_jaminan=this.dataFile.nik_jaminan,this.generalInfo.address=this.dataFile.address,this.generalInfo.no_hp=this.dataFile.no_hp;for(let i=0;i<5;i++)this.separateNotesByPhase(this.dataFile,i);this.overlay=!1}else this.$showToast("error","Sorry",a.data.data.message),this.overlay=!1}catch(a){console.log(a),this.overlay=!1,this.$showToast("error","Sorry",a.response.data.message)}},getUserData(){const s=localStorage.getItem("userData");s&&(this.userData=JSON.parse(s))},openModal(s,a=null){s==1?this.insertAttch=!0:s==2?(this.attachFile.id=a.id,this.attachFile.file_id=a.file_id,this.attachFile.name=a.name,this.attachFile.isSecret=parseInt(a.isSecret),this.attachFile.isApprove=parseInt(a.isApprove),this.attachFile.link=a.link,this.updateAttch=!0):s==3?(this.updateDataNote.id=a.id,this.updateDataNote.file_id=a.file_id,this.updateDataNote.note=a.note,this.isUpdateNote=!0):s==4?this.isUpdateGeneralInfo=!0:s==5?(this.dataPhase3.surveyResult=this.dataFile.surveyResult,this.isDataPhase3=!0):s==6?this.isShowTimers=!0:s==7?this.isShowHistory=!0:s==8?this.isShowApprovals=!0:s==9?this.isChangeStatusCredit=!0:s==10&&(this.isShowAttachment=!0)},closeModal(s){s===1?(this.resetAttch(),this.insertAttch=!1):s===2?this.updateAttch=!1:s===3?(this.resetNote(),this.updateNote=!1):s==4?this.isUpdateGeneralInfo=!1:s==5?(this.dataPhase3.surveyResult="",this.isDataPhase3=!1):s==9&&(this.isChangeStatusCredit=!1,this.changeStatus.id=null,this.changeStatus.status=null,this.changeStatus.reasonRejected=null)},async updateGeneralInfo(){try{this.overlay=!0;const s=new FormData;s.append("name",this.generalInfo.name),s.append("plafon",this.generalInfo.plafon.replace(/\D/g,"")),s.append("type_bussiness",this.generalInfo.type_bussiness),s.append("desc_bussiness",this.generalInfo.desc_bussiness),s.append("_method","PUT");const a=await w.post(`/user/edit-general-info/${this.generalInfo.id}`,s);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateGeneralInfo=!1,this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateGeneralInfo=!1,this.$showToast("error","Sorry",a.data.message))}catch(s){this.isUpdateGeneralInfo=!1,this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertNote(){try{if(this.overlay=!0,this.dataNote.note==null){this.$showToast("error","Sorry","Note cannot be empty"),this.overlay=!1;return}const s=new FormData;s.append("file_id",this.dataNote.file_id),s.append("note",this.dataNote.note),s.append("_method","POST");const a=await w.post("/user/note",s);a.status===200?(this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",a.data.message)):(this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.data.message))}catch(s){this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async updateNote(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.updateDataNote.file_id),s.append("note",this.updateDataNote.note),s.append("_method","PUT");const a=await w.post(`/user/note/${this.updateDataNote.id}`,s);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateNote=!1,this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateNote=!1,this.$showToast("error","Sorry",a.data.message))}catch(s){this.isUpdateNote=!1,this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteNote(s){try{if(this.overlay=!0,!window.confirm("Apakah Anda yakin ingin menghapus data? Data akan terhapus secara permanen."))return;const i=await w.delete(`/user/note/${s}`);i.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",i.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(a){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.response.data.message)}},separateNotesByPhase(s,a){s.notes.forEach(i=>{if(i.phase==a)switch(a){case 1:this.notePhase1.push(i);break;case 2:this.notePhase2.push(i);break;case 3:this.notePhase3.push(i);break;case 4:this.notePhase4.push(i);break;default:console.log("Invalid phase")}})},modalNote(){this.isModalPhase=!this.isModalPhase,console.log(this.isModalPhase)},async changeApproval(s){try{this.overlay=!0;const a=await w.get(`/user/change-phase-approve/${s}`);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.data.message))}catch(a){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.response.data.message)}},handleFileChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.attachFile.path=a:(this.closeModal(1),this.closeModal(2),this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, DOCX, XLS, dan XLSX yang diizinkan."),s.target.value=null)},resetAttch(){this.attachFile={id:null,file_id:this.$route.params.fileId,name:null,path:null,note:null,link:null,isSecret:!1}},async insertAttachment(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.attachFile.file_id),s.append("phase",this.dataFile.phase),s.append("name",this.attachFile.name),s.append("path",this.attachFile.path),s.append("note",this.attachFile.note),s.append("isApprove",this.attachFile.isApprove),this.dataFile.phase>=2&&s.append("isSecret",this.attachFile.isSecret),s.append("_method","POST");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(e){console.error("Error calculating progress:",e)}},headers:{"Content-Type":"multipart/form-data"}},i=await w.post("/user/add-attach",s,a);i.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async editAttachment(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.attachFile.file_id),s.append("name",this.attachFile.name),s.append("path",this.attachFile.path),s.append("phase",this.dataFile.phase),s.append("isApprove",this.attachFile.isApprove),this.attachFile.path!=null&&s.append("path",this.attachFile.path),s.append("isSecret",this.attachFile.isSecret),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(e){console.error("Error calculating progress:",e)}},headers:{"Content-Type":"multipart/form-data"}},i=await w.post(`/user/edit-attach/${this.attachFile.id}`,s,a);i.status===200?(this.overlay=!1,this.closeModal(2),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",i.data.message)):(this.overlay=!1,this.closeModal(2),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",i.data.message))}catch(s){this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteAttachment(s){try{if(!window.confirm("Apakah Anda yakin ingin menghapus data? Data akan terhapus secara permanen. a"))return;this.overlay=!0,(await w.delete(`/user/delete-attach/${s}`)).status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill","Terjadi Kesalahan Silahkan Coba Lagi")):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry","Terjadi Kesalahan Silahkan Coba Lagi"))}catch{this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry","Terjadi Kesalahan Silahkan Coba Lagi")}}},mounted(){this.checkMobile(),this.getUserData(),this.getDetailFile(this.fileId)}};const A=s=>(oe("data-v-7a062fd0"),s=s(),ne(),s),Cl=A(()=>n("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),Ul=A(()=>n("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),Kl=A(()=>n("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),Nl=A(()=>n("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),Ml=A(()=>n("span",{style:{color:"red"}},"*",-1)),jl=A(()=>n("span",{class:"subtitle-1 text-center"},"Note: ",-1)),Ol=A(()=>n("span",{style:{color:"red"}},"*",-1)),ql=A(()=>n("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),Ll=A(()=>n("span",{style:{color:"red"}},"*",-1)),Rl=A(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),zl=A(()=>n("span",{style:{color:"red"}},"*",-1)),Bl=A(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),Gl=A(()=>n("span",{style:{color:"red"}},"*",-1)),El=A(()=>n("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),Hl=A(()=>n("span",{style:{color:"red"}},"*",-1)),Jl=A(()=>n("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),Yl=A(()=>n("span",{style:{color:"red"}},"*",-1)),Wl=A(()=>n("span",{class:"subtitle-1 text-center"},"Nama Pemohon: ",-1)),Xl=A(()=>n("span",{style:{color:"red"}},"*",-1)),Ql=A(()=>n("span",{class:"subtitle-1 text-center"},"Jumlah Plafon: ",-1)),Zl=A(()=>n("span",{style:{color:"red"}},"*",-1)),$l=A(()=>n("span",{class:"subtitle-1 text-center"},"Jenis Usaha: ",-1)),ea=A(()=>n("span",{style:{color:"red"}},"*",-1)),ta=A(()=>n("span",{class:"subtitle-1 text-center"},"Deskripsi Usaha: ",-1)),la=A(()=>n("span",{style:{color:"red"}},"*",-1)),aa=A(()=>n("span",{class:"subtitle-1 text-center"},"NIK Pemohon: ",-1)),sa=A(()=>n("span",{style:{color:"red"}},"*",-1)),ia=A(()=>n("span",{class:"subtitle-1 text-center"},"Alamat Pemohon: ",-1)),oa=A(()=>n("span",{style:{color:"red"}},"*",-1)),na=A(()=>n("span",{class:"subtitle-1 text-center"},"Alamat Pemohon: ",-1)),ra=A(()=>n("span",{style:{color:"red"}},"*",-1)),da=A(()=>n("span",{class:"subtitle-1 text-center"},"Hasil Survei: ",-1)),ua=A(()=>n("span",{style:{color:"red"}},"*",-1)),pa=A(()=>n("span",{class:"subtitle-1 text-center"},"Alasan: ",-1));function ca(s,a,i,g,e,r){const o=E("phase"),D=E("EasyDataTable");return u(),_("div",null,[t($,{"model-value":e.overlay,class:"align-center justify-center"},{default:l(()=>[t(Z,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),p(" Loading... ")]),_:1},8,["model-value"]),t(k,null,{default:l(()=>[t(U,{class:"text-2xl font-weight-bold d-flex justify-left"},{default:l(()=>[p(" Credit ")]),_:1}),t(O,null,{default:l(()=>[t(he,{"model-value":e.stepperModel,mobile:e.isMobile},{default:l(()=>[t(me,null,{default:l(()=>[t(W,{title:"Phase 1 (Pooling)",value:"1",complete:e.stepperModel>1},null,8,["complete"]),t(X),t(W,{title:"Phase 2 (SLIK)",value:"2",complete:e.stepperModel>2},null,8,["complete"]),t(X),t(W,{title:"Phase 3 (Survei)",value:"3",complete:e.stepperModel>3},null,8,["complete"]),t(X),t(W,{title:"Phase 4 (Komite)",value:"4",complete:e.stepperModel>4},null,8,["complete"]),t(X),t(W,{title:"Operation",value:"5",complete:e.stepperModel>5},null,8,["complete"]),t(X),t(W,{title:"Approved",value:"6",complete:e.stepperModel>6},null,8,["complete"])]),_:1}),t(fe,null,{default:l(()=>[e.userData&&e.userData.position.role.isPhase1Access==1?(u(),c(R,{key:0,value:"1"},{default:l(()=>[t(o,{dataFile:e.dataFile,userData:e.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(e.fileId),"user-access":e.userAccess,"reset-note":r.resetNote,"data-note":e.dataNote,"update-data-note":e.updateDataNote,"note-phase1":e.notePhase1,"note-phase2":e.notePhase2,"note-phase3":e.notePhase3,"note-phase4":e.notePhase4,"modal-note":r.modalNote,phase1Attachments:e.dataAttachPhase1,phase2Attachments:e.dataAttachPhase2,phase3Attachments:e.dataAttachPhase3,phase4Attachments:e.dataAttachPhase4,phase5Attachments:e.dataAttachPhase5},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments"])]),_:1})):(u(),c(R,{key:1,value:"1"},{default:l(()=>[Cl]),_:1})),e.userData&&e.userData.position.role.isPhase2Access==1?(u(),c(R,{key:2,value:"2"},{default:l(()=>[t(o,{dataFile:e.dataFile,userData:e.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(e.fileId),"user-access":e.userAccess,"reset-note":r.resetNote,"data-note":e.dataNote,"update-data-note":e.updateDataNote,"note-phase1":e.notePhase1,"note-phase2":e.notePhase2,"note-phase3":e.notePhase3,"note-phase4":e.notePhase4,"modal-note":r.modalNote,phase1Attachments:e.dataAttachPhase1,phase2Attachments:e.dataAttachPhase2,phase3Attachments:e.dataAttachPhase3,phase4Attachments:e.dataAttachPhase4,phase5Attachments:e.dataAttachPhase5},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments"])]),_:1})):(u(),c(R,{key:3,value:"2"},{default:l(()=>[Ul]),_:1})),e.userData&&e.userData.position.role.isPhase3Access==1?(u(),c(R,{key:4,value:"3"},{default:l(()=>[t(o,{dataFile:e.dataFile,userData:e.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(e.fileId),"user-access":e.userAccess,"reset-note":r.resetNote,"data-note":e.dataNote,"update-data-note":e.updateDataNote,"note-phase1":e.notePhase1,"note-phase2":e.notePhase2,"note-phase3":e.notePhase3,"note-phase4":e.notePhase4,"modal-note":r.modalNote,phase1Attachments:e.dataAttachPhase1,phase2Attachments:e.dataAttachPhase2,phase3Attachments:e.dataAttachPhase3,phase4Attachments:e.dataAttachPhase4,phase5Attachments:e.dataAttachPhase5},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments"])]),_:1})):(u(),c(R,{key:5,value:"3"},{default:l(()=>[Kl]),_:1})),e.userData&&e.userData.position.role.isPhase4Access==1?(u(),c(R,{key:6,value:"4"},{default:l(()=>[t(o,{dataFile:e.dataFile,userData:e.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(e.fileId),"user-access":e.userAccess,"reset-note":r.resetNote,"data-note":e.dataNote,"update-data-note":e.updateDataNote,"note-phase1":e.notePhase1,"note-phase2":e.notePhase2,"note-phase3":e.notePhase3,"note-phase4":e.notePhase4,"modal-note":r.modalNote,phase1Attachments:e.dataAttachPhase1,phase2Attachments:e.dataAttachPhase2,phase3Attachments:e.dataAttachPhase3,phase4Attachments:e.dataAttachPhase4,phase5Attachments:e.dataAttachPhase5},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments"])]),_:1})):(u(),c(R,{key:7,value:"4"},{default:l(()=>[Nl]),_:1})),t(R,{value:"5"},{default:l(()=>[t(o,{dataFile:e.dataFile,userData:e.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(e.fileId),"user-access":e.userAccess,"reset-note":r.resetNote,"data-note":e.dataNote,"update-data-note":e.updateDataNote,"note-phase1":e.notePhase1,"note-phase2":e.notePhase2,"note-phase3":e.notePhase3,"note-phase4":e.notePhase4,"modal-note":r.modalNote,phase1Attachments:e.dataAttachPhase1,phase2Attachments:e.dataAttachPhase2,phase3Attachments:e.dataAttachPhase3,phase4Attachments:e.dataAttachPhase4,phase5Attachments:e.dataAttachPhase5},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments"])]),_:1}),t(R,{value:"6"},{default:l(()=>[t(o,{dataFile:e.dataFile,userData:e.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(e.fileId),"user-access":e.userAccess,"reset-note":r.resetNote,"data-note":e.dataNote,"update-data-note":e.updateDataNote,"note-phase1":e.notePhase1,"note-phase2":e.notePhase2,"note-phase3":e.notePhase3,"note-phase4":e.notePhase4,"modal-note":r.modalNote,phase1Attachments:e.dataAttachPhase1,phase2Attachments:e.dataAttachPhase2,phase3Attachments:e.dataAttachPhase3,phase4Attachments:e.dataAttachPhase4,phase5Attachments:e.dataAttachPhase5},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments"])]),_:1})]),_:1})]),_:1},8,["model-value","mobile"])]),_:1})]),_:1}),t(C,{modelValue:e.insertAttch,"onUpdate:modelValue":a[9]||(a[9]=d=>e.insertAttch=d),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Tambah Data ")]),text:l(()=>[t(N,{onSubmit:K(r.insertAttachment,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Pilih Keterangan File",items:e.nameFileList,autofocus:"",modelValue:e.attachFile.name,"onUpdate:modelValue":a[0]||(a[0]=d=>e.attachFile.name=d),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[Ml,jl,t(x,{class:"my-3",modelValue:e.attachFile.note,"onUpdate:modelValue":a[1]||(a[1]=d=>e.attachFile.note=d),rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),e.attachFile.name==="Analisa Awal Kredit AO"||e.attachFile.name==="Analisa Kredit"?(u(),c(h,{key:0,md:"12",cols:"12"},{default:l(()=>[Ol,ql,t(Q,{modelValue:e.selectedOption,"onUpdate:modelValue":a[2]||(a[2]=d=>e.selectedOption=d),mandatory:!0,row:""},{default:l(()=>[t(q,{label:"File",value:"file"}),t(q,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1})):m("",!0),e.selectedOption==="file"?(u(),c(h,{key:1,md:"12",cols:"12"},{default:l(()=>[Ll,Rl,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[3]||(a[3]=d=>r.handleFileChange(d))},null,8,["rules"])]),_:1})):m("",!0),e.selectedOption==="link"?(u(),c(h,{key:2,md:"12",cols:"12"},{default:l(()=>[zl,Bl,t(x,{class:"my-3",modelValue:e.attachFile.link,"onUpdate:modelValue":a[4]||(a[4]=d=>e.attachFile.link=d),autofocus:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),e.dataFile.phase>=2?(u(),c(h,{key:3,md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.attachFile.isSecret,"onUpdate:modelValue":a[5]||(a[5]=d=>e.attachFile.isSecret=d),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1})):m("",!0),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.attachFile.isApprove,"onUpdate:modelValue":a[6]||(a[6]=d=>e.attachFile.isApprove=d),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit",disabled:(e.attachFile.name&&e.attachFile.path&&e.attachFile.isApprove!=1&&e.attachFile.note==null)==null},{default:l(()=>[p(" Simpan ")]),_:1},8,["disabled"]),n("button",{type:"button",class:"btn btn-blue",onClick:a[7]||(a[7]=d=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[8]||(a[8]=d=>e.uploadProgress=d),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.updateAttch,"onUpdate:modelValue":a[16]||(a[16]=d=>e.updateAttch=d),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Edit Data ")]),text:l(()=>[t(N,{onSubmit:K(r.editAttachment,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[Gl,El,t(x,{class:"my-3",modelValue:e.attachFile.name,"onUpdate:modelValue":a[10]||(a[10]=d=>e.attachFile.name=d),autofocus:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[Hl,Jl,t(G,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[e.rules.required],onChange:a[11]||(a[11]=d=>r.handleFileChange(d))},null,8,["rules"])]),_:1}),e.dataFile.phase==2?(u(),c(h,{key:0,md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Termasuk File Rahasia ? (SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.attachFile.isSecret,"onUpdate:modelValue":a[12]||(a[12]=d=>e.attachFile.isSecret=d),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1})):m("",!0),t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Apakah Anda Yakin file sudah benar ?",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:e.attachFile.isApprove,"onUpdate:modelValue":a[13]||(a[13]=d=>e.attachFile.isApprove=d),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Update ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[14]||(a[14]=d=>r.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[15]||(a[15]=d=>e.uploadProgress=d),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isUpdateGeneralInfo,"onUpdate:modelValue":a[26]||(a[26]=d=>e.isUpdateGeneralInfo=d),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Edit Informasi Umum ")]),text:l(()=>[t(N,{onSubmit:K(r.updateGeneralInfo,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[Yl,Wl,t(x,{class:"my-3",modelValue:e.generalInfo.name,"onUpdate:modelValue":a[17]||(a[17]=d=>e.generalInfo.name=d),autofocus:"",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[Xl,Ql,t(x,{class:"my-3",modelValue:e.generalInfo.plafon,"onUpdate:modelValue":a[18]||(a[18]=d=>e.generalInfo.plafon=d),type:"text",onInput:r.formatInputPlafon},null,8,["modelValue","onInput"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[Zl,$l,t(x,{class:"my-3",modelValue:e.generalInfo.type_bussiness,"onUpdate:modelValue":a[19]||(a[19]=d=>e.generalInfo.type_bussiness=d),rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[ea,ta,t(x,{class:"my-3",modelValue:e.generalInfo.desc_bussiness,"onUpdate:modelValue":a[20]||(a[20]=d=>e.generalInfo.desc_bussiness=d),rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[la,aa,t(x,{class:"my-3",modelValue:e.generalInfo.nik_pemohon,"onUpdate:modelValue":a[21]||(a[21]=d=>e.generalInfo.nik_pemohon=d),rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[sa,ia,t(x,{class:"my-3",modelValue:e.generalInfo.address,"onUpdate:modelValue":a[22]||(a[22]=d=>e.generalInfo.address=d),rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{md:"12",cols:"12"},{default:l(()=>[oa,na,t(x,{class:"my-3",modelValue:e.generalInfo.address,"onUpdate:modelValue":a[23]||(a[23]=d=>e.generalInfo.address=d),rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Update ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[24]||(a[24]=d=>r.closeModal(4))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[t(z,{modelValue:e.uploadProgress,"onUpdate:modelValue":a[25]||(a[25]=d=>e.uploadProgress=d),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isUpdateNote,"onUpdate:modelValue":a[28]||(a[28]=d=>e.isUpdateNote=d),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Update Note ")]),text:l(()=>[t(N,{onSubmit:K(r.updateNote,["prevent"])},{default:l(()=>[t(S,{align:"center",justify:"center"},{default:l(()=>[t(h,{md:"10",cols:"10"},{default:l(()=>[t(te,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:e.updateDataNote.note,"onUpdate:modelValue":a[27]||(a[27]=d=>e.updateDataNote.note=d),rows:"2"},null,8,["modelValue"])]),_:1}),t(h,{md:"2",cols:"2"},{default:l(()=>[t(I,{density:"compact",icon:"mdi-note-plus",type:"submit"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isDataPhase3,"onUpdate:modelValue":a[31]||(a[31]=d=>e.isDataPhase3=d),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Hasil Survey ")]),text:l(()=>[t(N,{onSubmit:K(r.updatePhase3,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[ra,da,t(te,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:e.dataPhase3.surveyResult,"onUpdate:modelValue":a[29]||(a[29]=d=>e.dataPhase3.surveyResult=d),rows:"3"},null,8,["modelValue"])]),_:1}),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p("Update")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[30]||(a[30]=d=>r.closeModal(5))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isShowTimers,"onUpdate:modelValue":a[32]||(a[32]=d=>e.isShowTimers=d),width:"auto",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Waktu ")]),text:l(()=>[t(D,{headers:e.timerHeaders,items:e.dataFile.phase_times},{"item-timeDiff":l(d=>[p(y(r.calculateTimeDiff(d.startTime,d.endTime)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isShowAttachment,"onUpdate:modelValue":a[33]||(a[33]=d=>e.isShowAttachment=d),width:"auto",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Waktu ")]),text:l(()=>[t(D,{headers:e.attachmentHeaders,items:e.attachments},null,8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isShowHistory,"onUpdate:modelValue":a[34]||(a[34]=d=>e.isShowHistory=d),width:"auto",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Data Riwayat ")]),text:l(()=>[t(D,{"show-index":"",headers:e.historyHeaders,items:e.dataFile.file_activities},{"item-created_at":l(d=>[p(y(r.formatDate(d.created_at)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isShowApprovals,"onUpdate:modelValue":a[35]||(a[35]=d=>e.isShowApprovals=d),width:"auto",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Riwayat Persetujuan ")]),text:l(()=>[t(D,{headers:e.approvalHeaders,items:e.dataFile.approvals},{"item-approved":l(d=>[parseInt(d.approved)==1?(u(),c(j,{key:0,color:"success"},{default:l(()=>[p(" Disetujui ")]),_:1})):(u(),c(j,{key:1,color:"error"},{default:l(()=>[p(" Belum disetujui ")]),_:1}))]),"item-created_at":l(d=>[p(y(r.formatDate(d.created_at)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:e.isChangeStatusCredit,"onUpdate:modelValue":a[39]||(a[39]=d=>e.isChangeStatusCredit=d),width:"auto",transition:"dialog-top-transition"},{default:l(()=>[t(k,null,{title:l(()=>[p(" Ubah Status File ")]),text:l(()=>[t(N,{onSubmit:K(r.updateStatusCredit,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(h,{md:"12",cols:"12"},{default:l(()=>[t(T,{label:"Ubah Status File",items:[{value:1,title:"Approved"},{value:2,title:"Pending"},{value:3,title:"Rejected"}],modelValue:e.changeStatus.status,"onUpdate:modelValue":a[36]||(a[36]=d=>e.changeStatus.status=d)},null,8,["modelValue"])]),_:1}),e.changeStatus.status==3?(u(),c(h,{key:0,md:"12",cols:"12"},{default:l(()=>[ua,pa,t(te,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:e.changeStatus.reasonRejected,"onUpdate:modelValue":a[37]||(a[37]=d=>e.changeStatus.reasonRejected=d),rows:"2"},null,8,["modelValue"])]),_:1})):m("",!0),t(h,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(I,{type:"submit"},{default:l(()=>[p(" Simpan ")]),_:1}),n("button",{type:"button",class:"btn btn-blue",onClick:a[38]||(a[38]=d=>r.closeModal(9))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])])}const Ca=Y(Tl,[["render",ca],["__scopeId","data-v-7a062fd0"]]);export{Ca as default};
