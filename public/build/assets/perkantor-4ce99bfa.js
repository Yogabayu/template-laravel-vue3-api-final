import{m as V}from"./VAvatar-948ccb70.js";import{_ as U,r as M,o as c,i as f,w as l,a as s,f as h,V as m,e as S,b as i,j as y,c as w,G as L,h as g,t as T,L as A,M as D,O as N,d as C,H as q,a6 as G,I as W,J}from"./main-d5b147b0.js";import{V as H}from"./VContainer-a900e0fc.js";import{a as z,c as Y,b as E,V as R}from"./VCard-13a2d665.js";import{V as P}from"./VRow-8d385ad1.js";import{V as F}from"./VTextField-e84bb552.js";import{V as O}from"./VSelect-365903ad.js";import{V as Q,a as k}from"./VTabs-b0874eca.js";import{V as X,a as Z,b as $,c as K}from"./VWindowItem-75d74ed7.js";import{V as ee}from"./VSpacer-7baff442.js";import{V as x}from"./VTooltip-e7edde5e.js";import{V as te}from"./VDialog-b178e801.js";import{V as ae}from"./VForm-26e5c323.js";import{V as b}from"./VFileInput-3ddd0632.js";import{d as I}from"./VMenu-376134c1.js";import{V as B}from"./VCheckbox-aab529d9.js";import"./VImg-89f03179.js";import"./VInput-6463a4ad.js";import"./index-c0b6e900.js";import"./dialog-transition-4d2d3ae9.js";import"./VChip-c81d9773.js";const se={inject:["loading"],computed:{formattedPlafon:{get(){return this.formatNumber(this.dataForm.plafon)},set(a){this.dataForm.plafon=a.replace(/\D/g,"")}},formattedMaxPlafon:{get(){return this.formatNumber(this.dataForm.plafon)},set(a){this.dataForm.plafon=a.replace(/\D/g,"")}},searchableItems(){return this.items.map(a=>({...a,office_names:a.user.position.offices.map(e=>e.name).join(", ")}))}},data(){return{selectedMonth:new Date().toISOString().slice(0,7),selectedOffice:null,offices:[],monthYear:this.$route.params.monthYear,selectedOption:"bukuNikah",selectedPhoto:"",insert:!1,searchValue:"",userData:null,userToken:null,uploadProgress:null,tab:0,rules:{required:a=>!!a||"Required"},role:{canDownload:0},items:[],originalItems:[],userAccess:null,headers:[{text:"Nama",value:"name",sortable:!0},{text:"Plafon",value:"plafon",sortable:!0},{text:"Status",value:"isApproved",sortable:!0},{text:"AO/RO",value:"aoro",sortable:!0},{text:"Kantor",value:"office_names",sortable:!0},{text:"Tanggal",value:"created_at",sortable:!0},{text:"SLIK",value:"slik",sortable:!1},{text:"Analisa AO/RO",value:"analisaAO",sortable:!1},{text:"Aksi",value:"operation",width:100}],phases:[{value:0},{value:1},{value:2},{value:3},{value:4},{value:5},{value:6},{value:7}],orderList:[{value:"AO SENDIRI",title:"AO SENDIRI"},{value:"C. SERVIS / KANTOR",title:"C. SERVIS / KANTOR"},{value:"NASABAH",title:"NASABAH"},{value:"CROSS SALING DIVISI",title:"CROSS SALING DIVISI"},{value:"AGEN MGM / LAINNYA",title:"AGEN MGM / LAINNYA"},{value:"WEBSITE / WA / SOSMED",title:"WEBSITE / WA/ SOSMED"},{value:"TEAM BUSSINES",title:"TEAM BUSSINES"},{value:"PROGRAM KKB NEW",title:"PROGRAM KKB NEW"},{value:"PROGRAM KKB SECOND",title:"PROGRAM KKB SECOND"},{value:"CENTRO",title:"CENTRO"}],statusCreditList:[{value:"FRESH",title:"FRESH"},{value:"REPEAT ORDER",title:"REPEAT ORDER"},{value:"TOPUP",title:"TOPUP"}],searchField:["name","plafon","phase","type_bussiness","desc_bussiness","reasonRejected","nik_pemohon","nik_pasangan","nik_jaminan","address","no_hp","order_source","status_kredit","user.name","user.position.name","office_names"],dataForm:{id:null,name:"",plafon:null,type_bussiness:null,desc_bussiness:null,nik_pemohon:null,nik_pasangan:null,nik_jaminan:null,address:null,no_hp:null,order_source:null,status_kredit:null,file1:null,hasFile2:!1,file2:null,hasFile3:!1,file3:null,file4:null,file5:null,hasFile7:!1,file7:null,hasFile8:!1,file8:null,hasFile9:!1,file9:null,hasFile10:!1,file10:null,hasFile11:!1,file11:null},isStatusPhase:!1,statusPhase:0}},watch:{tab(a){a==1?this.filterDataStatus(1):a==2?this.filterDataStatus(2):a==3?this.filterDataStatus(3):a==4?this.filterDataStatus(4):a==5?this.filterDataStatus(5):a==6?this.filterDataStatus(6):a==7?this.filterDataStatus(7):this.items=[...this.originalItems]}},methods:{hasSlikAttachment(a){return a.some(e=>e.name.includes("SLIK")&&parseInt(e.phase)==2&&(e.path!="null"||e.link!=null))},hasAnalisaAoAttachment(a){return a.some(e=>e.name.includes("Analisa Awal Kredit AO")&&parseInt(e.phase)==2&&(e.path!="null"||e.link!=null))},goBack(){this.$router.go(-1)},async applyFilter(){try{if(this.selectedOffice==null){this.$showToast("warning","Sorry","Pilih kantor terlebih dahulu");return}this.loading.show();const[a,e]=this.selectedMonth.split("-"),d=new FormData;d.append("year",a),d.append("month",e),d.append("office_id",this.selectedOffice);const u=await V.post("/user/filterData",d);u.status===200?(this.items=u.data.data,this.originalItems=[...this.items],this.loading.hide(),this.tab=0):(this.loading.hide(),this.$showToast("error","Error","Terjadi kesalahan saat filter data"))}catch{this.loading.hide(),this.$showToast("error","Error","Terjadi kesalahan saat filter data")}},openMonthPicker(){this.$refs.monthPicker.$el.querySelector("input").click()},formatDate(a){return new Date(a).toLocaleString("id-ID")},async downloadFile(a){try{this.loading.show();const e=await V.get(`/download-all/${a}`,{responseType:"blob"});if(e.status===200){this.loading.hide();const d=window.URL.createObjectURL(new Blob([e.data])),u=document.createElement("a");u.href=d,u.setAttribute("download",`${a}.zip`),document.body.appendChild(u),u.click(),document.body.removeChild(u),this.$showToast("success","Berhasil","File berhasil diunduh")}else this.loading.hide(),this.$showToast("error","Error","Gagal mengunduh file")}catch{this.loading.hide(),this.$showToast("error","Error","Terjadi kesalahan saat mengunduh file")}},formatInput(a){return a=a.replace(/\D/g,""),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,","),a},toDetail(a){this.$router.push(`/u-credit/${a.id}`)},async deleteFile(a){try{if(this.loading.show(),!window.confirm("Apakah Anda yakin ingin menghapus data? Semua Data akan terhapus secara permanen."))return;const d=await V.delete(`/user/credit/${a.id}`);d.status===200?(this.loading.hide(),this.applyFilter(),this.$showToast("success","Berhasill",d.data.message)):(this.loading.hide(),this.applyFilter(),this.$showToast("error","Sorry",d.data.message))}catch(e){this.loading.hide(),this.applyFilter(),this.$showToast("error","Sorry",e.response.data.message)}},resetFile(a){!this.dataForm[a]!=null&&(this.dataForm[a]=null)},handleFileChange(a,e){const d=a.target.files[0];d&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(d.type)?(this.dataForm[e]=d,e=="file1"?this.dataForm.noteFile1="KTP Pemohon":e=="file2"?this.dataForm.noteFile2="KTP Pasangan":e=="file3"?this.dataForm.noteFile3="KTP Atas Nama Jaminan":e=="file4"?this.dataForm.noteFile4="Kartu Keluarga":e=="file5"?this.dataForm.noteFile5="Buku Nikah":e=="file7"?this.dataForm.noteFile7="Jaminan SHM":e=="file8"?this.dataForm.noteFile8="Jaminan BPKB":e=="file9"?this.dataForm.noteFile9="Foto Detail Mesin":e=="file10"?this.dataForm.noteFile10="Foto Kunjungan":e=="file11"&&(this.dataForm.noteFile11="Foto WhatsApp")):(this.loading.hide(),this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, dan PDF, WORD yang diizinkan."),a.target.value=null)},async getRecaptData(){try{if(this.loading.show(),this.selectedOffice==null){this.$showToast("error","Sorry","Pilih Kantor terlebih dahulu"),this.loading.hide();return}const[a,e]=this.selectedMonth.split("-"),d=new FormData;d.append("year",a),d.append("month",e),d.append("office_id",this.selectedOffice),d.append("type",this.tab);const u=await V.post("/user/filterDataReport",d,{responseType:"blob"});if(u.status===200){this.loading.hide();const t=u.headers["content-disposition"];let r="download.xlsx";if(t){const _=t.match(/filename="?(.+)"?/i);_.length===2&&(r=_[1])}const v=new Blob([u.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),o=window.URL.createObjectURL(v),p=document.createElement("a");p.href=o,p.setAttribute("download",r),document.body.appendChild(p),p.click(),document.body.removeChild(p),this.$showToast("success","Berhasil","File Excel berhasil diunduh")}else this.$showToast("error","Sorry",u.data.data.message)}catch(a){this.loading.hide(),this.$showToast("error","Sorry",a.response.data.message)}},async openModal(a,e=null){a===1?this.insert=!0:a===2&&this.getRecaptData(this.selectedMonth)},closeModal(a){a===1?(this.resetForm(),this.insert=!1):a===2&&(this.resetForm(),this.edit=!1)},resetForm(){this.dataForm={id:null,name:"",plafon:null,file1:null,hasFile2:!1,file2:null,hasFile3:!1,file3:null,file4:null,file5:null,hasFile7:!1,file7:null,hasFile8:!1,file8:null,hasFile9:!1,file9:null,hasFile10:!1,file10:null}},formatInputIn(a){let e=a.target.value;e=e.replace(/\D/g,""),e=e.replace(/\B(?=(\d{3})+(?!\d))/g,","),a.target.value=e},formatNumber(a){return a?a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""},filterDataStatus(a){const e={1:d=>d.isApproved==1,2:d=>d.isApproved==2,3:d=>d.isApproved==3,4:d=>parseInt(d.phase)==1,5:d=>d.attachments.some(u=>u.name.includes("SLIK")&&parseInt(u.phase)==2&&(u.path!="null"||u.link!=null)),6:d=>parseInt(d.phase)==4,7:d=>d.isApproved==4};this.items=a in e?this.originalItems.filter(e[a]):[...this.originalItems]},getUserData(){const a=localStorage.getItem("userData");if(a){this.userData=JSON.parse(a),this.offices=this.userData.position.offices.map(u=>({value:u.id,title:u.name}));const e="ao/ro";if(this.userData.position.name.toLowerCase().replace(/\s/g,"")!==e){const u={value:0,title:"Semua Kantor"};this.offices.unshift(u)}}},formatInputPlafon(a){let e=a.target.value;e=e.replace(/\D/g,""),e=e.replace(/\B(?=(\d{3})+(?!\d))/g,","),a.target.value=e},async insertData(){try{this.loading.show();const a=new FormData;a.append("name",this.dataForm.name),a.append("nik_pemohon",this.dataForm.nik_pemohon),a.append("address",this.dataForm.address),a.append("no_hp",this.dataForm.no_hp),a.append("order_source",this.dataForm.order_source),a.append("status_kredit",this.dataForm.status_kredit),a.append("plafon",this.dataForm.plafon.replace(/\D/g,"")),a.append("type_bussiness",this.dataForm.type_bussiness),a.append("desc_bussiness",this.dataForm.desc_bussiness),this.dataForm.file2!=null&&a.append("nik_pasangan",this.dataForm.nik_pasangan),this.dataForm.file3!=null&&a.append("nik_jaminan",this.dataForm.nik_jaminan);for(let u=1;u<=11;u++){if(u===6)continue;let t="file"+u,r="noteFile"+u,v="hasFile"+u;this.dataForm.hasOwnProperty(v)&&this.dataForm[v]||this.dataForm[t]?this.dataForm[t]&&(a.append(t,this.dataForm[t]),a.append(r,this.dataForm[r])):this.dataForm[t]&&a.append(t,this.dataForm[t])}a.append("_method","POST");const e={onUploadProgress:u=>{try{this.uploadProgress=Math.round(u.loaded*100/u.total)}catch(t){console.error("Error calculating progress:",t)}},headers:{"Content-Type":"multipart/form-data"}},d=await V.post("/user/credit",a,e);d.status===200?(this.loading.hide(),this.closeModal(1),this.applyFilter(),this.uploadProgress=null,this.$showToast("success","Success",d.data.message)):(this.loading.hide(),this.uploadProgress=null,this.applyFilter(),this.$showToast("error","Sorry",d.data.message))}catch(a){this.loading.hide(),this.uploadProgress=null,this.closeModal(1),this.applyFilter(),this.$showToast("error","Sorry",a.response.data.message)}},async getUserAccess(){try{const a=await V.get("/user/userAccess");a.status===200?this.userAccess=a.data.data:console.log(a.data.data.message)}catch(a){console.log(a)}}},mounted(){this.getUserData(),this.getUserAccess()}};const n=a=>(W("data-v-f16dc8c4"),a=a(),J(),a),le={class:"text-body-2"},oe=n(()=>i("p",null,"Data Kosong",-1)),ie=n(()=>i("p",null,"loading data .....",-1)),ne={key:0},re={key:1},de={key:2},ue={key:3},me={class:"operation-wrapper"},pe={class:"d-flex justify-space-between"},ce=["onClick"],he=["onClick"],fe=n(()=>i("span",{style:{color:"red"}},"*",-1)),ge=n(()=>i("span",{class:"subtitle-1 text-center"},"Nama Pemohon: ",-1)),_e=n(()=>i("span",{style:{color:"red"}},"*",-1)),Fe=n(()=>i("span",{class:"subtitle-1 text-center"},"Jumlah Plafon: ",-1)),ye=n(()=>i("span",{style:{color:"red"}},"*",-1)),be=n(()=>i("span",{class:"subtitle-1 text-center"},"NIK Pemohon: ",-1)),ke=n(()=>i("span",{style:{color:"red"}},"*",-1)),ve=n(()=>i("span",{class:"subtitle-1 text-center"},"Alamat Pemohon: ",-1)),Ve=n(()=>i("span",{style:{color:"red"}},"*",-1)),xe=n(()=>i("span",{class:"subtitle-1 text-center"},"No. HP Pemohon: ",-1)),we=n(()=>i("span",{style:{color:"red"}},"*",-1)),Pe=n(()=>i("span",{class:"subtitle-1 text-center"},"Pilih sumber order: ",-1)),Se=n(()=>i("span",{style:{color:"red"}},"*",-1)),Ae=n(()=>i("span",{class:"subtitle-1 text-center"},"Pilih status order: ",-1)),De=n(()=>i("span",{style:{color:"red"}},"*",-1)),Ie=n(()=>i("span",{class:"subtitle-1 text-center"},"KTP Pemohon : ",-1)),Te=n(()=>i("span",{style:{color:"red"}},"*",-1)),Ce=n(()=>i("span",{class:"subtitle-1 text-center"},"Kartu Keluarga : ",-1)),Re=n(()=>i("span",{style:{color:"red"}},"*",-1)),Oe=n(()=>i("span",{class:"subtitle-1 text-center"},"Pilih Jenis Bukti Kunjungan : ",-1)),Ne=n(()=>i("span",{style:{color:"red"}},"*",-1)),Ee=n(()=>i("span",{class:"subtitle-1 text-center"},"Foto Kunjungan :",-1)),Ke=n(()=>i("span",{style:{color:"red"}},"*",-1)),Be=n(()=>i("span",{class:"subtitle-1 text-center"},"Foto WhatsApp :",-1)),je=n(()=>i("span",{style:{color:"red"}},"*",-1)),Ue=n(()=>i("span",{class:"subtitle-1 text-center"},"KTP Pasangan Pemohon : ",-1)),Me=n(()=>i("span",{style:{color:"red"}},"*",-1)),Le=n(()=>i("span",{class:"subtitle-1 text-center"},"NIK Pasangan Pemohon: ",-1)),qe=n(()=>i("span",{style:{color:"red"}},"*",-1)),Ge=n(()=>i("span",{class:"subtitle-1 text-center"},"Buku Nikah:",-1)),We=n(()=>i("span",{style:{color:"red"}},"*",-1)),Je=n(()=>i("span",{class:"subtitle-1 text-center"},"Jaminan SHM:",-1)),He=n(()=>i("span",{style:{color:"red"}},"*",-1)),ze=n(()=>i("span",{class:"subtitle-1 text-center"},"Jaminan BPKB:",-1)),Ye=n(()=>i("span",{style:{color:"red"}},"*",-1)),Qe=n(()=>i("span",{class:"subtitle-1 text-center"},"KTP atas nama Jaminan : ",-1)),Xe=n(()=>i("span",{style:{color:"red"}},"*",-1)),Ze=n(()=>i("span",{class:"subtitle-1 text-center"},"NIK Pemilik Jaminan: ",-1)),$e=n(()=>i("span",{style:{color:"red"}},"*",-1)),et=n(()=>i("span",{class:"subtitle-1 text-center"},"Jenis Usaha: ",-1)),tt=n(()=>i("span",{style:{color:"red"}},"*",-1)),at=n(()=>i("span",{class:"subtitle-1 text-center"},"Deskripsi Usaha: ",-1));function st(a,e,d,u,t,r){const v=M("EasyDataTable");return c(),f(H,{fluid:""},{default:l(()=>[s(R,{class:"mx-auto",elevation:"4"},{default:l(()=>[s(z,null,{default:l(()=>[s(Y,{class:"text-h5 font-weight-bold mx-2"},{default:l(()=>[h(" Filter Bulan dan Kantor ")]),_:1})]),_:1}),s(E,null,{default:l(()=>[s(P,null,{default:l(()=>[s(m,{cols:"12",sm:"6"},{default:l(()=>[s(F,{modelValue:t.selectedMonth,"onUpdate:modelValue":e[0]||(e[0]=o=>t.selectedMonth=o),label:"Pilih Bulan dan Tahun","prepend-icon":"mdi-calendar",type:"month",outlined:"",dense:"",onClick:r.openMonthPicker,ref:"monthPicker"},null,8,["modelValue","onClick"])]),_:1}),s(m,{cols:"12",sm:"6"},{default:l(()=>[s(O,{modelValue:t.selectedOffice,"onUpdate:modelValue":e[1]||(e[1]=o=>t.selectedOffice=o),items:t.offices,label:"Pilih Kantor","prepend-icon":"mdi-office-building",outlined:"",dense:""},null,8,["modelValue","items"])]),_:1})]),_:1}),s(P,{class:"mt-4"},{default:l(()=>[s(m,{cols:"12",class:"text-center"},{default:l(()=>[s(S,{color:"primary",onClick:r.applyFilter,elevation:"2"},{default:l(()=>[h(" Terapkan Filter ")]),_:1},8,["onClick"])]),_:1})]),_:1}),s(P,{class:"mt-4"},{default:l(()=>[s(m,{cols:"12"},{default:l(()=>[i("p",le,[s(y,{small:"",left:""},{default:l(()=>[h("mdi-information")]),_:1}),h(" Pilih bulan, tahun, dan kantor untuk menampilkan data ")])]),_:1})]),_:1})]),_:1})]),_:1}),s(R,{class:"mt-3",elevation:"4"},{default:l(()=>[s(Q,{modelValue:t.tab,"onUpdate:modelValue":e[2]||(e[2]=o=>t.tab=o),class:"v-tabs-pill","bg-color":"secondary"},{default:l(()=>[s(k,{value:"0"},{default:l(()=>[h("Semua")]),_:1}),s(k,{value:"1"},{default:l(()=>[h("Approved")]),_:1}),s(k,{value:"2"},{default:l(()=>[h("Pending")]),_:1}),s(k,{value:"3"},{default:l(()=>[h("Rejected")]),_:1}),s(k,{value:"7"},{default:l(()=>[h("Cancel by Debitur")]),_:1}),h(" | "),s(k,{value:"4"},{default:l(()=>[h("Pooling")]),_:1}),s(k,{value:"5"},{default:l(()=>[h("SLIK")]),_:1}),s(k,{value:"6"},{default:l(()=>[h("Komite")]),_:1})]),_:1},8,["modelValue"]),s(E,null,{default:l(()=>[s(X,{modelValue:t.tab,"onUpdate:modelValue":e[8]||(e[8]=o=>t.tab=o)},{default:l(()=>[(c(!0),w(q,null,L(t.phases,o=>(c(),f(Z,{value:o.value},{default:l(()=>[s(P,{class:"d-flex justify-end pa-3"},{default:l(()=>[t.userAccess&&parseInt(t.userAccess.canInsertData)?(c(),f(S,{key:0,color:"primary",size:"small",class:"my-3 mx-3",onClick:e[3]||(e[3]=p=>r.openModal(1))},{default:l(()=>[s(y,{icon:"mdi-plus"}),h(" Tambah Data ")]),_:1})):g("",!0),s(S,{color:"primary",size:"small",class:"my-3 mx-3",onClick:e[4]||(e[4]=p=>r.openModal(2))},{default:l(()=>[s(y,{icon:"mdi-download"}),h(" Rekap Data ")]),_:1}),s(ee),s(F,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:t.searchValue,"onUpdate:modelValue":e[5]||(e[5]=p=>t.searchValue=p)},null,8,["modelValue"])]),_:1}),i("div",{class:"table-container",onTouchstart:e[6]||(e[6]=C(()=>{},["stop"])),onTouchmove:e[7]||(e[7]=C(()=>{},["stop"]))},[s(v,{"show-index":"",headers:t.headers,items:r.searchableItems,"search-value":t.searchValue,"search-field":t.searchField,"rows-per-page":500,"border-cell":"","buttons-pagination":""},{"empty-message":l(()=>[oe]),loading:l(()=>[ie]),"item-plafon":l(p=>[h("Rp. "+T(r.formatInput(p.plafon))+",-",1)]),"item-isApproved":l(p=>[parseInt(p.isApproved)==1?(c(),w("span",ne," Approved")):g("",!0),parseInt(p.isApproved)==2?(c(),w("span",re," Pending")):g("",!0),parseInt(p.isApproved)==3?(c(),w("span",de," Rejected")):g("",!0),parseInt(p.isApproved)==4?(c(),w("span",ue," Cancel by Debitur")):g("",!0)]),"item-aoro":l(p=>[i("span",null,T(p.user.name),1)]),"item-slik":l(p=>[r.hasSlikAttachment(p.attachments)?(c(),f(x,{key:0,location:"top",text:"Kondisi SLIK Sudah Terupload"},{activator:l(({props:_})=>[i("span",A(D(_)),[s(y,{color:"success"},{default:l(()=>[h("mdi-check-circle")]),_:1})],16)]),_:1})):(c(),f(x,{key:1,location:"top",text:"Kondisi SLIK Belum Terupload"},{activator:l(({props:_})=>[i("span",A(D(_)),[s(y,{color:"error"},{default:l(()=>[h("mdi-close-circle")]),_:1})],16)]),_:1}))]),"item-analisaAO":l(p=>[r.hasAnalisaAoAttachment(p.attachments)?(c(),f(x,{key:0,location:"top",text:"Analisa AO Sudah Terupload"},{activator:l(({props:_})=>[i("span",A(D(_)),[s(y,{color:"success"},{default:l(()=>[h("mdi-check-circle")]),_:1})],16)]),_:1})):(c(),f(x,{key:1,location:"top",text:"Analisa AO Belum Terupload"},{activator:l(({props:_})=>[i("span",A(D(_)),[s(y,{color:"error"},{default:l(()=>[h("mdi-close-circle")]),_:1})],16)]),_:1}))]),"item-created_at":l(p=>[i("span",null,T(r.formatDate(p.created_at))+" WIB",1)]),"item-operation":l(p=>[i("div",me,[i("div",pe,[s(x,{location:"top",text:"Detail Kredit"},{activator:l(({props:_})=>[i("button",N(_,{onClick:j=>r.toDetail(p)}),[s(y,{size:"20",icon:"bx-link-external",color:"blue"})],16,ce)]),_:2},1024),t.role&&t.role.canDownload==1?(c(),f(x,{key:0,location:"top",text:"Download Semua File Kredit"},{activator:l(({props:_})=>[i("button",N(_,{onClick:j=>r.downloadFile(p.id)}),[s(y,{size:"20",icon:"bx-download",color:"red"})],16,he)]),_:2},1024)):g("",!0)])])]),_:1},8,["headers","items","search-value","search-field"])],32)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])]),_:1}),s(te,{modelValue:t.insert,"onUpdate:modelValue":e[36]||(e[36]=o=>t.insert=o),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:l(()=>[s(R,null,{title:l(()=>[h(" Tambah Data")]),text:l(()=>[s(ae,{onSubmit:C(r.insertData,["prevent"])},{default:l(()=>[s(P,null,{default:l(()=>[s(m,{md:"12",cols:"12"},{default:l(()=>[fe,ge,s(F,{class:"my-3",modelValue:t.dataForm.name,"onUpdate:modelValue":e[9]||(e[9]=o=>t.dataForm.name=o),autofocus:"",rules:[t.rules.required]},null,8,["modelValue","rules"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[_e,Fe,s(F,{class:"my-3",modelValue:r.formattedPlafon,"onUpdate:modelValue":e[10]||(e[10]=o=>r.formattedPlafon=o),type:"text",onInput:r.formatInputIn},null,8,["modelValue","onInput"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[ye,be,s(F,{class:"my-3",modelValue:t.dataForm.nik_pemohon,"onUpdate:modelValue":e[11]||(e[11]=o=>t.dataForm.nik_pemohon=o),type:"number",rules:[t.rules.required]},null,8,["modelValue","rules"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[ke,ve,s(F,{class:"my-3",modelValue:t.dataForm.address,"onUpdate:modelValue":e[12]||(e[12]=o=>t.dataForm.address=o),rules:[t.rules.required]},null,8,["modelValue","rules"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[Ve,xe,s(F,{class:"my-3",modelValue:t.dataForm.no_hp,"onUpdate:modelValue":e[13]||(e[13]=o=>t.dataForm.no_hp=o),rules:[t.rules.required]},null,8,["modelValue","rules"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[we,Pe,s(O,{items:t.orderList,autofocus:"",modelValue:t.dataForm.order_source,"onUpdate:modelValue":e[14]||(e[14]=o=>t.dataForm.order_source=o),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[Se,Ae,s(O,{items:t.statusCreditList,autofocus:"",modelValue:t.dataForm.status_kredit,"onUpdate:modelValue":e[15]||(e[15]=o=>t.dataForm.status_kredit=o),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[De,Ie,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[16]||(e[16]=o=>r.handleFileChange(o,"file1"))},null,8,["rules"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[Te,Ce,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[17]||(e[17]=o=>r.handleFileChange(o,"file4"))},null,8,["rules"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[Re,Oe,s($,{modelValue:t.selectedPhoto,"onUpdate:modelValue":e[18]||(e[18]=o=>t.selectedPhoto=o),mandatory:!0,row:""},{default:l(()=>[s(K,{label:"Foto Kunjungan",value:"fotoKunjungan"}),s(K,{label:"Foto WhatsApp",value:"fotoWhatsApp"})]),_:1},8,["modelValue"])]),_:1}),t.selectedPhoto==="fotoKunjungan"?(c(),f(m,{key:0,md:"12",cols:"12"},{default:l(()=>[Ne,Ee,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[19]||(e[19]=o=>{r.handleFileChange(o,"file10"),r.resetFile("file11")})},null,8,["rules"])]),_:1})):g("",!0),t.selectedPhoto==="fotoWhatsApp"?(c(),f(m,{key:1,md:"12",cols:"12"},{default:l(()=>[Ke,Be,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[20]||(e[20]=o=>{r.handleFileChange(o,"file11"),r.resetFile("file10")})},null,8,["rules"])]),_:1})):g("",!0),s(I,{thickness:5}),s(m,{cols:"12",md:"12"},{default:l(()=>[s(B,{modelValue:t.dataForm.hasFile2,"onUpdate:modelValue":e[21]||(e[21]=o=>t.dataForm.hasFile2=o),label:"Apakah pemohon sudah menikah?",onChange:e[22]||(e[22]=o=>(r.resetFile("file2"),t.dataForm.nik_pasangan=null))},null,8,["modelValue"])]),_:1}),s(I,{thickness:5}),t.dataForm.hasFile2?(c(),f(m,{key:2,md:"12",cols:"12"},{default:l(()=>[je,Ue,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[23]||(e[23]=o=>r.handleFileChange(o,"file2"))},null,8,["rules"])]),_:1})):g("",!0),t.dataForm.hasFile2?(c(),f(m,{key:3,md:"12",cols:"12"},{default:l(()=>[Me,Le,s(F,{class:"my-3",type:"number",modelValue:t.dataForm.nik_pasangan,"onUpdate:modelValue":e[24]||(e[24]=o=>t.dataForm.nik_pasangan=o),rules:[t.rules.required]},null,8,["modelValue","rules"])]),_:1})):g("",!0),t.dataForm.hasFile2?(c(),f(m,{key:4,md:"12",cols:"12"},{default:l(()=>[qe,Ge,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[25]||(e[25]=o=>{r.handleFileChange(o,"file5"),r.resetFile("file7"),r.resetFile("file8")})},null,8,["rules"])]),_:1})):g("",!0),t.selectedOption==="jaminanSHM"?(c(),f(m,{key:5,md:"12",cols:"12"},{default:l(()=>[We,Je,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[26]||(e[26]=o=>{r.handleFileChange(o,"file7"),r.resetFile("file5"),r.resetFile("file8")})},null,8,["rules"])]),_:1})):g("",!0),t.selectedOption==="jaminanBPKB"?(c(),f(m,{key:6,md:"12",cols:"12"},{default:l(()=>[He,ze,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[27]||(e[27]=o=>{r.handleFileChange(o,"file8"),r.resetFile("file5"),r.resetFile("file7")})},null,8,["rules"])]),_:1})):g("",!0),s(I,{thickness:5}),s(m,{cols:"12",md:"12"},{default:l(()=>[s(B,{modelValue:t.dataForm.hasFile3,"onUpdate:modelValue":e[28]||(e[28]=o=>t.dataForm.hasFile3=o),label:"Apakah agunan bukan atas nama pemohon?",onChange:e[29]||(e[29]=o=>(r.resetFile("file3"),t.dataForm.nik_jaminan=null))},null,8,["modelValue"])]),_:1}),t.dataForm.hasFile3?(c(),f(m,{key:7,md:"12",cols:"12"},{default:l(()=>[Ye,Qe,s(b,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[t.rules.required],onChange:e[30]||(e[30]=o=>r.handleFileChange(o,"file3"))},null,8,["rules"])]),_:1})):g("",!0),t.dataForm.hasFile3?(c(),f(m,{key:8,md:"12",cols:"12"},{default:l(()=>[Xe,Ze,s(F,{class:"my-3",type:"number",modelValue:t.dataForm.nik_jaminan,"onUpdate:modelValue":e[31]||(e[31]=o=>t.dataForm.nik_jaminan=o),rules:[t.rules.required]},null,8,["modelValue","rules"])]),_:1})):g("",!0),s(I,{thickness:5}),s(m,{md:"12",cols:"12"},{default:l(()=>[$e,et,s(F,{class:"my-3",modelValue:t.dataForm.type_bussiness,"onUpdate:modelValue":e[32]||(e[32]=o=>t.dataForm.type_bussiness=o),rules:[t.rules.required]},null,8,["modelValue","rules"])]),_:1}),s(m,{md:"12",cols:"12"},{default:l(()=>[tt,at,s(F,{class:"my-3",modelValue:t.dataForm.desc_bussiness,"onUpdate:modelValue":e[33]||(e[33]=o=>t.dataForm.desc_bussiness=o),rules:[t.rules.required]},null,8,["modelValue","rules"])]),_:1}),s(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[s(S,{type:"submit",disabled:t.dataForm.name==null||t.dataForm.plafon==null||t.dataForm.type_bussiness==null||t.dataForm.desc_bussiness==null||t.dataForm.file1==null||t.dataForm.file4==null||t.dataForm.file10==null&&t.dataForm.file11==null},{default:l(()=>[h(" Simpan ")]),_:1},8,["disabled"]),i("button",{type:"button",class:"btn btn-blue",onClick:e[34]||(e[34]=o=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:l(()=>[s(G,{modelValue:t.uploadProgress,"onUpdate:modelValue":e[35]||(e[35]=o=>t.uploadProgress=o),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const wt=U(se,[["render",st],["__scopeId","data-v-f16dc8c4"]]);export{wt as default};
