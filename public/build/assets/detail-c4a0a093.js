import{m as T}from"./VGrid-e21975a1.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import{V as P}from"./VRow-818c941c.js";import{c as d,V as _,b as S,d as J,f as me}from"./VCol-711745aa.js";import{V as oe,a as ue,b as ge,c as ye,d as _e,e as $,f as ke,g as B}from"./VStepper-8d7b53e9.js";import{o as p,h,w as t,a as e,V as f,M as A,i as I,e as c,c as v,F as H,t as y,b as o,f as m,G as M,D as W,H as Q,I as Z,E as ee,d as O,a2 as E,r as Y}from"./main-968f0280.js";import{V as F}from"./VTooltip-1a3aaf05.js";import{d as L,a as pe,b as U,c as R,V as Ae}from"./VMenu-a03847c1.js";import{V as te}from"./VOverlay-a43e5c1d.js";import{V as q}from"./VForm-69df8193.js";import{V as w}from"./VTextField-b6693ce5.js";import{b as G,c as C}from"./VWindowItem-3344967a.js";import{V as z}from"./VFileInput-1064b862.js";import{V as N}from"./VSelect-ab4a63ef.js";import{V as K}from"./VDialog-42547129.js";import{V as ne}from"./VSpacer-0fe0335e.js";import{V as de}from"./VChip-42dc257f.js";import{V as ve}from"./VAlert-9357ef82.js";import{V as be}from"./VContainer-ee0590c4.js";import"./VImg-8d777d11.js";import"./VInput-bbb35e93.js";import"./index-d3bb5686.js";import"./dialog-transition-4d2471e9.js";const Se={name:"AttachmentCard1",props:{data:{type:Object,required:!0},fileId:{type:Number,required:!0},filePath:{type:String,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},openModal:{type:Function,required:!0},phase:{type:Number,required:!0}},data(){return{userAccessPhase1:null}},methods:{canViewFile(s){return s.path!=="null"&&(!s.isSecret||this.userAccessPhase1&&parseInt(this.userAccessPhase1.isSecret))},canEditFile(s){return this.userAccessPhase1&&parseInt(this.userAccessPhase1.canUpdateData)&&this.phase<2},canDeleteFile(s){return this.userAccessPhase1&&parseInt(this.userAccessPhase1.canDeleteData)&&this.phase<2},viewFile(s){const a=s.isSecret?this.dataFile.id:this.fileId;window.open(`${this.filePath}/${a}/${s.path}`)}},mounted(){this.userAccessPhase1=this.userAccess[1]}},Pe=s=>(Q("data-v-7af8c856"),s=s(),Z(),s),Fe=Pe(()=>o("span",{class:"text-subtitle-1 font-weight-bold ml-2"},"Phase 1 (Pooling) 📄",-1)),xe={class:"text-subtitle-2 font-weight-bold"},De={key:0,class:"text-caption text-grey-darken-1"},Ie={class:"d-flex"};function we(s,a,n,g,l,r){return p(),h(_,null,{default:t(()=>[e(S,{class:"py-1 header-color"},{default:t(()=>[e(P,{align:"center","no-gutters":""},{default:t(()=>[e(d,{cols:"auto",class:"mr-auto"},{default:t(()=>[Fe]),_:1}),e(d,{cols:"auto"},{default:t(()=>[e(oe,{"max-width":"400"},{activator:t(({props:i})=>[e(f,A({icon:""},i,{color:"on-primary",variant:"text"}),{default:t(()=>[e(I,{color:"white"},{default:t(()=>[c("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(_,null,{default:t(()=>[e(S,{class:"text-h6 py-2 px-4"},{default:t(()=>[c(" Penjelasan Phase 1: Pooling ")]),_:1}),e(S,{class:"py-2 px-4"},{default:t(()=>[c(" Tahap ini meliputi pengumpulan dan verifikasi berkas kredit nasabah. Proses ini dilaksanakan setelah Account Officer (AO) melakukan survei lapangan. Dokumentasi yang terkumpul akan digunakan untuk analisis SLIK (Sistem Layanan Informasi Keuangan) guna menilai kelayakan kredit. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),v(M,null,H(n.data,(i,D)=>(p(),v("div",{key:D,class:"pa-1"},[e(P,{"no-gutters":"",align:"center",class:W(parseInt(i.isSecret)?"bg-grey-lighten-4":"")},{default:t(()=>[e(d,{cols:"auto",class:"mr-2"},{default:t(()=>[e(I,{color:parseInt(i.isApprove)?"success":"error",size:"small"},{default:t(()=>[c(y(parseInt(i.isApprove)?"mdi-check-circle":"mdi-close-circle"),1)]),_:2},1032,["color"])]),_:2},1024),e(d,null,{default:t(()=>[o("div",xe,y(i.name),1),i.note?(p(),v("div",De,y(i.note),1)):m("",!0)]),_:2},1024),e(d,{cols:"auto"},{default:t(()=>[o("div",Ie,[i.path!=null&&!parseInt(i.isSecret)?(p(),v(M,{key:0},[i.path!="null"?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:n.filePath+"/"+n.fileId+"/"+i.path,target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)):m("",!0)],64)):(p(),v(M,{key:1},[l.userAccessPhase1&&parseInt(l.userAccessPhase1.isSecret)&&i.path!="null"?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:n.filePath+"/"+s.dataFile.id+"/"+i.path,target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)):m("",!0)],64)),l.userAccessPhase1&&parseInt(l.userAccessPhase1.canUpdateData)&&n.phase<2?(p(),h(F,{key:2,location:"top",text:"Edit File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>n.openModal(2,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),l.userAccessPhase1&&parseInt(l.userAccessPhase1.canDeleteData)&&n.phase<2?(p(),h(F,{key:3,location:"top",text:"Hapus File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-trash",size:"small",color:"error",variant:"text",onClick:j=>n.deleteAttachment(i.id)}),null,16,["onClick"])]),_:2},1024)):m("",!0)])]),_:2},1024)]),_:2},1032,["class"]),D<n.data.length-1?(p(),h(L,{key:0,class:"mt-3"})):m("",!0)]))),128))]),_:1})}const Ve=X(Se,[["render",we],["__scopeId","data-v-7af8c856"]]);const Ue={props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},phase:{type:Number,required:!0}},watch:{selectedOption(s){s==="file"?this.formDetailSlik.link=null:s==="link"&&(this.formDetailSlik.path=null)}},computed:{isSaveDisabled(){return(!this.formAnalytic.path||this.formAnalytic.path=="null")&&(!this.formAnalytic.link||this.formAnalytic.link==null)},isFormAppealDisabled(){return(!this.formAppeal.path||this.formAppeal.path=="null")&&(!this.formAppeal.link||this.formAppeal.link==null)}},data(){return{userAccessPhase2:null,overlay:!1,selectedOption:"",uploadProgress:null,rules:{required:s=>!!s||"Required"},isFormDetailSlik:!1,formDetailSlik:{id:null,name:null,note:null,path:null,link:null,file_id:this.fileId,isApprove:0,isSecret:0},isFormResumeSlik:!1,formResumeSlik:{id:null,name:null,path:null,note:null,link:null,file_id:this.fileId,isApprove:0,isSecret:0},isAppeal:!1,formAppeal:{id:null,file_id:this.fileId,phase:2,name:"File Banding",path:null,note:null,link:null,isApprove:0,isSecret:0},isAnalytic:!1,formAnalytic:{id:null,file_id:this.fileId,link:null,note:null,phase:2,name:"Analisa Awal Kredit AO",path:null,isApprove:0,isSecret:0}}},methods:{canViewFile(s){return parseInt(s.isSecret)?(s.path!=="null"||s.link!==null)&&this.userAccessPhase2&&parseInt(this.userAccessPhase2.isSecret)===1:s.path!=="null"||s.link!==null},canUploadFile(s){return s.path==="null"&&s.link===null&&this.userAccessPhase2&&parseInt(this.userAccessPhase2.canInsertData)===1},canAppealFile(s){let a=!1;return a=this.userAccessPhase2&&(parseInt(this.userAccessPhase2.canAppeal)==1||parseInt(this.userAccessPhase2.canApproveAppeal)==1),a},canEditFile(s){return this.userAccessPhase2&&parseInt(this.userAccessPhase2.canUpdateData)&&this.phase<3},canDeleteFile(s){return this.userAccessPhase2&&parseInt(this.userAccessPhase2.canDeleteData)&&this.phase<3},getFileUrl(s){return s.path!=="null"?`${this.filePath}/${this.fileId}/${s.path}`:s.link!==null?s.link:"#"},shouldDisplay(s){return!(s.name==="Analisa Awal Kredit AO"||s.name==="File Banding")},showAnalisaAwalCredit(){if(this.data.filter(a=>a.name.includes("SLIK")&&a.isApprove==1&&(a.path!="null"||a.link!=null)).length>0){let a=this.data.find(n=>n.name==="Analisa Awal Kredit AO");if(a!=null)return this.formAnalytic.id=a.id,this.formAnalytic.isApprove=parseInt(a.isApprove),this.formAnalytic.isSecret=parseInt(a.isSecret),this.formAnalytic.path=a.path,this.formAnalytic.link=a.link,!0}return!1},showFileBanding(){const s=this.data.filter(n=>n.name.includes("SLIK")&&n.isApprove==0&&(n.path!=="null"||n.link!==null)),a=this.data.filter(n=>n.name=="File Banding"&&(n.path!=="null"||n.link!==null));if(s.length>0||a.length>0){let n=this.data.find(g=>g.name==="File Banding");if(n!=null)return this.formAppeal.id=n.id,this.formAppeal.isApprove=parseInt(n.isApprove),this.formAppeal.isSecret=parseInt(n.isSecret),this.formAppeal.path=n.path,!0}return!1},handleFileChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formDetailSlik.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},handleAnalyticChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formAnalytic.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},handleAppealChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formAppeal.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},openModal(s,a=null){s==1?a.name=="Detail SLIK"?(this.selectedOption="",this.formDetailSlik.id=a.id,this.formDetailSlik.name=a.name,this.formDetailSlik.note=a.note,this.formDetailSlik.isSecret=parseInt(a.isSecret),this.formDetailSlik.isApprove=parseInt(a.isApprove),this.isFormDetailSlik=!0):a.name=="Resume SLIK"?(this.selectedOption="",this.formDetailSlik.id=a.id,this.formDetailSlik.name=a.name,this.formDetailSlik.note=a.note,this.formDetailSlik.isSecret=parseInt(a.isSecret),this.formDetailSlik.isApprove=parseInt(a.isApprove),this.isFormResumeSlik=!0):(this.formDetailSlik.id=a.id,this.formDetailSlik.name=a.name,this.formDetailSlik.note=a.note,this.formDetailSlik.isSecret=parseInt(a.isSecret),this.formDetailSlik.isApprove=parseInt(a.isApprove),this.isFormResumeSlik=!0):s==2?this.isAnalytic=!0:s==3&&(this.formAppeal.link=null,this.formAppeal.path=null,this.isAppeal=!0)},closeModal(s){s==1?(this.formDetailSlik.id=null,this.formDetailSlik.name=null,this.formDetailSlik.path=null,this.formDetailSlik.link=null,this.formDetailSlik.isSecret=0,this.formDetailSlik.isApprove=0,this.isFormDetailSlik=!1):s==2?(this.formDetailSlik.id=null,this.formDetailSlik.name=null,this.formDetailSlik.path=null,this.formDetailSlik.link=null,this.formDetailSlik.isSecret=0,this.formDetailSlik.isApprove=0,this.isFormResumeSlik=!1):s==3?(this.formAnalytic.id=null,this.formAnalytic.isSecret=0,this.formAnalytic.isApprove=0,this.formAnalytic.path=null,this.formAnalytic.link=null,this.isAnalytic=!1):s==4&&(this.formAppeal.id=null,this.formAppeal.isSecret=0,this.formAppeal.isApprove=0,this.formAppeal.link=null,this.formAppeal.path=null,this.isAppeal=!1)},async insertSlik(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formDetailSlik.name),this.formDetailSlik.note!=null&&s.append("note",this.formDetailSlik.note),this.formDetailSlik.path!=null?s.append("path",this.formDetailSlik.path):this.formDetailSlik.link!=null&&s.append("link",this.formDetailSlik.link),s.append("isSecret",this.formDetailSlik.isSecret),s.append("isApprove",this.formDetailSlik.isApprove),s.append("file_id",this.formDetailSlik.file_id),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post(`/user/edit-attach/${this.formDetailSlik.id}`,s,a);n.status===200?(this.overlay=!1,this.closeModal(1),this.closeModal(2),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(1),this.closeModal(2),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.overlay=!1,this.closeModal(1),this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertAnalytic(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAnalytic.name),s.append("note",this.formAnalytic.note),this.formAnalytic.path!="null"?s.append("path",this.formAnalytic.path):this.formAnalytic.link!=null&&s.append("link",this.formAnalytic.link),s.append("phase",this.formAnalytic.phase),s.append("isSecret",this.formAnalytic.isSecret),s.append("file_id",this.formAnalytic.file_id),s.append("isApprove",this.formAnalytic.isApprove),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post(`/user/edit-attach/${this.formAnalytic.id}`,s,a);n.status===200?(this.overlay=!1,this.closeModal(3),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(3),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.overlay=!1,this.closeModal(3),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertAppeal(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAppeal.name),s.append("note",this.formAppeal.note),this.formAppeal.path!=null&&this.formAppeal.path!=""?s.append("path",this.formAppeal.path):this.formAppeal.link!=null&&this.formAppeal.link!=""&&s.append("link",this.formAppeal.link),s.append("phase",this.formAppeal.phase),s.append("isSecret",this.formAppeal.isSecret),s.append("file_id",this.formAppeal.file_id),s.append("isApprove",this.formAppeal.isApprove),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post(`/user/edit-attach/${this.formAppeal.id}`,s,a);n.status===200?(this.overlay=!1,this.closeModal(4),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(4),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.overlay=!1,this.closeModal(4),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}},mounted(){this.userAccessPhase2=this.userAccess[2]}},b=s=>(Q("data-v-175f3ab4"),s=s(),Z(),s),Te=b(()=>o("span",{class:"text-subtitle-1 font-weight-bold ml-2"},"Phase 2 (SLIK) 📄",-1)),Ce={class:"text-subtitle-2 font-weight-medium"},Ke={key:0,class:"text-caption text-grey-darken-1"},Ne={class:"d-flex"},je={key:0,class:"pa-1"},Me={class:"text-subtitle-2 font-weight-medium"},Oe={key:0,class:"text-caption text-grey-darken-1"},qe={class:"d-flex"},Le={key:1,class:"pa-1"},Re={class:"text-subtitle-2 font-weight-medium"},Ee={class:"d-flex"},ze=b(()=>o("span",{style:{color:"red"}},"*",-1)),Be=b(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),Ge=b(()=>o("span",{class:"subtitle-1 text-center"},"Note: ",-1)),He=b(()=>o("span",{style:{color:"red"}},"*",-1)),Je=b(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),We=b(()=>o("span",{style:{color:"red"}},"*",-1)),Ye=b(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),Xe=b(()=>o("span",{style:{color:"red"}},"*",-1)),Qe=b(()=>o("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),Ze=b(()=>o("span",{style:{color:"red"}},"*",-1)),$e=b(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),et=b(()=>o("span",{style:{color:"red"}},"*",-1)),tt=b(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),lt=b(()=>o("span",{style:{color:"red"}},"*",-1)),at=b(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),st=b(()=>o("span",{style:{color:"red"}},"*",-1)),it=b(()=>o("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),nt=b(()=>o("span",{style:{color:"red"}},"*",-1)),ot=b(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),rt=b(()=>o("span",{style:{color:"red"}},"*",-1)),ut=b(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),dt=b(()=>o("span",{style:{color:"red"}},"*",-1)),pt=b(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),ct=b(()=>o("span",{style:{color:"red"}},"*",-1)),ht=b(()=>o("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),mt=b(()=>o("span",{style:{color:"red"}},"*",-1)),ft=b(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),gt=b(()=>o("span",{style:{color:"red"}},"*",-1)),yt=b(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),_t=b(()=>o("span",{style:{color:"red"}},"*",-1)),kt=b(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),At=b(()=>o("span",{style:{color:"red"}},"*",-1)),vt=b(()=>o("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1));function bt(s,a,n,g,l,r){return p(),v(M,null,[e(te,{"model-value":l.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),c(" Loading... ")]),_:1},8,["model-value"]),e(_,null,{default:t(()=>[e(S,{class:"py-1 header-color"},{default:t(()=>[e(P,{align:"center","no-gutters":""},{default:t(()=>[e(d,{cols:"auto",class:"mr-auto"},{default:t(()=>[Te]),_:1}),e(d,{cols:"auto"},{default:t(()=>[e(oe,{"max-width":"400"},{activator:t(({props:i})=>[e(f,A({icon:""},i,{color:"on-primary",variant:"text"}),{default:t(()=>[e(I,{color:"white"},{default:t(()=>[c("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(_,null,{default:t(()=>[e(S,{class:"text-h6 py-2 px-4"},{default:t(()=>[c(" Penjelasan Phase SLIK ")]),_:1}),e(S,{class:"py-2 px-4"},{default:t(()=>[c(" Tahap ini melibatkan proses pengecekan riwayat kredit nasabah melalui Sistem Layanan Informasi Keuangan (SLIK). SLIK merupakan sistem yang dikelola oleh Otoritas Jasa Keuangan (OJK) untuk menyediakan informasi pinjaman debitur. Hasil analisis SLIK digunakan untuk menilai kelayakan kredit dan risiko nasabah berdasarkan catatan keuangan sebelumnya. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),v(M,null,H(n.data,(i,D)=>(p(),v("div",{key:D,class:"pa-1"},[r.shouldDisplay(i)?(p(),h(P,{key:0,"no-gutters":"",align:"center",class:W(parseInt(i.isSecret)?"bg-grey-lighten-4":"")},{default:t(()=>[e(d,{cols:"auto",class:"mr-2"},{default:t(()=>[e(I,{color:parseInt(i.isApprove)?"success":"error",size:"small"},{default:t(()=>[c(y(parseInt(i.isApprove)?"mdi-check-circle":"mdi-close-circle"),1)]),_:2},1032,["color"])]),_:2},1024),e(d,null,{default:t(()=>[o("div",Ce,y(i.name),1),i.note!=="null"?(p(),v("div",Ke,y(i.note),1)):m("",!0)]),_:2},1024),e(d,{cols:"auto"},{default:t(()=>[o("div",Ne,[r.canViewFile(i)?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:r.getFileUrl(i),target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)):m("",!0),r.canUploadFile(i)?(p(),h(F,{key:1,location:"top",text:"Upload File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-upload",size:"small",color:"primary",variant:"text",class:"mr-2",onClick:j=>r.openModal(1,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),r.canEditFile(i)?(p(),h(F,{key:2,location:"top",text:"Edit File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>r.openModal(1,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),r.canDeleteFile(i)?(p(),h(F,{key:3,location:"top",text:"Hapus File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-trash",size:"small",color:"error",variant:"text",onClick:j=>n.deleteAttachment(i.id)}),null,16,["onClick"])]),_:2},1024)):m("",!0)])]),_:2},1024),D<n.data.length-1?(p(),h(L,{key:0})):m("",!0)]),_:2},1032,["class"])):m("",!0)]))),128)),e(L,{thickness:7}),r.showAnalisaAwalCredit()?(p(),v("div",je,[e(P,{"no-gutters":"",align:"center",class:W(parseInt(l.formAnalytic.isSecret)?"bg-grey-lighten-4":"")},{default:t(()=>[e(d,{cols:"auto",class:"mr-2"},{default:t(()=>[e(I,{color:parseInt(l.formAnalytic.isApprove)?"success":"error",size:"small"},{default:t(()=>[c(y(parseInt(l.formAnalytic.isApprove)?"mdi-check-circle":"mdi-close-circle"),1)]),_:1},8,["color"])]),_:1}),e(d,null,{default:t(()=>[o("div",Me,y(l.formAnalytic.name),1),l.formAnalytic.note!=null?(p(),v("div",Oe,y(l.formAnalytic.note),1)):m("",!0)]),_:1}),e(d,{cols:"auto"},{default:t(()=>[o("div",qe,[r.canViewFile(l.formAnalytic)?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:i})=>[e(f,A(i,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:r.getFileUrl(l.formAnalytic),target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:1})):m("",!0),r.canAppealFile(l.formAnalytic)?(p(),h(F,{key:1,location:"top",text:"Upload File / Link"},{activator:t(({props:i})=>[e(f,A(i,{icon:"bx-upload",size:"small",color:"primary",variant:"text",class:"mr-2",onClick:a[0]||(a[0]=D=>r.openModal(2,l.formAnalytic))}),null,16)]),_:1})):m("",!0),r.canAppealFile(l.formAnalytic)?(p(),h(F,{key:2,location:"top",text:"Edit File"},{activator:t(({props:i})=>[e(f,A(i,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:a[1]||(a[1]=D=>r.openModal(2,l.formAnalytic))}),null,16)]),_:1})):m("",!0)])]),_:1})]),_:1},8,["class"])])):m("",!0),e(L),r.showFileBanding()?(p(),v("div",Le,[e(P,{"no-gutters":"",align:"center",class:W(parseInt(l.formAppeal.isSecret)?"bg-grey-lighten-4":"")},{default:t(()=>[e(d,{cols:"auto",class:"mr-2"},{default:t(()=>[e(I,{color:parseInt(l.formAppeal.isApprove)?"success":"error",size:"small"},{default:t(()=>[c(y(parseInt(l.formAppeal.isApprove)?"mdi-check-circle":"mdi-close-circle"),1)]),_:1},8,["color"])]),_:1}),e(d,null,{default:t(()=>[o("div",Re,y(l.formAppeal.name),1)]),_:1}),e(d,{cols:"auto"},{default:t(()=>[o("div",Ee,[r.canViewFile(l.formAppeal)?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:i})=>[e(f,A(i,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:r.getFileUrl(l.formAppeal),target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:1})):m("",!0),r.canAppealFile(l.formAppeal)?(p(),h(F,{key:1,location:"top",text:"Upload File / Link"},{activator:t(({props:i})=>[e(f,A(i,{icon:"bx-upload",size:"small",color:"primary",variant:"text",class:"mr-2",onClick:a[2]||(a[2]=D=>r.openModal(3))}),null,16)]),_:1})):m("",!0),r.canAppealFile(l.formAppeal)?(p(),h(F,{key:2,location:"top",text:"Edit File"},{activator:t(({props:i})=>[e(f,A(i,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:a[3]||(a[3]=D=>r.openModal(3))}),null,16)]),_:1})):m("",!0)])]),_:1})]),_:1},8,["class"])])):m("",!0)]),_:1}),e(K,{modelValue:l.isFormDetailSlik,"onUpdate:modelValue":a[13]||(a[13]=i=>l.isFormDetailSlik=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Attachment ")]),text:t(()=>[e(q,{onSubmit:O(r.insertSlik,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[ze,Be,e(w,{class:"my-3",modelValue:l.formDetailSlik.name,"onUpdate:modelValue":a[4]||(a[4]=i=>l.formDetailSlik.name=i),autofocus:"",disabled:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[Ge,e(w,{class:"my-3",modelValue:l.formDetailSlik.note,"onUpdate:modelValue":a[5]||(a[5]=i=>l.formDetailSlik.note=i),rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[He,Je,e(G,{modelValue:l.selectedOption,"onUpdate:modelValue":a[6]||(a[6]=i=>l.selectedOption=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"File",value:"file"}),e(C,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),l.selectedOption==="file"?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[We,Ye,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[7]||(a[7]=i=>{r.handleFileChange(i),l.formDetailSlik.link=null})},null,8,["rules"])]),_:1})):m("",!0),l.selectedOption==="link"?(p(),h(d,{key:1,md:"12",cols:"12"},{default:t(()=>[Xe,Qe,e(w,{class:"my-3",modelValue:l.formDetailSlik.link,"onUpdate:modelValue":a[8]||(a[8]=i=>l.formDetailSlik.link=i),type:"link",hint:"Pastikan menggunakan https://",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:l.formDetailSlik.isSecret,"onUpdate:modelValue":a[9]||(a[9]=i=>l.formDetailSlik.isSecret=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.formDetailSlik.isApprove,"onUpdate:modelValue":a[10]||(a[10]=i=>l.formDetailSlik.isApprove=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[11]||(a[11]=i=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[12]||(a[12]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isFormResumeSlik,"onUpdate:modelValue":a[22]||(a[22]=i=>l.isFormResumeSlik=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Attachment ")]),text:t(()=>[e(q,{onSubmit:O(r.insertSlik,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[Ze,$e,e(w,{class:"my-3",modelValue:l.formDetailSlik.name,"onUpdate:modelValue":a[14]||(a[14]=i=>l.formDetailSlik.name=i),autofocus:"",disabled:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[et,tt,e(G,{modelValue:l.selectedOption,"onUpdate:modelValue":a[15]||(a[15]=i=>l.selectedOption=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"File",value:"file"}),e(C,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),l.selectedOption==="file"?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[lt,at,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[16]||(a[16]=i=>{r.handleFileChange(i),l.formDetailSlik.link=null})},null,8,["rules"])]),_:1})):m("",!0),l.selectedOption==="link"?(p(),h(d,{key:1,md:"12",cols:"12"},{default:t(()=>[st,it,e(w,{class:"my-3",modelValue:l.formDetailSlik.link,"onUpdate:modelValue":a[17]||(a[17]=i=>l.formDetailSlik.link=i),type:"link",hint:"Pastikan menggunakan https://",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:l.formDetailSlik.isSecret,"onUpdate:modelValue":a[18]||(a[18]=i=>l.formDetailSlik.isSecret=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.formDetailSlik.isApprove,"onUpdate:modelValue":a[19]||(a[19]=i=>l.formDetailSlik.isApprove=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[20]||(a[20]=i=>r.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[21]||(a[21]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isAnalytic,"onUpdate:modelValue":a[30]||(a[30]=i=>l.isAnalytic=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Analisis AO ")]),text:t(()=>[e(q,{onSubmit:O(r.insertAnalytic,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[nt,ot,e(w,{class:"my-3",modelValue:l.formAnalytic.name,"onUpdate:modelValue":a[23]||(a[23]=i=>l.formAnalytic.name=i),autofocus:"",disabled:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[rt,ut,e(G,{modelValue:l.selectedOption,"onUpdate:modelValue":a[24]||(a[24]=i=>l.selectedOption=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"File",value:"file"}),e(C,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),l.selectedOption==="file"?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[dt,pt,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[25]||(a[25]=i=>{r.handleAnalyticChange(i),l.formAnalytic.link=null})},null,8,["rules"])]),_:1})):m("",!0),l.selectedOption==="link"?(p(),h(d,{key:1,md:"12",cols:"12"},{default:t(()=>[ct,ht,e(w,{class:"my-3",modelValue:l.formAnalytic.link,"onUpdate:modelValue":a[26]||(a[26]=i=>l.formAnalytic.link=i),type:"link",hint:"Pastikan menggunakan https://",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.formAnalytic.isApprove,"onUpdate:modelValue":a[27]||(a[27]=i=>l.formAnalytic.isApprove=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[28]||(a[28]=i=>r.closeModal(3))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[29]||(a[29]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isAppeal,"onUpdate:modelValue":a[39]||(a[39]=i=>l.isAppeal=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Banding AO ")]),text:t(()=>[e(q,{onSubmit:O(r.insertAppeal,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[mt,ft,e(w,{class:"my-3",modelValue:l.formAppeal.name,"onUpdate:modelValue":a[31]||(a[31]=i=>l.formAppeal.name=i),autofocus:"",disabled:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[gt,yt,e(G,{modelValue:l.selectedOption,"onUpdate:modelValue":a[32]||(a[32]=i=>l.selectedOption=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"File",value:"file"}),e(C,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),l.selectedOption==="file"?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[_t,kt,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[33]||(a[33]=i=>{r.handleAppealChange(i),l.formAppeal.link=null})},null,8,["rules"])]),_:1})):m("",!0),l.selectedOption==="link"?(p(),h(d,{key:1,md:"12",cols:"12"},{default:t(()=>[At,vt,e(w,{class:"my-3",modelValue:l.formAppeal.link,"onUpdate:modelValue":a[34]||(a[34]=i=>l.formAppeal.link=i),type:"link",hint:"Pastikan menggunakan https://",rules:[l.rules.required],onChange:a[35]||(a[35]=i=>l.formAppeal.path=null)},null,8,["modelValue","rules"])]),_:1})):m("",!0),l.userAccessPhase2&&parseInt(l.userAccessPhase2.canApproveAppeal)==1?(p(),h(d,{key:2,md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.formAppeal.isApprove,"onUpdate:modelValue":a[36]||(a[36]=i=>l.formAppeal.isApprove=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1})):m("",!0),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[37]||(a[37]=i=>r.closeModal(4))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[38]||(a[38]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const St=X(Ue,[["render",bt],["__scopeId","data-v-175f3ab4"]]);const Pt={name:"AttachmentCard3",props:{data:{type:Object,required:!0},submission:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},phase:{type:Number,required:!0}},watch:{selectedOption(s){s==="file"?this.formAnalisaKredit.link=null:s==="link"&&(this.formAnalisaKredit.path=null)}},computed:{sortedSubmission(){return this.submission.slice().sort((s,a)=>s.type===2&&a.type!==2?-1:s.type!==2&&a.type===2?1:0)}},data(){return{userAccessPhase3:null,selectedOption:"",overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isAnalisaKredit:!1,formAnalisaKredit:{id:null,name:"Analisa Kredit",file_id:this.fileId,path:"null",link:null,isApprove:0,isSecret:0},isSubmission:!1,isUpdateSubmission:!1,formSubmission:{id:null,file_id:null,phase:null,name:null,path:null,link:null,note:null,type:null}}},methods:{canViewFile(s){return parseInt(s.isSecret)?(s.path!=="null"||s.link!==null)&&this.userAccessPhase3&&parseInt(this.userAccessPhase3.isSecret)===1:s.path!=="null"||s.link!==null},canUploadFile(s){return s.path==="null"&&s.link===null&&this.userAccessPhase3&&parseInt(this.userAccessPhase3.canInsertData)==1&&this.phase!=6},canEditFile(s){return this.phase<5&&this.userAccessPhase3&&parseInt(this.userAccessPhase3.canUpdateData)==1&&this.phase!=6},canDeleteFile(s){return this.phase<5&&this.userAccessPhase3&&parseInt(this.userAccessPhase3.canDeleteData)==1&&this.phase!=6},getFileUrl(s){return s.path!=="null"?`${this.filePath}/${this.fileId}/${s.path}`:s.link!==null?s.link:"#"},openModal(s,a=null){s==1?(this.formAnalisaKredit.id=a.id,this.formAnalisaKredit.name=a.name,this.formAnalisaKredit.link=a.link,this.formAnalisaKredit.path=a.path,this.formAnalisaKredit.isSecret=parseInt(a.isSecret),this.formAnalisaKredit.isApprove=parseInt(a.isApprove),this.isAnalisaKredit=!0):s==2?(this.formSubmission.file_id=this.fileId,this.formSubmission.phase=3,this.isSubmission=!0):s==3&&(this.formSubmission.id=a.id,this.formSubmission.file_id=this.fileId,this.formSubmission.phase=3,this.formSubmission.name=a.name,this.formSubmission.type=a.type,this.isUpdateSubmission=!0)},closeModal(s){s==1?(this.formAnalisaKredit.id=null,this.formAnalisaKredit.isSecret=0,this.formAnalisaKredit.isApprove=0,this.selectedOption="",this.isAnalisaKredit=!1):s==2?(this.formSubmission.id=null,this.formSubmission.file_id=null,this.formSubmission.phase=null,this.formSubmission.name=null,this.formSubmission.path=null,this.formSubmission.link=null,this.formSubmission.note=null,this.formSubmission.type=null,this.selectedOption="",this.isSubmission=!1):s==3&&(this.formSubmission.id=null,this.formSubmission.file_id=null,this.formSubmission.phase=null,this.formSubmission.name=null,this.formSubmission.path=null,this.formSubmission.link=null,this.formSubmission.note=null,this.formSubmission.type=null,this.selectedOption="",this.isUpdateSubmission=!1)},handleFileChange(s,a,n){const g=s.target.files[0];g&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(g.type)?a[n]=g:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},async insertAnalisa(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formAnalisaKredit.name),s.append("isSecret",this.formAnalisaKredit.isSecret),s.append("isApprove",this.formAnalisaKredit.isApprove),s.append("file_id",this.formAnalisaKredit.file_id),this.formAnalisaKredit.path!="null"&&this.formAnalisaKredit.path!=null?s.append("path",this.formAnalisaKredit.path):this.formAnalisaKredit.link!=null&&s.append("link",this.formAnalisaKredit.link),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post(`/user/edit-attach/${this.formAnalisaKredit.id}`,s,a);n.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.overlay=!1,this.uploadProgress=null,this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertSubmission(){try{if(this.overlay=!0,this.formSubmission.link==null&&this.formSubmission.path==null){this.isSubmission=!1,this.$showToast("error","Error","File / Link harus diisi"),this.overlay=!1;return}const s=new FormData;s.append("file_id",this.formSubmission.file_id),s.append("name",this.formSubmission.name),s.append("type",this.formSubmission.type),s.append("phase",this.formSubmission.phase),this.formSubmission.path!=null&&this.formSubmission.path!=null?s.append("path",this.formSubmission.path):this.formSubmission.link!=null&&s.append("link",this.formSubmission.link),s.append("_method","POST");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post("/user/file-submission",s,a);n.status===200?(this.overlay=!1,this.closeModal(2),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(2),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.overlay=!1,this.uploadProgress=null,this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteSubmission(s){try{if(!window.confirm("Apakah Anda yakin ingin menghapus data? Data akan terhapus secara permanen."))return;this.overlay=!0;const n=await T.delete(`/user/file-submission/${s}`);n.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",n.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry","Terjadi Kesalahan Silahkan Coba Lagi"))}catch(a){this.overlay=!1,this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.response.data.message)}},async updateSubmission(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.formSubmission.file_id),s.append("name",this.formSubmission.name),s.append("type",this.formSubmission.type),s.append("phase",this.formSubmission.phase),this.formSubmission.path!=null&&this.formSubmission.path!=null?s.append("path",this.formSubmission.path):this.formSubmission.link!=null&&s.append("link",this.formSubmission.link),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post(`/user/file-submission/${this.formSubmission.id}`,s,a);n.status===200?(this.overlay=!1,this.closeModal(3),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(3),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.overlay=!1,this.uploadProgress=null,this.closeModal(3),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}},mounted(){this.userAccessPhase3=this.userAccess[3]}},x=s=>(Q("data-v-fb5d926c"),s=s(),Z(),s),Ft=x(()=>o("span",{class:"text-subtitle-1 font-weight-bold ml-2"},"Phase 3 (Analisa Kredit) 📄",-1)),xt={class:"text-subtitle-2 font-weight-medium"},Dt={key:0,class:"text-caption text-grey-darken-1"},It={class:"d-flex"},wt=x(()=>o("span",{class:"text-subtitle-1 font-weight-bold ml-2"},"Dokumen Penunjang Kredit / Jaminan 📄",-1)),Vt={key:0},Ut={class:"text-subtitle-2 font-weight-medium"},Tt={key:0,class:"text-caption text-grey-darken-1"},Ct={class:"d-flex"},Kt=x(()=>o("span",{style:{color:"red"}},"*",-1)),Nt=x(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),jt=x(()=>o("span",{style:{color:"red"}},"*",-1)),Mt=x(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),Ot=x(()=>o("span",{style:{color:"red"}},"*",-1)),qt=x(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),Lt=x(()=>o("span",{style:{color:"red"}},"*",-1)),Rt=x(()=>o("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),Et=x(()=>o("span",{style:{color:"red"}},"*",-1)),zt=x(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),Bt=x(()=>o("span",{style:{color:"red"}},"*",-1)),Gt=x(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),Ht=x(()=>o("span",{style:{color:"red"}},"*",-1)),Jt=x(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),Wt=x(()=>o("span",{style:{color:"red"}},"*",-1)),Yt=x(()=>o("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),Xt=x(()=>o("span",{style:{color:"red"}},"*",-1)),Qt=x(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Jenis Dokumen : ",-1)),Zt=x(()=>o("span",{style:{color:"red"}},"*",-1)),$t=x(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),el=x(()=>o("span",{style:{color:"red"}},"*",-1)),tl=x(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),ll=x(()=>o("span",{style:{color:"red"}},"*",-1)),al=x(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),sl=x(()=>o("span",{style:{color:"red"}},"*",-1)),il=x(()=>o("span",{class:"subtitle-1 text-center"}," Upload Link: ",-1)),nl=x(()=>o("span",{style:{color:"red"}},"*",-1)),ol=x(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Jenis Dokumen : ",-1));function rl(s,a,n,g,l,r){return p(),v(M,null,[e(te,{"model-value":l.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),c(" Loading... ")]),_:1},8,["model-value"]),e(_,null,{default:t(()=>[e(S,{class:"py-1 header-color"},{default:t(()=>[e(P,{align:"center","no-gutters":""},{default:t(()=>[e(d,{cols:"auto",class:"mr-auto"},{default:t(()=>[Ft]),_:1}),e(d,{cols:"auto"},{default:t(()=>[e(oe,{"max-width":"400"},{activator:t(({props:i})=>[e(f,A({icon:""},i,{color:"on-primary",variant:"text"}),{default:t(()=>[e(I,{color:"white"},{default:t(()=>[c("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(_,null,{default:t(()=>[e(S,{class:"text-h6 py-2 px-4"},{default:t(()=>[c(" Penjelasan Phase Analisa Kredit ")]),_:1}),e(S,{class:"py-2 px-4"},{default:t(()=>[c(" Tahap ini merupakan proses evaluasi mendalam terhadap kelayakan nasabah untuk menerima kredit. Analisa kredit mencakup penilaian aspek 5C: Character (karakter), Capacity (kapasitas), Capital (modal), Collateral (jaminan), dan Condition (kondisi). Tim analis kredit akan mengevaluasi data finansial, riwayat kredit, dan informasi lainnya untuk menentukan tingkat risiko dan kemampuan nasabah dalam memenuhi kewajiban kreditnya. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),v(M,null,H(n.data,(i,D)=>(p(),v("div",{key:D,class:"pa-1"},[e(P,{"no-gutters":"",align:"center",class:W(parseInt(i.isSecret)?"bg-grey-lighten-4":"")},{default:t(()=>[e(d,{cols:"auto",class:"mr-2"},{default:t(()=>[e(I,{color:parseInt(i.isApprove)?"success":"error",size:"small"},{default:t(()=>[c(y(parseInt(i.isApprove)?"mdi-check-circle":"mdi-close-circle"),1)]),_:2},1032,["color"]),e(I,{icon:"mdi-file",size:"small",class:"ml-1"})]),_:2},1024),e(d,null,{default:t(()=>[o("div",xt,y(i.name),1),i.note!=="null"?(p(),v("div",Dt,y(i.note),1)):m("",!0)]),_:2},1024),e(d,{cols:"auto"},{default:t(()=>[o("div",It,[r.canViewFile(i)?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:r.getFileUrl(i),target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)):m("",!0),r.canUploadFile(i)?(p(),h(F,{key:1,location:"top",text:"Upload File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-upload",size:"small",color:"primary",variant:"text",class:"mr-2",onClick:j=>r.openModal(1,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),r.canEditFile(i)?(p(),h(F,{key:2,location:"top",text:"Edit File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>r.openModal(1,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),r.canDeleteFile(i)?(p(),h(F,{key:3,location:"top",text:"Hapus File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-trash",size:"small",color:"error",variant:"text",onClick:j=>n.deleteAttachment(i.id)}),null,16,["onClick"])]),_:2},1024)):m("",!0)])]),_:2},1024)]),_:2},1032,["class"]),D<n.data.length-1?(p(),h(L,{key:0,class:"mt-3"})):m("",!0)]))),128))]),_:1}),e(_,{class:"mt-2"},{default:t(()=>[e(S,{class:"py-1 header-color"},{default:t(()=>[e(P,{align:"center","no-gutters":""},{default:t(()=>[e(d,{cols:"auto",class:"mr-auto"},{default:t(()=>[wt]),_:1}),e(d,{cols:"auto"},{default:t(()=>[o("span",null,[e(f,{color:"primary",size:"x-small",class:"my-3 mx-3",onClick:a[0]||(a[0]=i=>r.openModal(2))},{default:t(()=>[c(" Tambah Data Lain ")]),_:1})])]),_:1})]),_:1})]),_:1}),n.submission.length==0?(p(),v("div",Vt,[e(pe,null,{default:t(()=>[e(U,null,{default:t(()=>[c("Belum ada file")]),_:1})]),_:1})])):m("",!0),r.sortedSubmission.length>0?(p(!0),v(M,{key:1},H(r.sortedSubmission,(i,D)=>(p(),v("div",{key:D},[e(P,{"no-gutters":"",align:"center",class:"pa-2"},{default:t(()=>[e(d,{cols:"auto",class:"mr-2"},{default:t(()=>[e(I,{color:"success",size:"small",icon:"mdi-check-circle"})]),_:1}),e(d,null,{default:t(()=>[o("div",Ut,y(i.name),1),i.type==1?(p(),v("div",Tt,"Dokumen Penunjang Analisa ")):m("",!0)]),_:2},1024),e(d,{cols:"auto"},{default:t(()=>[o("div",Ct,[i.path!=="null"||i.link!==null?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:`${n.filePath}/${n.fileId}/${i.path}`,target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)):m("",!0),l.userAccessPhase3&&parseInt(l.userAccessPhase3.canAppeal)&&n.phase<4?(p(),h(F,{key:1,location:"top",text:"Edit File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>r.openModal(3,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),l.userAccessPhase3&&parseInt(l.userAccessPhase3.canAppeal)&&n.phase<4?(p(),h(F,{key:2,location:"top",text:"Hapus File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-trash",size:"small",color:"error",variant:"text",onClick:j=>r.deleteSubmission(i.id)}),null,16,["onClick"])]),_:2},1024)):m("",!0)])]),_:2},1024)]),_:2},1024)]))),128)):m("",!0)]),_:1}),e(K,{modelValue:l.isAnalisaKredit,"onUpdate:modelValue":a[9]||(a[9]=i=>l.isAnalisaKredit=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Attachment ")]),text:t(()=>[e(q,{onSubmit:O(r.insertAnalisa,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[Kt,Nt,e(w,{class:"my-3",modelValue:l.formAnalisaKredit.name,"onUpdate:modelValue":a[1]||(a[1]=i=>l.formAnalisaKredit.name=i),autofocus:"",disabled:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[jt,Mt,e(G,{modelValue:l.selectedOption,"onUpdate:modelValue":a[2]||(a[2]=i=>l.selectedOption=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"File",value:"file"}),e(C,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),l.selectedOption==="file"?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[Ot,qt,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[3]||(a[3]=i=>{r.handleFileChange(i,this.formAnalisaKredit,"path"),l.formAnalisaKredit.link=null})},null,8,["rules"])]),_:1})):m("",!0),l.selectedOption==="link"?(p(),h(d,{key:1,md:"12",cols:"12"},{default:t(()=>[Lt,Rt,e(w,{class:"my-3",modelValue:l.formAnalisaKredit.link,"onUpdate:modelValue":a[4]||(a[4]=i=>l.formAnalisaKredit.link=i),type:"link",hint:"Pastikan menggunakan https://",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:l.formAnalisaKredit.isSecret,"onUpdate:modelValue":a[5]||(a[5]=i=>l.formAnalisaKredit.isSecret=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.formAnalisaKredit.isApprove,"onUpdate:modelValue":a[6]||(a[6]=i=>l.formAnalisaKredit.isApprove=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[7]||(a[7]=i=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[8]||(a[8]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isSubmission,"onUpdate:modelValue":a[17]||(a[17]=i=>l.isSubmission=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Tambah Data ")]),text:t(()=>[e(q,{onSubmit:O(r.insertSubmission,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[Et,zt,e(w,{class:"my-3",modelValue:l.formSubmission.name,"onUpdate:modelValue":a[10]||(a[10]=i=>l.formSubmission.name=i),autofocus:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[Bt,Gt,e(G,{modelValue:l.selectedOption,"onUpdate:modelValue":a[11]||(a[11]=i=>l.selectedOption=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"File",value:"file"}),e(C,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),l.selectedOption==="file"?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[Ht,Jt,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[12]||(a[12]=i=>{r.handleFileChange(i,this.formSubmission,"path"),l.formSubmission.link=null})},null,8,["rules"])]),_:1})):m("",!0),l.selectedOption==="link"?(p(),h(d,{key:1,md:"12",cols:"12"},{default:t(()=>[Wt,Yt,e(w,{class:"my-3",modelValue:l.formSubmission.link,"onUpdate:modelValue":a[13]||(a[13]=i=>l.formSubmission.link=i),type:"link",hint:"Pastikan menggunakan https://",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),e(d,{md:"12",cols:"12"},{default:t(()=>[Xt,Qt,e(G,{modelValue:l.formSubmission.type,"onUpdate:modelValue":a[14]||(a[14]=i=>l.formSubmission.type=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"Dokumen Penunjang Analisa",value:"1"}),e(C,{label:"Dokumen Jaminan",value:"2"})]),_:1},8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[15]||(a[15]=i=>r.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[16]||(a[16]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isUpdateSubmission,"onUpdate:modelValue":a[25]||(a[25]=i=>l.isUpdateSubmission=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Update Data ")]),text:t(()=>[e(q,{onSubmit:O(r.updateSubmission,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[Zt,$t,e(w,{class:"my-3",modelValue:l.formSubmission.name,"onUpdate:modelValue":a[18]||(a[18]=i=>l.formSubmission.name=i),autofocus:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[el,tl,e(G,{modelValue:l.selectedOption,"onUpdate:modelValue":a[19]||(a[19]=i=>l.selectedOption=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"File",value:"file"}),e(C,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),l.selectedOption==="file"?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[ll,al,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[20]||(a[20]=i=>{r.handleFileChange(i,this.formSubmission,"path"),l.formSubmission.link=null})},null,8,["rules"])]),_:1})):m("",!0),l.selectedOption==="link"?(p(),h(d,{key:1,md:"12",cols:"12"},{default:t(()=>[sl,il,e(w,{class:"my-3",modelValue:l.formSubmission.link,"onUpdate:modelValue":a[21]||(a[21]=i=>l.formSubmission.link=i),type:"link",hint:"Pastikan menggunakan https://",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),e(d,{md:"12",cols:"12"},{default:t(()=>[nl,ol,e(G,{modelValue:l.formSubmission.type,"onUpdate:modelValue":a[22]||(a[22]=i=>l.formSubmission.type=i),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"Dokumen Penunjang Kredit",value:1}),e(C,{label:"Dokumen Jaminan",value:2})]),_:1},8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[23]||(a[23]=i=>r.closeModal(3))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[24]||(a[24]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const ce=X(Pt,[["render",rl],["__scopeId","data-v-fb5d926c"]]);const ul={name:"AttachmentCard4",props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},phase:{type:Number,required:!0}},watch:{selectedOption(s){s==="file"?this.formAnalisaKredit.link=null:s==="link"&&(this.formAnalisaKredit.path=null)}},data(){return{showDesktopDialog:!1,userAccessPhase4:null,selectedOption:"",overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isKomite:!1,formKomite:{id:null,name:"Analisa Kredit",file_id:this.fileId,path:"null",link:null,isApprove:0,isSecret:0}}},methods:{canViewFile(s){return parseInt(s.isSecret)?(s.path!=="null"||s.link!==null)&&this.userAccessPhase4&&parseInt(this.userAccessPhase4.isSecret)===1:s.path!=="null"||s.link!==null},canUploadFile(s){return this.phase<5&&s.path==="null"&&s.link===null&&this.userAccessPhase4&&parseInt(this.userAccessPhase4.canInsertData)==1},canEditFile(s){return this.phase<5&&(s.path!="null"||s.link!=null)&&this.userAccessPhase4&&parseInt(this.userAccessPhase4.canUpdateData)==1&&this.phase!=6},canDeleteFile(s){return this.phase<5&&this.userAccessPhase4&&parseInt(this.userAccessPhase4.canDeleteData)==1&&this.phase!=6},getFileUrl(s){return s.path!=="null"?`${this.filePath}/${this.fileId}/${s.path}`:s.link!==null?s.link:"#"},toSignature(s){if(s.path=="null"&&s.link==null){this.$showToast("info","Perhatian","File harus di upload terlebih dahulu");return}if((()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||window.innerWidth<=800)()){this.$showToast("info","Perhatian","Disarankan menggunakan komputer untuk tampilan dan pengalaman terbaik");return}this.$router.push(`/u-pdfeditor/${s.id}`)},openModal(s,a=null){s==1&&(this.formKomite.id=a.id,this.formKomite.name=a.name,this.formKomite.isSecret=parseInt(a.isSecret),this.formKomite.isApprove=parseInt(a.isApprove),this.isKomite=!0)},closeModal(s){s==1&&(this.formKomite.id=null,this.formKomite.isSecret=0,this.formKomite.isApprove=0,this.isKomite=!1)},handleFileChange(s){const a=s.target.files[0];a&&["application/pdf"].includes(a.type)?this.formKomite.path=a:(this.isKomite=!1,this.$showToast("error","Error","Hanya file PDF yang diizinkan."),s.target.value=null)},async insertKomite(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formKomite.name),s.append("isSecret",this.formKomite.isSecret),s.append("isApprove",this.formKomite.isApprove),s.append("file_id",this.formKomite.file_id),this.formKomite.path!="null"&&this.formKomite.path!=null?s.append("path",this.formKomite.path):this.formKomite.link!=null&&s.append("link",this.formKomite.link),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post(`/user/edit-attach/${this.formKomite.id}`,s,a);n.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}},mounted(){this.userAccessPhase4=this.userAccess[4]}},le=s=>(Q("data-v-2f09f993"),s=s(),Z(),s),dl=le(()=>o("span",{class:"text-subtitle-1 font-weight-bold ml-2"},"Phase 4 (KOMITE) 📄",-1)),pl=le(()=>o("span",null,[c("Tutorial tanda tangan file ( "),o("a",{href:"https://file.yogabayuap.com/index.php/s/6YSRSgcEwaeRAip",target:"_blank"},"disini"),c(" )")],-1)),cl={class:"text-subtitle-2 font-weight-medium"},hl={key:0,class:"text-caption text-grey-darken-1"},ml={class:"d-flex"},fl=le(()=>o("span",{style:{color:"red"}},"*",-1)),gl=le(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),yl=le(()=>o("span",{style:{color:"red"}},"*",-1)),_l=le(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1));function kl(s,a,n,g,l,r){return p(),v(M,null,[e(te,{"model-value":l.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),c(" Loading... ")]),_:1},8,["model-value"]),e(_,null,{default:t(()=>[e(S,{class:"py-1 header-color"},{default:t(()=>[e(P,{align:"center","no-gutters":""},{default:t(()=>[e(d,{cols:"auto",class:"mr-auto"},{default:t(()=>[dl]),_:1}),e(d,{cols:"auto"},{default:t(()=>[e(oe,{"max-width":"400"},{activator:t(({props:i})=>[e(f,A({icon:""},i,{color:"on-primary",variant:"text"}),{default:t(()=>[e(I,{color:"white"},{default:t(()=>[c("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(_,null,{default:t(()=>[e(S,{class:"text-h6 py-2 px-4"},{default:t(()=>[c(" Penjelasan Phase Komite ")]),_:1}),e(S,{class:"py-2 px-4"},{default:t(()=>[c(" Tahap ini merupakan proses pengambilan keputusan akhir terkait pengajuan kredit. Komite Kredit akan memberikan keputusan apakah pengajuan kredit disetujui, ditolak, atau memerlukan informasi tambahan. Keputusan diambil berdasarkan pertimbangan risiko, kebijakan kredit bank, dan potensi keuntungan. Komite juga dapat memberikan rekomendasi terkait syarat dan ketentuan kredit jika disetujui. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),pl]),_:1}),(p(!0),v(M,null,H(n.data,(i,D)=>(p(),v("div",{key:D,class:"pa-1"},[e(P,{"no-gutters":"",align:"center",class:W(parseInt(i.isSecret)?"bg-grey-lighten-4":"")},{default:t(()=>[e(d,{cols:"auto",class:"mr-2"},{default:t(()=>[e(I,{color:parseInt(i.isApprove)?"success":"error",size:"small"},{default:t(()=>[c(y(parseInt(i.isApprove)?"mdi-check-circle":"mdi-close-circle"),1)]),_:2},1032,["color"])]),_:2},1024),e(d,null,{default:t(()=>[o("div",cl,y(i.name),1),i.note!=="null"?(p(),v("div",hl,y(i.note),1)):m("",!0)]),_:2},1024),e(d,{cols:"auto"},{default:t(()=>[o("div",ml,[r.canViewFile(i)?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:r.getFileUrl(i),target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)):m("",!0),r.canUploadFile(i)?(p(),h(F,{key:1,location:"top",text:"Upload File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-upload",size:"small",color:"primary",variant:"text",class:"mr-2",onClick:j=>r.openModal(1,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),r.canEditFile(i)?(p(),h(F,{key:2,location:"top",text:"Edit File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>r.openModal(1,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),l.userAccessPhase4&&parseInt(l.userAccessPhase4.canApprove)&&n.phase<5?(p(),h(F,{key:3,location:"top",text:"Tanda Tangan File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-pen",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>r.toSignature(i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),r.canDeleteFile(i)?(p(),h(F,{key:4,location:"top",text:"Hapus File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-trash",size:"small",color:"error",variant:"text",onClick:j=>n.deleteAttachment(i.id)}),null,16,["onClick"])]),_:2},1024)):m("",!0)])]),_:2},1024)]),_:2},1032,["class"]),D<n.data.length-1?(p(),h(L,{key:0,class:"mt-3"})):m("",!0)]))),128))]),_:1}),e(K,{modelValue:l.isKomite,"onUpdate:modelValue":a[6]||(a[6]=i=>l.isKomite=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Attachment ")]),text:t(()=>[e(q,{onSubmit:O(r.insertKomite,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[fl,gl,e(w,{class:"my-3",modelValue:l.formKomite.name,"onUpdate:modelValue":a[0]||(a[0]=i=>l.formKomite.name=i),autofocus:"",disabled:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[yl,_l,e(z,{class:"my-3",accept:"application/pdf",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[1]||(a[1]=i=>r.handleFileChange(i))},null,8,["rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:l.formKomite.isSecret,"onUpdate:modelValue":a[2]||(a[2]=i=>l.formKomite.isSecret=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(L,{thickness:5,class:"border-opacity-75",color:"info"}),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ? (ubah jika semua sudah menandatangani)",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.formKomite.isApprove,"onUpdate:modelValue":a[3]||(a[3]=i=>l.formKomite.isApprove=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[4]||(a[4]=i=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[5]||(a[5]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.showDesktopDialog,"onUpdate:modelValue":a[7]||(a[7]=i=>l.showDesktopDialog=i),"max-width":"400"},{default:t(()=>[e(_,null,{default:t(()=>[e(J,{class:"headline"},{default:t(()=>[c("Perhatian")]),_:1}),e(S,null,{default:t(()=>[c(" Maaf, fitur ini hanya dapat digunakan pada komputer desktop untuk pengalaman terbaik. ")]),_:1}),e(me,null,{default:t(()=>[e(ne),e(f,{color:"primary",text:"",onClick:s.closeDesktopDialog},{default:t(()=>[c("OK")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const he=X(ul,[["render",kl],["__scopeId","data-v-2f09f993"]]);const Al={name:"AttachmentOperation",props:{data:{type:Object,required:!0},filePath:{type:String,required:!0},fileId:{type:Number,required:!0},userAccess:{type:Object,required:!0},deleteAttachment:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},phase:{type:Number,required:!0}},data(){return{userAccessPhase5:null,overlay:!1,uploadProgress:null,rules:{required:s=>!!s||"Required"},isSp3k:!1,formsp3k:{id:null,name:"SP3K",file_id:this.fileId,path:null,isApprove:0,isSecret:0}}},methods:{canViewFile(s){return parseInt(s.isSecret)?(s.path!=="null"||s.link!==null)&&this.userAccessPhase5&&parseInt(this.userAccessPhase5.isSecret)===1:s.path!=="null"||s.link!==null},canUploadFile(s){return this.phase<6&&s.path==="null"&&s.link===null&&this.userAccessPhase5&&parseInt(this.userAccessPhase5.canInsertData)==1},canEditFile(s){return this.phase<6&&this.userAccessPhase5&&parseInt(this.userAccessPhase5.canUpdateData)==1&&this.phase!=6},canDeleteFile(s){return this.phase<6&&this.userAccessPhase5&&parseInt(this.userAccessPhase5.canDeleteData)==1&&this.phase!=6},getFileUrl(s){return s.path!=="null"?`${this.filePath}/${this.fileId}/${s.path}`:s.link!==null?s.link:"#"},openModal(s,a=null){s==1&&(this.formsp3k.id=a.id,this.formsp3k.name=a.name,this.formsp3k.isSecret=parseInt(a.isSecret),this.formsp3k.isApprove=parseInt(a.isApprove),this.isSp3k=!0)},closeModal(s){s==1&&(this.formsp3k.id=null,this.formsp3k.isSecret=0,this.formsp3k.path=null,this.formsp3k.isApprove=0,this.isSp3k=!1)},handleFileChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.formsp3k.path=a:(this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, dan DOCX yang diizinkan."),s.target.value=null)},async insertSpk3k(){try{this.overlay=!0;const s=new FormData;s.append("name",this.formsp3k.name),s.append("path",this.formsp3k.path),s.append("isSecret",this.formsp3k.isSecret),s.append("isApprove",this.formsp3k.isApprove),s.append("file_id",this.formsp3k.file_id),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post(`/user/edit-attach/${this.formsp3k.id}`,s,a);n.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}}},mounted(){this.userAccessPhase5=this.userAccess[5]}},re=s=>(Q("data-v-2d307c1d"),s=s(),Z(),s),vl=re(()=>o("span",{class:"text-subtitle-1 font-weight-bold ml-2"},"Phase Operation 📄",-1)),bl={class:"text-subtitle-2 font-weight-medium"},Sl={key:0,class:"text-caption text-grey-darken-1"},Pl={class:"d-flex"},Fl=re(()=>o("span",{style:{color:"red"}},"*",-1)),xl=re(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),Dl=re(()=>o("span",{style:{color:"red"}},"*",-1)),Il=re(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1));function wl(s,a,n,g,l,r){return p(),v(M,null,[e(te,{"model-value":l.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),c(" Loading... ")]),_:1},8,["model-value"]),e(_,null,{default:t(()=>[e(S,{class:"py-1 header-color"},{default:t(()=>[e(P,{align:"center","no-gutters":""},{default:t(()=>[e(d,{cols:"auto",class:"mr-auto"},{default:t(()=>[vl]),_:1}),e(d,{cols:"auto"},{default:t(()=>[e(oe,{"max-width":"400"},{activator:t(({props:i})=>[e(f,A({icon:""},i,{color:"on-primary",variant:"text"}),{default:t(()=>[e(I,{color:"white"},{default:t(()=>[c("mdi-help-circle-outline")]),_:1})]),_:2},1040)]),default:t(()=>[e(_,null,{default:t(()=>[e(S,{class:"text-h6 py-2 px-4"},{default:t(()=>[c(" Penjelasan Phase Operation ")]),_:1}),e(S,{class:"py-2 px-4"},{default:t(()=>[c(" Tahap Operation merupakan fase implementasi dan pengelolaan kredit setelah disetujui. Tujuan utama tahap ini adalah memastikan kredit berjalan sesuai dengan ketentuan yang disepakati dan meminimalkan risiko operasional. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(p(!0),v(M,null,H(n.data,(i,D)=>(p(),v("div",{key:D,class:"pa-1"},[e(P,{"no-gutters":"",align:"center",class:W(parseInt(i.isSecret)?"bg-grey-lighten-4":"")},{default:t(()=>[e(d,{cols:"auto",class:"mr-2"},{default:t(()=>[e(I,{color:parseInt(i.isApprove)?"success":"error",size:"small"},{default:t(()=>[c(y(parseInt(i.isApprove)?"mdi-check-circle":"mdi-close-circle"),1)]),_:2},1032,["color"])]),_:2},1024),e(d,null,{default:t(()=>[o("div",bl,y(i.name),1),i.note!=="null"?(p(),v("div",Sl,y(i.note),1)):m("",!0)]),_:2},1024),e(d,{cols:"auto"},{default:t(()=>[o("div",Pl,[r.canViewFile(i)?(p(),h(F,{key:0,location:"top",text:"Lihat File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-link-external",size:"small",color:"primary",variant:"text",class:"mr-2",href:r.getFileUrl(i),target:"_blank",rel:"noopener noreferrer"}),null,16,["href"])]),_:2},1024)):m("",!0),r.canUploadFile(i)?(p(),h(F,{key:1,location:"top",text:"Upload File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-upload",size:"small",color:"primary",variant:"text",class:"mr-2",onClick:j=>r.openModal(1,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),r.canEditFile(i)?(p(),h(F,{key:2,location:"top",text:"Edit File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-edit",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>r.openModal(1,i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),s.userAccessPhase4&&parseInt(s.userAccessPhase4.canApprove)&&n.phase<5?(p(),h(F,{key:3,location:"top",text:"Tanda Tangan File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-pen",size:"small",color:"info",variant:"text",class:"mr-2",onClick:j=>s.toSignature(i)}),null,16,["onClick"])]),_:2},1024)):m("",!0),r.canDeleteFile(i)?(p(),h(F,{key:4,location:"top",text:"Hapus File"},{activator:t(({props:u})=>[e(f,A(u,{icon:"bx-trash",size:"small",color:"error",variant:"text",onClick:j=>n.deleteAttachment(i.id)}),null,16,["onClick"])]),_:2},1024)):m("",!0)])]),_:2},1024)]),_:2},1032,["class"]),D<n.data.length-1?(p(),h(L,{key:0,class:"mt-3"})):m("",!0)]))),128))]),_:1}),e(K,{modelValue:l.isSp3k,"onUpdate:modelValue":a[6]||(a[6]=i=>l.isSp3k=i),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Attachment ")]),text:t(()=>[e(q,{onSubmit:O(r.insertSpk3k,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[Fl,xl,e(w,{class:"my-3",modelValue:l.formsp3k.name,"onUpdate:modelValue":a[0]||(a[0]=i=>l.formsp3k.name=i),autofocus:"",disabled:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[Dl,Il,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[1]||(a[1]=i=>r.handleFileChange(i))},null,8,["rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:l.formsp3k.isSecret,"onUpdate:modelValue":a[2]||(a[2]=i=>l.formsp3k.isSecret=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.formsp3k.isApprove,"onUpdate:modelValue":a[3]||(a[3]=i=>l.formsp3k.isApprove=i),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[4]||(a[4]=i=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[5]||(a[5]=i=>l.uploadProgress=i),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}const Vl=X(Al,[["render",wl],["__scopeId","data-v-2d307c1d"]]);const Ul={components:{AttachmentCard1:Ve,AttachmentCard2:St,AttachmentCard3:ce,attachmentCard3:ce,AttachmentCard4:he,attachmentCard4:he,attachmentOperation:Vl},name:"Phase",props:{phase1Attachments:{type:Object,required:!0},phase2Attachments:{type:Object,required:!0},phase3Attachments:{type:Object,required:!0},phase4Attachments:{type:Object,required:!0},phase5Attachments:{type:Object,required:!0},userAccess:{type:Object,required:!0},dataFile:{type:Object,required:!0},userData:{type:Object,required:!0},dataNote:{type:Object,required:!0},updateDataNote:{type:Object,required:!0},insertNote:{type:Function,required:!0},changeApproval:{type:Function,required:!0},formatDate:{type:Function,required:!0},openModal:{type:Function,required:!0},deleteAttachment:{type:Function,required:!0},deleteNote:{type:Function,required:!0},getDetailFile:{type:Function,required:!0},step:{type:Function,required:!0},fileId:{type:String,required:!0},resetNote:{type:Function,required:!0},notePhase1:{type:Object,required:!0},notePhase2:{type:Object,required:!0},notePhase3:{type:Object,required:!0},notePhase4:{type:Object,required:!0},modalNote:{type:Function,required:!0},submissions:{type:Object,required:!0}},data(){return{overlay:!1,userAccessNow:null,userAccessPhase1:null,filePath:this.$filePath,isUpdateNote:!1,currentPage:1,itemsPerPage:10,otherButtons:[{id:6,name:"Data Durasi Waktu"},{id:7,name:"Data Aktivitas"},{id:8,name:"Data Riwayat Persetujuan"},{id:10,name:"Data Riwayat Dokumen"}]}},computed:{paginatedNotes(){const s=(this.currentPage-1)*this.itemsPerPage,a=s+this.itemsPerPage;return this.dataFile.notes.slice(s,a)},isAccountOfficer(){return["Account Officer","AO","ao","account officer","Account Officer Executive","account officer executive","Account Officer / Executive AO","AO / RO"].includes(this.userData.position.name)}},methods:{getStatusColor(s){return{1:"success",2:"warning",3:"error",4:"error"}[s]||"default"},getStatusText(s){return{1:"Approved",2:"Pending",3:"Rejected",4:"Cancel by debitur"}[s]||"Unknown"},async generateReport(s){try{this.overlay=!0;const a=await T.get(`/user/generatereport/${s}`,{responseType:"blob"});if(a.status==200){this.overlay=!1;const n=window.URL.createObjectURL(new Blob([a.data])),g=document.createElement("a");g.href=n,g.setAttribute("download",`${this.dataFile.name}.pdf`),document.body.appendChild(g),g.click(),document.body.removeChild(g),this.$showToast("success","Berhasil","File berhasil diunduh")}else this.overlay=!1,this.$showToast("error","Error","Gagal mengunduh file")}catch(a){console.log(a),this.overlay=!1,this.$showToast("error","Error","Terjadi kesalahan saat mengunduh file")}},onPageChange(s){this.currentPage=s},formatInput(s){return s=s.replace(/\D/g,""),s=s.replace(/\B(?=(\d{3})+(?!\d))/g,","),s}},mounted(){this.userAccessNow=this.userAccess[this.dataFile.phase],this.userAccessPhase1=this.userAccess[1]}},ae=s=>(Q("data-v-a5075da0"),s=s(),Z(),s),Tl=ae(()=>o("span",null,"Detail",-1)),Cl=ae(()=>o("span",null,"Alasan Ditolak : ",-1)),Kl=ae(()=>o("span",null,"Informasi Umum ℹ️",-1)),Nl=ae(()=>o("span",null,"Dokumen Pendukung 📄",-1)),jl={class:"mb-5"},Ml={class:"mb-5"},Ol={class:"mb-5"},ql={class:"mb-5"},Ll={class:"mb-5"},Rl={class:"d-flex flex-wrap justify-center"},El={class:"chip-text"},zl={class:"button-text"},Bl=ae(()=>o("span",null,"Catatan 📃",-1)),Gl={class:"comment-content"},Hl={class:"pl-2"},Jl=ae(()=>o("p",{class:"text-center"},"Tidak ada catatan",-1));function Wl(s,a,n,g,l,r){const i=Y("AttachmentCard1"),D=Y("AttachmentCard2"),u=Y("attachmentCard3"),j=Y("attachmentCard4"),fe=Y("attachmentOperation");return p(),v(M,null,[e(te,{"model-value":l.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),c(" Loading... ")]),_:1},8,["model-value"]),e(_,{color:"backgroundCard","min-width":"100%",class:"v-card-custom"},{default:t(()=>[e(J,{class:"text-2xl font-weight-bold d-flex flex-column align-center"},{default:t(()=>[Tl,e(de,{color:r.getStatusColor(n.dataFile.isApproved),onClick:a[0]||(a[0]=V=>!r.isAccountOfficer&&n.openModal(9)),class:W({"mt-2":!0,clickable:!r.isAccountOfficer}),small:""},{default:t(()=>[c(y(r.getStatusText(n.dataFile.isApproved)),1)]),_:1},8,["color","class"])]),_:1}),n.dataFile&&parseInt(n.dataFile.phase)==6?(p(),h(S,{key:0,class:"text-2xl font-weight-bold d-flex flex-column align-center"},{default:t(()=>[e(f,{color:"primary",onClick:a[1]||(a[1]=V=>r.generateReport(n.fileId)),size:"x-small"},{default:t(()=>[c(" Generate Laporan ")]),_:1})]),_:1})):m("",!0),n.dataFile.reasonRejected!=null?(p(),h(S,{key:1},{default:t(()=>[e(ve,{type:"error",border:"left",class:"mt-2 mb-0"},{default:t(()=>[Cl,o("strong",null,y(n.dataFile&&n.dataFile.reasonRejected),1)]),_:1})]),_:1})):m("",!0),e(S,null,{default:t(()=>[e(be,{fluid:""},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{cols:"12",md:"6"},{default:t(()=>[e(_,{class:"mb-5"},{default:t(()=>[e(J,null,{default:t(()=>[e(P,{class:"pa-2"},{default:t(()=>[Kl,e(ne),parseInt(n.dataFile.phase)<5&&(l.userAccessPhase1&&parseInt(l.userAccessPhase1.canUpdateData)==1||l.userAccessNow&&parseInt(l.userAccessNow.canUpdateData)==1)?(p(),h(f,{key:0,color:"primary",size:"x-small",class:"mt-2",onClick:a[2]||(a[2]=V=>n.openModal(4))},{default:t(()=>[c(" Edit Data ")]),_:1})):m("",!0)]),_:1})]),_:1}),e(S,null,{default:t(()=>[e(pe,{density:"compact",lines:"two"},{default:t(()=>[e(U,null,{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" Nama Pemohon ")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.name),1)]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" NIK Pemohon ")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.nik_pemohon),1)]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" Alamat Pemohon ")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.address),1)]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" No. HP Pemohon")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.no_hp),1)]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" Jumlah Plafon")]),_:1}),e(U,null,{default:t(()=>[o("strong",null," Rp "+y(r.formatInput(n.dataFile.plafon)),1)]),_:1})]),_:1}),n.dataFile.nik_pasangan?(p(),h(U,{key:0},{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" NIK Pasangan")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.nik_pasangan),1)]),_:1})]),_:1})):m("",!0),n.dataFile.nik_jaminan?(p(),h(U,{key:1},{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" NIK atas nama Jaminan")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.nik_jaminan),1)]),_:1})]),_:1})):m("",!0),e(U,null,{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" Jenis Usaha")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.type_bussiness),1)]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" Deskripsi Usaha")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.desc_bussiness),1)]),_:1})]),_:1}),n.dataFile.order_source?(p(),h(U,{key:2},{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" Sumber Order")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.order_source),1)]),_:1})]),_:1})):m("",!0),n.dataFile.status_kredit?(p(),h(U,{key:3},{default:t(()=>[e(R,null,{default:t(()=>[e(I,{icon:"mdi-arrow-right-drop-circle-outline",size:"small"}),c(" Status Kredit")]),_:1}),e(U,null,{default:t(()=>[o("strong",null,y(n.dataFile.status_kredit),1)]),_:1})]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",md:"6"},{default:t(()=>[e(_,null,{default:t(()=>[e(J,null,{default:t(()=>[e(P,{class:"pa-2 mb-1"},{default:t(()=>[Nl,e(ne),parseInt(n.dataFile.phase)<5&&l.userAccessNow&&parseInt(l.userAccessNow.canInsertData)==1?(p(),h(f,{key:0,color:"primary",size:"x-small",class:"mt-2",onClick:a[3]||(a[3]=V=>n.openModal(1))},{default:t(()=>[c(" Tambah Data Lain ")]),_:1})):m("",!0)]),_:1})]),_:1}),e(S,null,{default:t(()=>[o("div",jl,[e(i,{data:n.phase1Attachments,fileId:parseInt(n.dataFile.id),filePath:l.filePath,userAccess:n.userAccess,deleteAttachment:n.deleteAttachment,openModal:n.openModal,phase:parseInt(n.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","openModal","phase"])]),o("div",Ml,[parseInt(n.dataFile.phase)>1?(p(),h(D,{key:0,data:n.phase2Attachments,fileId:parseInt(n.dataFile.id),filePath:l.filePath,userAccess:n.userAccess,deleteAttachment:n.deleteAttachment,getDetailFile:n.getDetailFile,phase:parseInt(n.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile","phase"])):m("",!0)]),o("div",Ol,[parseInt(n.dataFile.phase)>2?(p(),h(u,{key:0,data:n.phase3Attachments,fileId:parseInt(n.dataFile.id),filePath:l.filePath,userAccess:n.userAccess,deleteAttachment:n.deleteAttachment,getDetailFile:n.getDetailFile,submission:n.submissions,phase:parseInt(n.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile","submission","phase"])):m("",!0)]),o("div",ql,[parseInt(n.dataFile.phase)>3?(p(),h(j,{key:0,data:n.phase4Attachments,fileId:parseInt(n.dataFile.id),filePath:l.filePath,userAccess:n.userAccess,deleteAttachment:n.deleteAttachment,getDetailFile:n.getDetailFile,phase:parseInt(n.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile","phase"])):m("",!0)]),o("div",Ll,[parseInt(n.dataFile.phase)>4?(p(),h(fe,{key:0,data:n.phase5Attachments,fileId:parseInt(n.dataFile.id),filePath:l.filePath,userAccess:n.userAccess,deleteAttachment:n.deleteAttachment,getDetailFile:n.getDetailFile,phase:parseInt(n.dataFile.phase)},null,8,["data","fileId","filePath","userAccess","deleteAttachment","getDetailFile","phase"])):m("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n.dataFile&&parseInt(n.dataFile.phase)<6?(p(),h(S,{key:2,class:"pa-4"},{default:t(()=>[e(_,null,{default:t(()=>[e(S,{class:"d-flex justify-center text-center pa-3 font-weight-bold"},{default:t(()=>[c(" Status Approval Phase ✅ ")]),_:1}),e(S,{class:"pa-3"},{default:t(()=>[o("div",Rl,[(p(!0),v(M,null,H(n.dataFile.approvals,(V,se)=>(p(),v(M,{key:se},[n.dataFile.phase==V.phase?(p(),h(de,{key:0,class:"ma-2 pa-2",color:V.approved==1?"success":"error",onClick:ie=>n.changeApproval(V.id)},{default:t(()=>[o("span",El,y(V.user.name)+" - "+y(V.user.position.name),1)]),_:2},1032,["color","onClick"])):m("",!0)],64))),128))])]),_:1})]),_:1})]),_:1})):m("",!0),e(S,null,{default:t(()=>[e(_,{outlined:"",class:"p-2"},{default:t(()=>[e(J,{class:"d-flex justify-center"},{default:t(()=>[c(" Lain - lain 🔹 ")]),_:1}),e(S,{class:"d-flex flex-wrap justify-center"},{default:t(()=>[(p(!0),v(M,null,H(l.otherButtons,(V,se)=>(p(),h(f,{key:se,variant:"outlined",class:"ma-2 mobile-btn",onClick:ie=>n.openModal(V.id)},{default:t(()=>[o("span",zl,y(V.name),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(L),e(S,null,{default:t(()=>[e(_,{outlined:"",class:"py-2 px-4"},{default:t(()=>[e(J,null,{default:t(()=>[Bl]),_:1}),e(S,null,{default:t(()=>[e(q,{onSubmit:O(n.insertNote,["prevent"])},{default:t(()=>[e(ue,{outlined:"",rows:"2",placeholder:"Tambahkan catatan disini",modelValue:n.dataNote.note,"onUpdate:modelValue":a[4]||(a[4]=V=>n.dataNote.note=V)},null,8,["modelValue"]),e(f,{color:"primary",type:"submit",block:"",class:"mt-2"},{default:t(()=>[e(I,null,{default:t(()=>[c("mdi-note-plus")]),_:1}),c(" Tambah Catatan ")]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),e(_,{outlined:"",class:"my-4"},{default:t(()=>[e(S,{class:"d-flex justify-center text-center pa-3 font-weight-bold"},{default:t(()=>[c(" Catatan ")]),_:1}),e(L,{class:"border-opacity-100"}),r.paginatedNotes.length>0?(p(),h(S,{key:0},{default:t(()=>[(p(!0),v(M,null,H(r.paginatedNotes,(V,se)=>(p(),v("div",{key:se,class:"user-comment"},[o("div",Gl,[o("p",Hl,y(V.note),1),e(P,{class:"justify-space-between align-center py-2 px-2"},{default:t(()=>[o("small",null,[o("strong",null,y(V.user.name)+" - "+y(V.user.position.name),1)]),c(" -- "),o("small",null,y(n.formatDate(V.created_at)),1),e(ne),n.userData.id==V.user_id?(p(),h(Ae,{key:0,transition:"scale-transition",bottom:"",left:""},{activator:t(({props:ie})=>[e(f,A({icon:""},ie,{variant:"text"}),{default:t(()=>[e(I,null,{default:t(()=>[c("mdi-dots-vertical")]),_:1})]),_:2},1040)]),default:t(()=>[e(pe,null,{default:t(()=>[e(U,{color:"primary",onClick:ie=>n.openModal(3,V)},{default:t(()=>[e(U,null,{default:t(()=>[e(I,null,{default:t(()=>[c("mdi-pencil")]),_:1})]),_:1}),e(R,null,{default:t(()=>[c("Edit")]),_:1})]),_:2},1032,["onClick"]),e(U,{color:"error",onClick:ie=>n.deleteNote(V.id)},{default:t(()=>[e(U,null,{default:t(()=>[e(I,null,{default:t(()=>[c("mdi-delete")]),_:1})]),_:1}),e(R,null,{default:t(()=>[c("Hapus")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)):m("",!0)]),_:2},1024)])]))),128)),e(ge,{modelValue:l.currentPage,"onUpdate:modelValue":a[5]||(a[5]=V=>l.currentPage=V),length:Math.ceil(n.dataFile.notes.length/l.itemsPerPage),onInput:r.onPageChange},null,8,["modelValue","length","onInput"])]),_:1})):(p(),h(S,{key:1},{default:t(()=>[Jl]),_:1}))]),_:1})]),_:1}),l.userAccessNow&&parseInt(l.userAccessNow.canApprove)&&parseInt(n.dataFile.isApproved)!=3&&parseInt(n.dataFile.isApproved)!=4?(p(),h(me,{key:3},{default:t(()=>[e(d,{class:"d-flex justify-space-beetwen"},{default:t(()=>[n.dataFile&&parseInt(n.dataFile.phase)>1?(p(),h(f,{key:0,color:"info",text:"Prev Phase",variant:"tonal",onClick:a[6]||(a[6]=V=>n.step(n.fileId,"-"))})):m("",!0),e(ne),n.dataFile&&parseInt(n.dataFile.phase)<5?(p(),h(f,{key:1,color:"info",text:"Next Phase",variant:"tonal",onClick:a[7]||(a[7]=V=>n.step(n.fileId,"next"))})):m("",!0),n.dataFile&&parseInt(n.dataFile.phase)==5?(p(),h(f,{key:2,color:"success",text:"Setujui",variant:"tonal",onClick:a[8]||(a[8]=V=>n.step(n.fileId,"next"))})):m("",!0)]),_:1})]),_:1})):m("",!0)]),_:1})],64)}const Yl=X(Ul,[["render",Wl],["__scopeId","data-v-a5075da0"]]),Xl={components:{phase:Yl},data(){return{dataLoaded:!1,selectedOption:"",overlay:!1,isMobile:!1,userData:null,userAccess:{},fileId:this.$route.params.fileId,isShowPhase4:!1,isShowPhase5:!1,isShowTimers:!1,isShowHistory:!1,isShowApprovals:!1,isChangeStatusCredit:!1,isShowAttachment:!1,statusCreditList:[{value:"FRESH",title:"FRESH"},{value:"REPEAT ORDER",title:"REPEAT ORDER"},{value:"TOPUP",title:"TOPUP"}],nameFileList:[{value:"KTP Pemohon",title:"KTP Pemohon"},{value:"Kartu Keluarga",title:"Kartu Keluarga"},{value:"Jaminan SHM",title:"Jaminan SHM"},{value:"Foto Kunjungan",title:"Foto Kunjungan"},{value:"Foto WhatsApp",title:"Foto WhatsApp"},{value:"Buku Nikah",title:"Buku Nikah"},{value:"SHM",title:"Jaminan SHM"},{value:"BPKB",title:"Jaminan BPKB"},{value:"KTP Pasangan",title:"KTP Pasangan"},{value:"KTP Atas Nama Jaminan",title:"KTP Atas Nama Jaminan"},{value:"Resume SLIK",title:"Resume SLIK"},{value:"Detail SLIK",title:"Detail SLIK"},{value:"Detail SLIK Pasangan",title:"Detail SLIK Pasangan"},{value:"Detail SLIK Atas Nama jaminan",title:"Detail SLIK Atas Nama jaminan"},{value:"File Banding",title:"File Banding"},{value:"Analisa Awal Kredit AO",title:"Analisa Awal Kredit AO"},{value:"Analisa Kredit",title:"Analisa Kredit"},{value:"Lembar Pengesahan",title:"Lembar Pengesahan"},{value:"Rekomendasi Kepatuhan",title:"Rekomendasi Kepatuhan"},{value:"SP3K",title:"SP3K"},{value:"Notaris",title:"Notaris"},{value:"Lain-lain",title:"Lain-lain"}],changeStatus:{id:null,status:null,reasonRejected:null},stepperModel:0,isUpdateGeneralInfo:!1,generalInfo:{id:null,name:null,type_bussiness:null,desc_bussiness:null,order_source:null,status_kredit:null,plafon:null,nik_pemohon:null,nik_pasangan:null,nik_jaminan:null,address:null,no_hp:null},dataFile:{id:this.$route.params.fileId,user_id:null,phase:1,name:"",type_bussiness:"",desc_bussiness:"",order_source:"",status_kredit:"",nik_pemohon:null,nik_pasangan:null,nik_jaminan:null,address:null,no_hp:null,plafon:"0",surveyResult:"-",otsResult:"-",cekLingResult:"-",verTelResult:"-",creditScoring:"-",attachments:[],notes:[],approvals:[],phase_times:[],file_activities:[],reasonRejected:""},filePath:this.$filePath,timerHeaders:[{text:"Phase",value:"phase",sortable:!0},{text:"Waktu Mulai",value:"startTime",sortable:!0},{text:"Waktu Selesai",value:"endTime",sortable:!0},{text:"Rentang Waktu",value:"timeDiff",sortable:!0}],attachmentHeaders:[{text:"Nama",value:"name",sortable:!0},{text:"Phase",value:"phase",sortable:!0},{text:"Waktu",value:"startTime",sortable:!0}],historyHeaders:[{text:"User",value:"user.name",sortable:!0},{text:"Aktivitas",value:"activity",sortable:!0},{text:"Tanggal",value:"created_at",sortable:!0}],approvalHeaders:[{text:"Phase",value:"phase",sortable:!0},{text:"Nama",value:"user.name",sortable:!0},{text:"Status",value:"approved",sortable:!0},{text:"Tanggal",value:"created_at",sortable:!0}],isUpdateNote:!1,dataNote:{file_id:this.$route.params.fileId,note:null,isRead:null},updateDataNote:{file_id:this.$route.params.fileId,note:null,isRead:null},phaseNote:[],notesByPhase:{},isModalPhase:!1,insertAttch:!1,updateAttch:!1,rules:{required:s=>!!s||"Required"},uploadProgress:null,attachFile:{id:null,file_id:this.$route.params.fileId,phase:null,name:null,path:null,note:null,link:null,isSecret:0,isApprove:1},orderList:[{value:"AO SENDIRI",title:"AO SENDIRI"},{value:"C. SERVIS / KANTOR",title:"C. SERVIS / KANTOR"},{value:"NASABAH",title:"NASABAH"},{value:"CROSS SALING DIVISI",title:"CROSS SALING DIVISI"},{value:"AGEN MGM / LAINNYA",title:"AGEN MGM / LAINNYA"},{value:"WEBSITE / WA / SOSMED",title:"WEBSITE / WA/ SOSMED"},{value:"TEAM BUSSINES",title:"TEAM BUSSINES"},{value:"PROGRAM KKB NEW",title:"PROGRAM KKB NEW"},{value:"PROGRAM KKB SECOND",title:"PROGRAM KKB SECOND"},{value:"CENTRO",title:"CENTRO"}],notePhase1:[],notePhase2:[],notePhase3:[],notePhase4:[],currentPage:1,itemsPerPage:10,isDataPhase3:!1,dataPhase3:{surveyResult:""},attachments:[],fileSubmissions:[],dataAttachPhase1:[],dataAttachPhase2:[],dataAttachPhase3:[],dataAttachPhase4:[],dataAttachPhase5:[]}},computed:{paginatedNotes(){const s=(this.currentPage-1)*this.itemsPerPage,a=s+this.itemsPerPage;return this.dataFile.notes.slice(s,a)}},methods:{async updateStatusCredit(){try{this.overlay=!0;const s=new FormData;if(s.append("id",this.fileId),s.append("status",this.changeStatus.status),this.changeStatus.status=="3"||this.changeStatus.status=="4"){if(this.changeStatus.reasonRejected==null){this.overlay=!1,this.closeModal(9),this.$showToast("error","Sorry","Alasan Penolakan wajib diisi");return}s.append("reasonRejected",this.changeStatus.reasonRejected)}const a=await T.post("/user/change-status",s);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.closeModal(9),this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.closeModal(9),this.$showToast("error","Sorry",a.data.message))}catch(s){this.overlay=!1,this.closeModal(9),this.$showToast("error","Sorry",s.response.data.message)}},calculateTimeDiff(s,a){let n=new Date(s),l=(a?new Date(a):new Date).valueOf()-n.valueOf(),r=Math.floor(l/1e3/60),i=Math.floor(r/60),D=r%60;return`${i} jam ${D} menit`},formatFileId(s){return Array.isArray(s)?s.join(", "):s},async updatePhase3(){try{this.overlay=!0;const s=new FormData;s.append("surveyResult",this.dataPhase3.surveyResult),s.append("_method","PUT");const a=await T.post(`/user/survey-credit/${this.fileId}`,s);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isDataPhase3=!1,this.$showToast("error","Sorry",a.data.message))}catch(s){this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},onPageChange(s){this.currentPage=s},formatInputPlafon(s){let a=s.target.value;a=a.replace(/\D/g,""),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,","),s.target.value=a},formatDate(s){return new Date(s).toLocaleString("id-ID")},resetNote(){this.dataNote={file_id:this.$route.params.fileId,user_id:null,phase:null,note:null,isRead:null}},checkMobile(){this.isMobile=window.innerWidth<728},formatInput(s){return s=s.replace(/\D/g,""),s=s.replace(/\B(?=(\d{3})+(?!\d))/g,","),s},async step(s,a){try{if(a=="next"){if(this.dataFile.phase===3&&this.fileSubmissions.length===0){if(!window.confirm("Tidak ada file Pendukung yang diajukan. Apakah Anda yakin melanjutkan ke tahap selanjutnya?"))return}else if(!window.confirm("Apakah Anda yakin melanjutkan ke tahap selanjutnya"))return;this.overlay=!0;const n=new FormData;n.append("id",s),n.append("type",a),n.append("_method","POST");const g=await T.post("/user/change-phase-approve",n);g.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",g.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",g.data.data.message))}else{if(!window.confirm("Apakah Anda yakin Kembali ke phase sebelumnya"))return;this.overlay=!0;const g=new FormData;g.append("id",s),g.append("type",a),g.append("_method","POST");const l=await T.post("/user/change-phase-approve",g);l.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",l.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",l.data.message))}}catch(n){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.response.data.message)}},async getDetailFile(s){try{this.overlay=!0;const a=await T.get(`/user/credit/${s}`);if(a.status===200){this.dataFile=a.data.data.file,this.attachments=this.dataFile.attachments.filter(n=>n.path&&n.path!=="null"||n.link&&n.link!=="null"),this.fileSubmissions=this.dataFile.filesubmissions,this.userAccess=a.data.data.userAccess,this.dataAttachPhase1=a.data.data.file.attachments.filter(n=>n.phase==1),this.dataAttachPhase2=a.data.data.file.attachments.filter(n=>n.phase==2),this.dataAttachPhase3=a.data.data.file.attachments.filter(n=>n.phase==3),this.dataAttachPhase4=a.data.data.file.attachments.filter(n=>n.phase==4),this.dataAttachPhase5=a.data.data.file.attachments.filter(n=>n.phase==5),this.dataFile.phase=parseInt(this.dataFile.phase),this.isShowPhase4=!(parseInt(this.dataFile.plafon)<25e6),this.dataFile.phase==5&&(this.isShowPhase5=!0),parseInt(this.dataFile.phase)==5?this.stepperModel=parseInt(this.dataFile.phase)-1:this.stepperModel=parseInt(this.dataFile.phase)-1,this.generalInfo.id=this.dataFile.id,this.generalInfo.name=this.dataFile.name,this.generalInfo.type_bussiness=this.dataFile.type_bussiness,this.generalInfo.desc_bussiness=this.dataFile.desc_bussiness,this.generalInfo.order_source=this.dataFile.order_source,this.generalInfo.status_kredit=this.dataFile.status_kredit,this.generalInfo.plafon=this.dataFile.plafon,this.generalInfo.nik_pemohon=this.dataFile.nik_pemohon,this.generalInfo.nik_pasangan=this.dataFile.nik_pasangan,this.generalInfo.nik_jaminan=this.dataFile.nik_jaminan,this.generalInfo.address=this.dataFile.address,this.generalInfo.no_hp=this.dataFile.no_hp;for(let n=0;n<5;n++)this.separateNotesByPhase(this.dataFile,n);this.dataLoaded=!0,this.overlay=!1}else this.$showToast("error","Sorry",a.data.data.message),this.overlay=!1}catch(a){this.overlay=!1,this.$showToast("error","Sorry",a.response.data.message)}},getUserData(){const s=localStorage.getItem("userData");s&&(this.userData=JSON.parse(s))},openModal(s,a=null){s==1?this.insertAttch=!0:s==2?(this.attachFile.id=a.id,this.attachFile.file_id=a.file_id,this.attachFile.name=a.name,this.attachFile.isSecret=parseInt(a.isSecret),this.attachFile.isApprove=parseInt(a.isApprove),this.attachFile.link=a.link,this.updateAttch=!0):s==3?(this.updateDataNote.id=a.id,this.updateDataNote.file_id=a.file_id,this.updateDataNote.note=a.note,this.isUpdateNote=!0):s==4?this.isUpdateGeneralInfo=!0:s==5?(this.dataPhase3.surveyResult=this.dataFile.surveyResult,this.isDataPhase3=!0):s==6?this.isShowTimers=!0:s==7?this.isShowHistory=!0:s==8?this.isShowApprovals=!0:s==9?this.isChangeStatusCredit=!0:s==10&&(this.isShowAttachment=!0)},closeModal(s){s===1?(this.resetAttch(),this.insertAttch=!1):s===2?this.updateAttch=!1:s===3?(this.resetNote(),this.updateNote=!1):s==4?this.isUpdateGeneralInfo=!1:s==5?(this.dataPhase3.surveyResult="",this.isDataPhase3=!1):s==9&&(this.isChangeStatusCredit=!1,this.changeStatus.id=null,this.changeStatus.status=null,this.changeStatus.reasonRejected=null)},async updateGeneralInfo(){try{this.overlay=!0;const s=new FormData;s.append("name",this.generalInfo.name),s.append("plafon",this.generalInfo.plafon.replace(/\D/g,"")),s.append("type_bussiness",this.generalInfo.type_bussiness),s.append("desc_bussiness",this.generalInfo.desc_bussiness),s.append("order_source",this.generalInfo.order_source),s.append("status_kredit",this.generalInfo.status_kredit),this.generalInfo.nik_pemohon!=""&&s.append("nik_pemohon",this.generalInfo.nik_pemohon),this.generalInfo.nik_pasangan!=""&&this.generalInfo.nik_pasangan!=null&&this.generalInfo.nik_pasangan!="null"&&this.generalInfo.nik_pasangan!="-"&&s.append("nik_pasangan",this.generalInfo.nik_pasangan),this.generalInfo.nik_jaminan!=""&&this.generalInfo.nik_jaminan!=null&&this.generalInfo.nik_jaminan!="null"&&this.generalInfo.nik_jaminan!="-"&&s.append("nik_jaminan",this.generalInfo.nik_jaminan),this.generalInfo.address!=""&&s.append("address",this.generalInfo.address),this.generalInfo.no_hp!=""&&s.append("no_hp",this.generalInfo.no_hp),s.append("_method","PUT");const a=await T.post(`/user/edit-general-info/${this.generalInfo.id}`,s);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateGeneralInfo=!1,this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateGeneralInfo=!1,this.$showToast("error","Sorry",a.data.message))}catch(s){this.isUpdateGeneralInfo=!1,this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async insertNote(){try{if(this.overlay=!0,this.dataNote.note==null){this.$showToast("error","Sorry","Note cannot be empty"),this.overlay=!1;return}const s=new FormData;s.append("file_id",this.dataNote.file_id),s.append("note",this.dataNote.note),s.append("_method","POST");const a=await T.post("/user/note",s);a.status===200?(this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Success",a.data.message)):(this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.data.message))}catch(s){this.resetNote(),this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async updateNote(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.updateDataNote.file_id),s.append("note",this.updateDataNote.note),s.append("_method","PUT");const a=await T.post(`/user/note/${this.updateDataNote.id}`,s);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateNote=!1,this.$showToast("success","Success",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.isUpdateNote=!1,this.$showToast("error","Sorry",a.data.message))}catch(s){this.isUpdateNote=!1,this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteNote(s){try{if(this.overlay=!0,!window.confirm("Apakah Anda yakin ingin menghapus data? Data akan terhapus secara permanen."))return;const n=await T.delete(`/user/note/${s}`);n.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",n.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(a){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.response.data.message)}},separateNotesByPhase(s,a){s.notes.forEach(n=>{if(n.phase==a)switch(a){case 1:this.notePhase1.push(n);break;case 2:this.notePhase2.push(n);break;case 3:this.notePhase3.push(n);break;case 4:this.notePhase4.push(n);break;default:console.log("Invalid phase")}})},modalNote(){this.isModalPhase=!this.isModalPhase},async changeApproval(s){try{this.overlay=!0;const a=await T.get(`/user/change-phase-approve/${s}`);a.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",a.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.data.message))}catch(a){this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",a.response.data.message)}},handleFileChange(s){const a=s.target.files[0];a&&["image/jpeg","image/png","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(a.type)?this.attachFile.path=a:(this.closeModal(1),this.closeModal(2),this.$showToast("error","Error","Hanya file JPG, JPEG, PNG, PDF, DOC, DOCX, XLS, dan XLSX yang diizinkan."),s.target.value=null)},resetAttch(){this.attachFile={id:null,file_id:this.$route.params.fileId,name:null,path:null,note:null,link:null,isSecret:!1}},async insertAttachment(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.attachFile.file_id),s.append("phase",this.dataFile.phase),s.append("name",this.attachFile.name),this.attachFile.path!=null&&s.append("path",this.attachFile.path),this.attachFile.link!=null&&s.append("link",this.attachFile.link),s.append("note",this.attachFile.note),s.append("isApprove",this.attachFile.isApprove),this.dataFile.phase>=2&&(this.attachFile.isSecret===!1?s.append("isSecret","0"):s.append("isSecret",String(this.attachFile.isSecret))),s.append("_method","POST");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post("/user/add-attach",s,a);n.status===200?(this.overlay=!1,this.closeModal(1),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(1),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.closeModal(1),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async editAttachment(){try{this.overlay=!0;const s=new FormData;s.append("file_id",this.attachFile.file_id),s.append("name",this.attachFile.name),s.append("path",this.attachFile.path),s.append("phase",this.dataFile.phase),s.append("isApprove",this.attachFile.isApprove),this.attachFile.path!=null&&s.append("path",this.attachFile.path),s.append("isSecret",this.attachFile.isSecret),s.append("_method","PUT");const a={onUploadProgress:g=>{try{this.uploadProgress=Math.round(g.loaded*100/g.total)}catch(l){console.error("Error calculating progress:",l)}},headers:{"Content-Type":"multipart/form-data"}},n=await T.post(`/user/edit-attach/${this.attachFile.id}`,s,a);n.status===200?(this.overlay=!1,this.closeModal(2),this.getDetailFile(this.fileId),this.uploadProgress=null,this.$showToast("success","Success",n.data.message)):(this.overlay=!1,this.closeModal(2),this.uploadProgress=null,this.getDetailFile(this.fileId),this.$showToast("error","Sorry",n.data.message))}catch(s){this.closeModal(2),this.getDetailFile(this.fileId),this.$showToast("error","Sorry",s.response.data.message)}},async deleteAttachment(s){try{if(!window.confirm("Apakah Anda yakin ingin menghapus data ? Data akan terhapus secara permanen."))return;this.overlay=!0;const n=await T.delete(`/user/delete-attach/${s}`);n.status===200?(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("success","Berhasill",n.data.message)):(this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry","Terjadi Kesalahan Silahkan Coba Lagi"))}catch{this.overlay=!1,this.getDetailFile(this.fileId),this.$showToast("error","Sorry","Terjadi Kesalahan Silahkan Coba Lagi")}}},mounted(){this.checkMobile(),this.getUserData(),this.getDetailFile(this.fileId)}};const k=s=>(Q("data-v-2415741f"),s=s(),Z(),s),Ql=k(()=>o("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),Zl=k(()=>o("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),$l=k(()=>o("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),ea=k(()=>o("div",{style:{color:"red","font-size":"20px","text-align":"center",padding:"10px"}}," Anda Dilarang melihat Phase ini ",-1)),ta=k(()=>o("span",{style:{color:"red"}},"*",-1)),la=k(()=>o("span",{class:"subtitle-1 text-center"},"Note: ",-1)),aa=k(()=>o("span",{style:{color:"red"}},"*",-1)),sa=k(()=>o("span",{class:"subtitle-1 text-center"},"Pilih Salah Satu : ",-1)),ia=k(()=>o("span",{style:{color:"red"}},"*",-1)),na=k(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),oa=k(()=>o("span",{style:{color:"red"}},"*",-1)),ra=k(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),ua=k(()=>o("span",{style:{color:"red"}},"*",-1)),da=k(()=>o("span",{class:"subtitle-1 text-center"},"Keterangan File: ",-1)),pa=k(()=>o("span",{style:{color:"red"}},"*",-1)),ca=k(()=>o("span",{class:"subtitle-1 text-center"}," Upload File: ",-1)),ha=k(()=>o("span",{style:{color:"red"}},"*",-1)),ma=k(()=>o("span",{class:"subtitle-1 text-center"},"Nama Pemohon: ",-1)),fa=k(()=>o("span",{style:{color:"red"}},"*",-1)),ga=k(()=>o("span",{class:"subtitle-1 text-center"},"Jumlah Plafon: ",-1)),ya=k(()=>o("span",{style:{color:"red"}},"*",-1)),_a=k(()=>o("span",{class:"subtitle-1 text-center"},"Jenis Usaha: ",-1)),ka=k(()=>o("span",{style:{color:"red"}},"*",-1)),Aa=k(()=>o("span",{class:"subtitle-1 text-center"},"Deskripsi Usaha: ",-1)),va=k(()=>o("span",{style:{color:"red"}},"*",-1)),ba=k(()=>o("span",{class:"subtitle-1 text-center"},"Pilih sumber order: ",-1)),Sa=k(()=>o("span",{style:{color:"red"}},"*",-1)),Pa=k(()=>o("span",{class:"subtitle-1 text-center"},"Pilih status kredit: ",-1)),Fa=k(()=>o("span",{style:{color:"red"}},"*",-1)),xa=k(()=>o("span",{class:"subtitle-1 text-center"},"NIK Pemohon: ",-1)),Da=k(()=>o("span",{style:{color:"red"}},"*",-1)),Ia=k(()=>o("span",{class:"subtitle-1 text-center"},"Alamat Pemohon: ",-1)),wa=k(()=>o("span",{class:"subtitle-1 text-center"},"NIK Pasangan (kosongkan jika tidak ada): ",-1)),Va=k(()=>o("span",{class:"subtitle-1 text-center"},"NIK Pemilik Jaminan (kosongkan jika tidak ada): ",-1)),Ua=k(()=>o("span",{class:"subtitle-1 text-center"},"No. HP: ",-1)),Ta=k(()=>o("span",{style:{color:"red"}},"*",-1)),Ca=k(()=>o("span",{class:"subtitle-1 text-center"},"Hasil Survei: ",-1)),Ka=k(()=>o("span",{style:{color:"red"}},"*",-1)),Na=k(()=>o("span",{class:"subtitle-1 text-center"},"Alasan: ",-1));function ja(s,a,n,g,l,r){const i=Y("phase"),D=Y("EasyDataTable");return p(),v("div",null,[e(te,{"model-value":l.overlay,class:"align-center justify-center"},{default:t(()=>[e(ee,{color:"blue-lighten-3",indeterminate:"",size:41,width:5}),c(" Loading... ")]),_:1},8,["model-value"]),l.dataLoaded?(p(),h(_,{key:0},{default:t(()=>[e(J,{class:"text-2xl font-weight-bold d-flex justify-left"},{default:t(()=>[c(" Detail Kredit ")]),_:1}),e(S,null,{default:t(()=>[e(ye,{"model-value":l.stepperModel,mobile:l.isMobile},{default:t(()=>[e(_e,null,{default:t(()=>[e($,{title:"Phase 1 (Pooling)",value:"1",complete:l.stepperModel>1},null,8,["complete"]),e(L),e($,{title:"Phase 2 (SLIK)",value:"2",complete:l.stepperModel>2},null,8,["complete"]),e(L),e($,{title:"Phase 3 (Survei)",value:"3",complete:l.stepperModel>3},null,8,["complete"]),e(L),e($,{title:"Phase 4 (Komite)",value:"4",complete:l.stepperModel>4},null,8,["complete"]),e(L),e($,{title:"Operation",value:"5",complete:l.stepperModel>5},null,8,["complete"]),e(L),e($,{title:"Pencairan",value:"6",complete:l.stepperModel>6},null,8,["complete"])]),_:1}),e(ke,null,{default:t(()=>[l.userData&&l.userData.position.role.isPhase1Access==1?(p(),h(B,{key:0,value:"1"},{default:t(()=>[e(i,{dataFile:l.dataFile,userData:l.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(l.fileId),"user-access":l.userAccess,"reset-note":r.resetNote,"data-note":l.dataNote,"update-data-note":l.updateDataNote,"note-phase1":l.notePhase1,"note-phase2":l.notePhase2,"note-phase3":l.notePhase3,"note-phase4":l.notePhase4,"modal-note":r.modalNote,phase1Attachments:l.dataAttachPhase1,phase2Attachments:l.dataAttachPhase2,phase3Attachments:l.dataAttachPhase3,phase4Attachments:l.dataAttachPhase4,phase5Attachments:l.dataAttachPhase5,submissions:l.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})):(p(),h(B,{key:1,value:"1"},{default:t(()=>[Ql]),_:1})),l.userData&&l.userData.position.role.isPhase2Access==1?(p(),h(B,{key:2,value:"2"},{default:t(()=>[e(i,{dataFile:l.dataFile,userData:l.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(l.fileId),"user-access":l.userAccess,"reset-note":r.resetNote,"data-note":l.dataNote,"update-data-note":l.updateDataNote,"note-phase1":l.notePhase1,"note-phase2":l.notePhase2,"note-phase3":l.notePhase3,"note-phase4":l.notePhase4,"modal-note":r.modalNote,phase1Attachments:l.dataAttachPhase1,phase2Attachments:l.dataAttachPhase2,phase3Attachments:l.dataAttachPhase3,phase4Attachments:l.dataAttachPhase4,phase5Attachments:l.dataAttachPhase5,submissions:l.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})):(p(),h(B,{key:3,value:"2"},{default:t(()=>[Zl]),_:1})),l.userData&&l.userData.position.role.isPhase3Access==1?(p(),h(B,{key:4,value:"3"},{default:t(()=>[e(i,{dataFile:l.dataFile,userData:l.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(l.fileId),"user-access":l.userAccess,"reset-note":r.resetNote,"data-note":l.dataNote,"update-data-note":l.updateDataNote,"note-phase1":l.notePhase1,"note-phase2":l.notePhase2,"note-phase3":l.notePhase3,"note-phase4":l.notePhase4,"modal-note":r.modalNote,phase1Attachments:l.dataAttachPhase1,phase2Attachments:l.dataAttachPhase2,phase3Attachments:l.dataAttachPhase3,phase4Attachments:l.dataAttachPhase4,phase5Attachments:l.dataAttachPhase5,submissions:l.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})):(p(),h(B,{key:5,value:"3"},{default:t(()=>[$l]),_:1})),l.userData&&l.userData.position.role.isPhase4Access==1?(p(),h(B,{key:6,value:"4"},{default:t(()=>[e(i,{dataFile:l.dataFile,userData:l.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(l.fileId),"user-access":l.userAccess,"reset-note":r.resetNote,"data-note":l.dataNote,"update-data-note":l.updateDataNote,"note-phase1":l.notePhase1,"note-phase2":l.notePhase2,"note-phase3":l.notePhase3,"note-phase4":l.notePhase4,"modal-note":r.modalNote,phase1Attachments:l.dataAttachPhase1,phase2Attachments:l.dataAttachPhase2,phase3Attachments:l.dataAttachPhase3,phase4Attachments:l.dataAttachPhase4,phase5Attachments:l.dataAttachPhase5,submissions:l.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})):(p(),h(B,{key:7,value:"4"},{default:t(()=>[ea]),_:1})),e(B,{value:"5"},{default:t(()=>[e(i,{dataFile:l.dataFile,userData:l.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(l.fileId),"user-access":l.userAccess,"reset-note":r.resetNote,"data-note":l.dataNote,"update-data-note":l.updateDataNote,"note-phase1":l.notePhase1,"note-phase2":l.notePhase2,"note-phase3":l.notePhase3,"note-phase4":l.notePhase4,"modal-note":r.modalNote,phase1Attachments:l.dataAttachPhase1,phase2Attachments:l.dataAttachPhase2,phase3Attachments:l.dataAttachPhase3,phase4Attachments:l.dataAttachPhase4,phase5Attachments:l.dataAttachPhase5,submissions:l.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1}),e(B,{value:"6"},{default:t(()=>[e(i,{dataFile:l.dataFile,userData:l.userData,"insert-note":r.insertNote,"change-approval":r.changeApproval,"format-date":r.formatDate,"open-modal":r.openModal,"delete-attachment":r.deleteAttachment,"delete-note":r.deleteNote,"get-detail-file":r.getDetailFile,step:r.step,"file-id":r.formatFileId(l.fileId),"user-access":l.userAccess,"reset-note":r.resetNote,"data-note":l.dataNote,"update-data-note":l.updateDataNote,"note-phase1":l.notePhase1,"note-phase2":l.notePhase2,"note-phase3":l.notePhase3,"note-phase4":l.notePhase4,"modal-note":r.modalNote,phase1Attachments:l.dataAttachPhase1,phase2Attachments:l.dataAttachPhase2,phase3Attachments:l.dataAttachPhase3,phase4Attachments:l.dataAttachPhase4,phase5Attachments:l.dataAttachPhase5,submissions:l.fileSubmissions},null,8,["dataFile","userData","insert-note","change-approval","format-date","open-modal","delete-attachment","delete-note","get-detail-file","step","file-id","user-access","reset-note","data-note","update-data-note","note-phase1","note-phase2","note-phase3","note-phase4","modal-note","phase1Attachments","phase2Attachments","phase3Attachments","phase4Attachments","phase5Attachments","submissions"])]),_:1})]),_:1})]),_:1},8,["model-value","mobile"])]),_:1})]),_:1})):(p(),h(_,{key:1},{default:t(()=>[e(J,{class:"text-2xl font-weight-bold d-flex justify-left"},{default:t(()=>[c(" Mempersiapkan data..... ")]),_:1})]),_:1})),e(K,{modelValue:l.insertAttch,"onUpdate:modelValue":a[9]||(a[9]=u=>l.insertAttch=u),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Tambah Data ")]),text:t(()=>[e(q,{onSubmit:O(r.insertAttachment,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Pilih Keterangan File",items:l.nameFileList,autofocus:"",modelValue:l.attachFile.name,"onUpdate:modelValue":a[0]||(a[0]=u=>l.attachFile.name=u),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[ta,la,e(w,{class:"my-3",modelValue:l.attachFile.note,"onUpdate:modelValue":a[1]||(a[1]=u=>l.attachFile.note=u),rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[aa,sa,e(G,{modelValue:l.selectedOption,"onUpdate:modelValue":a[2]||(a[2]=u=>l.selectedOption=u),mandatory:!0,row:""},{default:t(()=>[e(C,{label:"File",value:"file"}),e(C,{label:"Link",value:"link"})]),_:1},8,["modelValue"])]),_:1}),l.selectedOption==="file"?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[ia,na,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[3]||(a[3]=u=>r.handleFileChange(u))},null,8,["rules"])]),_:1})):m("",!0),l.selectedOption==="link"?(p(),h(d,{key:1,md:"12",cols:"12"},{default:t(()=>[oa,ra,e(w,{class:"my-3",modelValue:l.attachFile.link,"onUpdate:modelValue":a[4]||(a[4]=u=>l.attachFile.link=u),autofocus:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1})):m("",!0),l.dataFile.phase>=2?(p(),h(d,{key:2,md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Termasuk File Rahasia ? (Detail SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:l.attachFile.isSecret,"onUpdate:modelValue":a[5]||(a[5]=u=>l.attachFile.isSecret=u),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1})):m("",!0),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.attachFile.isApprove,"onUpdate:modelValue":a[6]||(a[6]=u=>l.attachFile.isApprove=u),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit",disabled:!(l.attachFile.name&&(l.attachFile.path||l.attachFile.link)&&l.attachFile.note!==null)},{default:t(()=>[c(" Simpan ")]),_:1},8,["disabled"]),o("button",{type:"button",class:"btn btn-blue",onClick:a[7]||(a[7]=u=>r.closeModal(1))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[8]||(a[8]=u=>l.uploadProgress=u),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.updateAttch,"onUpdate:modelValue":a[16]||(a[16]=u=>l.updateAttch=u),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Edit Data ")]),text:t(()=>[e(q,{onSubmit:O(r.editAttachment,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[ua,da,e(w,{class:"my-3",modelValue:l.attachFile.name,"onUpdate:modelValue":a[10]||(a[10]=u=>l.attachFile.name=u),autofocus:"",rules:[l.rules.required],disabled:""},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[pa,ca,e(z,{class:"my-3",accept:"image/jpeg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",placeholder:"Pick an image",rules:[l.rules.required],onChange:a[11]||(a[11]=u=>r.handleFileChange(u))},null,8,["rules"])]),_:1}),l.dataFile.phase==2?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Termasuk File Rahasia ? (SLIK, dll)",items:[{value:1,title:"Ya"},{value:0,title:"Tidak"}],modelValue:l.attachFile.isSecret,"onUpdate:modelValue":a[12]||(a[12]=u=>l.attachFile.isSecret=u),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1})):m("",!0),e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Apakah Anda menyetujui file ini ?",items:[{value:1,title:"Setuju"},{value:0,title:"Tidak Setuju"}],modelValue:l.attachFile.isApprove,"onUpdate:modelValue":a[13]||(a[13]=u=>l.attachFile.isApprove=u),"prepend-icon":"mdi-help-rhombus"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Update ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[14]||(a[14]=u=>r.closeModal(2))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[15]||(a[15]=u=>l.uploadProgress=u),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isUpdateGeneralInfo,"onUpdate:modelValue":a[30]||(a[30]=u=>l.isUpdateGeneralInfo=u),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Edit Informasi Umum ")]),text:t(()=>[e(q,{onSubmit:O(r.updateGeneralInfo,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[ha,ma,e(w,{class:"my-3",modelValue:l.generalInfo.name,"onUpdate:modelValue":a[17]||(a[17]=u=>l.generalInfo.name=u),autofocus:"",rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[fa,ga,e(w,{class:"my-3",modelValue:l.generalInfo.plafon,"onUpdate:modelValue":a[18]||(a[18]=u=>l.generalInfo.plafon=u),type:"text",onInput:r.formatInputPlafon},null,8,["modelValue","onInput"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[ya,_a,e(w,{class:"my-3",modelValue:l.generalInfo.type_bussiness,"onUpdate:modelValue":a[19]||(a[19]=u=>l.generalInfo.type_bussiness=u),rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[ka,Aa,e(w,{class:"my-3",modelValue:l.generalInfo.desc_bussiness,"onUpdate:modelValue":a[20]||(a[20]=u=>l.generalInfo.desc_bussiness=u),rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[va,ba,e(N,{items:l.orderList,modelValue:l.generalInfo.order_source,"onUpdate:modelValue":a[21]||(a[21]=u=>l.generalInfo.order_source=u),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[Sa,Pa,e(N,{items:l.statusCreditList,modelValue:l.generalInfo.status_kredit,"onUpdate:modelValue":a[22]||(a[22]=u=>l.generalInfo.status_kredit=u),"prepend-icon":"mdi-help-rhombus"},null,8,["items","modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[Fa,xa,e(w,{type:"number",class:"my-3",modelValue:l.generalInfo.nik_pemohon,"onUpdate:modelValue":a[23]||(a[23]=u=>l.generalInfo.nik_pemohon=u),rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[Da,Ia,e(w,{class:"my-3",modelValue:l.generalInfo.address,"onUpdate:modelValue":a[24]||(a[24]=u=>l.generalInfo.address=u),rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[wa,e(w,{type:"number",class:"my-3",modelValue:l.generalInfo.nik_pasangan,"onUpdate:modelValue":a[25]||(a[25]=u=>l.generalInfo.nik_pasangan=u),hint:"kosongkan jika tidak ada"},null,8,["modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[Va,e(w,{type:"number",class:"my-3",modelValue:l.generalInfo.nik_jaminan,"onUpdate:modelValue":a[26]||(a[26]=u=>l.generalInfo.nik_jaminan=u),hint:"kosongkan jika tidak ada"},null,8,["modelValue"])]),_:1}),e(d,{md:"12",cols:"12"},{default:t(()=>[Ua,e(w,{class:"my-3",modelValue:l.generalInfo.no_hp,"onUpdate:modelValue":a[27]||(a[27]=u=>l.generalInfo.no_hp=u),rules:[l.rules.required]},null,8,["modelValue","rules"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Update ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[28]||(a[28]=u=>r.closeModal(4))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),actions:t(()=>[e(E,{modelValue:l.uploadProgress,"onUpdate:modelValue":a[29]||(a[29]=u=>l.uploadProgress=u),color:"amber",height:"25"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isUpdateNote,"onUpdate:modelValue":a[32]||(a[32]=u=>l.isUpdateNote=u),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Update Note ")]),text:t(()=>[e(q,{onSubmit:O(r.updateNote,["prevent"])},{default:t(()=>[e(P,{align:"center",justify:"center"},{default:t(()=>[e(d,{md:"10",cols:"10"},{default:t(()=>[e(ue,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:l.updateDataNote.note,"onUpdate:modelValue":a[31]||(a[31]=u=>l.updateDataNote.note=u),rows:"2"},null,8,["modelValue"])]),_:1}),e(d,{md:"2",cols:"2"},{default:t(()=>[e(f,{density:"compact",icon:"mdi-note-plus",type:"submit"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isDataPhase3,"onUpdate:modelValue":a[35]||(a[35]=u=>l.isDataPhase3=u),width:"auto",persistent:"",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Hasil Survey ")]),text:t(()=>[e(q,{onSubmit:O(r.updatePhase3,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[Ta,Ca,e(ue,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:l.dataPhase3.surveyResult,"onUpdate:modelValue":a[33]||(a[33]=u=>l.dataPhase3.surveyResult=u),rows:"3"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c("Update")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[34]||(a[34]=u=>r.closeModal(5))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isShowTimers,"onUpdate:modelValue":a[36]||(a[36]=u=>l.isShowTimers=u),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Waktu ")]),text:t(()=>[e(D,{headers:l.timerHeaders,items:l.dataFile.phase_times},{"item-timeDiff":t(u=>[c(y(r.calculateTimeDiff(u.startTime,u.endTime)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isShowAttachment,"onUpdate:modelValue":a[37]||(a[37]=u=>l.isShowAttachment=u),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Waktu ")]),text:t(()=>[e(D,{headers:l.attachmentHeaders,items:l.attachments},null,8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isShowHistory,"onUpdate:modelValue":a[38]||(a[38]=u=>l.isShowHistory=u),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Data Riwayat ")]),text:t(()=>[e(D,{"show-index":"",headers:l.historyHeaders,items:l.dataFile.file_activities},{"item-created_at":t(u=>[c(y(r.formatDate(u.created_at)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isShowApprovals,"onUpdate:modelValue":a[39]||(a[39]=u=>l.isShowApprovals=u),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Riwayat Persetujuan ")]),text:t(()=>[e(D,{headers:l.approvalHeaders,items:l.dataFile.approvals},{"item-approved":t(u=>[parseInt(u.approved)==1?(p(),h(de,{key:0,color:"success"},{default:t(()=>[c(" Disetujui ")]),_:1})):(p(),h(de,{key:1,color:"error"},{default:t(()=>[c(" Belum disetujui ")]),_:1}))]),"item-created_at":t(u=>[c(y(r.formatDate(u.created_at)),1)]),_:1},8,["headers","items"])]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:l.isChangeStatusCredit,"onUpdate:modelValue":a[43]||(a[43]=u=>l.isChangeStatusCredit=u),width:"auto",transition:"dialog-top-transition"},{default:t(()=>[e(_,null,{title:t(()=>[c(" Ubah Status File ")]),text:t(()=>[e(q,{onSubmit:O(r.updateStatusCredit,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(d,{md:"12",cols:"12"},{default:t(()=>[e(N,{label:"Ubah Status File",items:[{value:1,title:"Approved"},{value:2,title:"Pending"},{value:3,title:"Rejected"},{value:4,title:"Cancel by Debitur"}],modelValue:l.changeStatus.status,"onUpdate:modelValue":a[40]||(a[40]=u=>l.changeStatus.status=u)},null,8,["modelValue"])]),_:1}),l.changeStatus.status==3||l.changeStatus.status==4?(p(),h(d,{key:0,md:"12",cols:"12"},{default:t(()=>[Ka,Na,e(ue,{"bg-color":"grey-lighten-2",color:"cyan",modelValue:l.changeStatus.reasonRejected,"onUpdate:modelValue":a[41]||(a[41]=u=>l.changeStatus.reasonRejected=u),rows:"2"},null,8,["modelValue"])]),_:1})):m("",!0),e(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(f,{type:"submit"},{default:t(()=>[c(" Simpan ")]),_:1}),o("button",{type:"button",class:"btn btn-blue",onClick:a[42]||(a[42]=u=>r.closeModal(9))}," Batal ")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])])}const ns=X(Xl,[["render",ja],["__scopeId","data-v-2415741f"]]);export{ns as default};
