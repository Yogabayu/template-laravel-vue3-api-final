import{m as S}from"./VGrid-f03bf357.js";import{m as F,N as I,a4 as E,a5 as R,S as A,Z as H,a as t,a6 as L,a7 as M,a8 as O,a9 as G,aa as Z,ab as q,ac as J,ad as Q,ae as W,af as X,ag as Y,U as ee,k as C,ah as te,$ as v,ai as m,r as ae,o as b,c as le,w as s,b as i,G as se,E as oe,e as r,h as w,M as B,i as ie,V as N,t as ne}from"./main-2010a7ca.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import{V as de}from"./VOverlay-221c63d4.js";import{V as $,c as ue,a as me,d as ce}from"./VCol-3e00b9eb.js";import{V as fe}from"./VDialog-00ee921d.js";import{V as P}from"./VTextField-0072ae36.js";import{V as U}from"./VChip-d474d8cd.js";import{V as ge}from"./VTooltip-978bfb1d.js";import{V as he}from"./index-719bf577.js";import{V as ve}from"./VImg-e9945b63.js";import{V as be}from"./VSpacer-11ef62b4.js";import"./dialog-transition-998302db.js";import"./VInput-0904aa70.js";const Ve=F({data(){return{overlay:!1,items:[],headers:[{text:"Nama",value:"name",sortable:!0},{text:"NIK",value:"nik",sortable:!0},{text:"E-mail",value:"email",sortable:!0},{text:"Status",value:"isActive",sortable:!0},{text:"Operation",value:"operation"}],searchValue:"",isDetail:!1,itemDetails:[],itemSearchDetails:"",headerDetails:[{text:"activity",value:"activity",sortable:!0},{text:"tanggal",value:"created_at",sortable:!0}]}},methods:{formatDate(e){return new Date(e).toLocaleString("id-ID")},async getAllUsers(){try{const e=await S.get("/user");e.status===200?this.items=e.data.data:this.$showToast("error","Sorry",e.data.data.message)}catch(e){this.$showToast("error","Sorry",e.response.data.message)}},openModal(e,l=null){e===1&&this.getDetailHistories(l.id)},async getDetailHistories(e){try{const l=await S.get(`/history/${e}`);l.status===200?(this.itemDetails=l.data.data,this.isDetail=!0):this.$showToast("error","Sorry",l.data.data.message)}catch(l){console.log(l)}}},mounted(){this.getAllUsers()}});const ye=I({text:String,...E(),...R()},"VToolbarTitle"),K=A()({name:"VToolbarTitle",props:ye(),setup(e,l){let{slots:a}=l;return H(()=>{const d=!!(a.default||a.text||e.text);return t(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var n;return[d&&t("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():e.text,(n=a.default)==null?void 0:n.call(a)])]}})}),{}}}),pe=[null,"prominent","default","comfortable","compact"],_e=I({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>pe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...L(),...E(),...M(),...O(),...R({tag:"header"}),...G()},"VToolbar"),xe=A()({name:"VToolbar",props:_e(),setup(e,l){var p;let{slots:a}=l;const{backgroundColorClasses:d,backgroundColorStyles:n}=Z(q(e,"color")),{borderClasses:V}=J(e),{elevationClasses:u}=Q(e),{roundedClasses:o}=W(e),{themeClasses:c}=X(e),{rtlClasses:y}=Y(),f=ee(!!(e.extended||(p=a.extension)!=null&&p.call(a))),g=C(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=C(()=>f.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return te({VBtn:{variant:"text"}}),H(()=>{var x;const j=!!(e.title||a.title),z=!!(a.image||e.image),_=(x=a.extension)==null?void 0:x.call(a);return f.value=!!(e.extended||_),t(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},d.value,V.value,u.value,o.value,c.value,y.value,e.class],style:[n.value,e.style]},{default:()=>[z&&t("div",{key:"image",class:"v-toolbar__image"},[a.image?t(v,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):t(ve,{key:"image-img",cover:!0,src:e.image},null)]),t(v,{defaults:{VTabs:{height:m(g.value)}}},{default:()=>{var D,T,k;return[t("div",{class:"v-toolbar__content",style:{height:m(g.value)}},[a.prepend&&t("div",{class:"v-toolbar__prepend"},[(D=a.prepend)==null?void 0:D.call(a)]),j&&t(K,{key:"title",text:e.title},{text:a.title}),(T=a.default)==null?void 0:T.call(a),a.append&&t("div",{class:"v-toolbar__append"},[(k=a.append)==null?void 0:k.call(a)])])]}}),t(v,{defaults:{VTabs:{height:m(h.value)}}},{default:()=>[t(he,null,{default:()=>[f.value&&t("div",{class:"v-toolbar__extension",style:{height:m(h.value)}},[_])]})]})]})}),{contentHeight:g,extensionHeight:h}}}),De=i("br",null,null,-1),Te=i("span",{class:"font-weight-bold text-lg"},"Loading....",-1),ke={class:"d-flex justify-end mb-6"},Se={class:"d-flex align-center pe-2 w-25"},Ce=i("p",null,"Data Kantor Kosong",-1),we=i("p",null,"loading data .....",-1),Be={class:"operation-wrapper"},Ne={class:"d-flex justify-space-between"},$e=["onClick"],Pe={class:"d-flex justify-end mb-6"},Ue={class:"d-flex align-center pe-2 w-25"},Ie=i("p",null,"Data Kantor Kosong",-1),Ee=i("p",null,"loading data .....",-1);function Re(e,l,a,d,n,V){const u=ae("EasyDataTable");return b(),le(se,null,[t(de,{absolute:!0,modelValue:e.overlay,"onUpdate:modelValue":l[0]||(l[0]=o=>e.overlay=o),contained:"",persistent:"",class:"align-center justify-center"},{default:s(()=>[t(ue,null,{default:s(()=>[t(oe,{color:"primary",size:"32",indeterminate:""}),De,Te]),_:1})]),_:1},8,["modelValue"]),i("div",null,[t($,{class:"auth-card pa-4 pt-5"},{default:s(()=>[t(me,{class:"align-left"},{default:s(()=>[t(ce,{class:"text-2xl font-weight-bold"},{default:s(()=>[r(" Pilih User ")]),_:1})]),_:1}),i("div",ke,[i("div",Se,[t(P,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:e.searchValue,"onUpdate:modelValue":l[1]||(l[1]=o=>e.searchValue=o)},null,8,["modelValue"])])]),t(u,{"show-index":"",headers:e.headers,items:e.items,"search-value":e.searchValue},{"empty-message":s(()=>[Ce]),loading:s(()=>[we]),"item-isActive":s(o=>[parseInt(o.isActive)==1?(b(),w(U,{key:0,color:"success"},{default:s(()=>[r("Active")]),_:1})):(b(),w(U,{key:1,color:"error"},{default:s(()=>[r("Non-Active")]),_:1}))]),"item-operation":s(o=>[i("div",Be,[i("div",Ne,[t(ge,{location:"top",text:"Detail Riwayat User"},{activator:s(({props:c})=>[i("button",B(c,{onClick:y=>e.openModal(1,o)}),[t(ie,{size:"20",icon:"bx-bx-detail",color:"info"})],16,$e)]),_:2},1024)])])]),_:1},8,["headers","items","search-value"])]),_:1})]),t(fe,{modelValue:e.isDetail,"onUpdate:modelValue":l[4]||(l[4]=o=>e.isDetail=o),transition:"dialog-bottom-transition",fullscreen:""},{activator:s(({props:o})=>[t(N,B({"prepend-icon":"mdi-cog",size:"small",text:"Settings"},o),null,16)]),default:s(()=>[t($,null,{default:s(()=>[t(xe,null,{default:s(()=>[t(N,{icon:"mdi-close",onClick:l[2]||(l[2]=o=>(e.isDetail=!1,e.itemSearchDetails="",e.itemDetails=[]))}),t(K,null,{default:s(()=>[r("Riwayat User")]),_:1}),t(be)]),_:1}),i("div",Pe,[i("div",Ue,[t(P,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:e.itemSearchDetails,"onUpdate:modelValue":l[3]||(l[3]=o=>e.itemSearchDetails=o)},null,8,["modelValue"])])]),t(u,{"show-index":"",headers:e.headerDetails,items:e.itemDetails,"search-value":e.itemSearchDetails},{"empty-message":s(()=>[Ie]),loading:s(()=>[Ee]),"item-created_at":s(o=>[r(ne(e.formatDate(o.created_at)),1)]),_:1},8,["headers","items","search-value"])]),_:1})]),_:1},8,["modelValue"])],64)}const We=re(Ve,[["render",Re]]);export{We as default};
