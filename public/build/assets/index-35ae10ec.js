import{m as C}from"./VGrid-c3caf1c2.js";import{m as j,N as P,a4 as U,a5 as I,S as E,Z as R,a,a6 as F,a7 as L,a8 as M,a9 as z,aa as O,ab as G,ac as Z,ad as q,ae as J,af as Q,ag as W,U as X,k as S,ah as Y,$ as v,ai as m,r as ee,o as b,c as ae,w as s,b as i,G as te,E as le,e as r,h as w,M as se,i as oe,V as ie,t as ne}from"./main-ca0baa6f.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import{V as de}from"./VOverlay-b78c102b.js";import{V as B,c as ue,a as me,d as ce}from"./VCol-5c0fa7cb.js";import{V as fe}from"./VDialog-5ac7af71.js";import{V as N}from"./VTextField-36df7c49.js";import{V as $}from"./VChip-8dd2411d.js";import{V as ge}from"./VTooltip-8caa5378.js";import{V as he}from"./index-15c49784.js";import{V as ve}from"./VImg-faa27579.js";import{V as be}from"./VSpacer-1a2bb86e.js";import"./dialog-transition-67e99814.js";import"./VInput-401a23ac.js";const Ve=j({data(){return{overlay:!1,items:[],headers:[{text:"Nama",value:"name",sortable:!0},{text:"NIK",value:"nik",sortable:!0},{text:"E-mail",value:"email",sortable:!0},{text:"Status",value:"isActive",sortable:!0},{text:"Operation",value:"operation"}],searchValue:"",isDetail:!1,itemDetails:[],itemSearchDetails:"",headerDetails:[{text:"activity",value:"activity",sortable:!0},{text:"tanggal",value:"created_at",sortable:!0}]}},methods:{formatDate(e){return new Date(e).toLocaleString("id-ID")},async getAllUsers(){try{const e=await C.get("/user");e.status===200?this.items=e.data.data:this.$showToast("error","Sorry",e.data.data.message)}catch(e){this.$showToast("error","Sorry",e.response.data.message)}},openModal(e,l=null){e===1&&this.getDetailHistories(l.id)},async getDetailHistories(e){try{const l=await C.get(`/history/${e}`);l.status===200?(this.itemDetails=l.data.data,this.isDetail=!0):this.$showToast("error","Sorry",l.data.data.message)}catch(l){console.log(l)}}},mounted(){this.getAllUsers()}});const ye=P({text:String,...U(),...I()},"VToolbarTitle"),A=E()({name:"VToolbarTitle",props:ye(),setup(e,l){let{slots:t}=l;return R(()=>{const d=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var n;return[d&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(n=t.default)==null?void 0:n.call(t)])]}})}),{}}}),pe=[null,"prominent","default","comfortable","compact"],_e=P({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>pe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...F(),...U(),...L(),...M(),...I({tag:"header"}),...z()},"VToolbar"),De=E()({name:"VToolbar",props:_e(),setup(e,l){var p;let{slots:t}=l;const{backgroundColorClasses:d,backgroundColorStyles:n}=O(G(e,"color")),{borderClasses:V}=Z(e),{elevationClasses:u}=q(e),{roundedClasses:o}=J(e),{themeClasses:c}=Q(e),{rtlClasses:y}=W(),f=X(!!(e.extended||(p=t.extension)!=null&&p.call(t))),g=S(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=S(()=>f.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Y({VBtn:{variant:"text"}}),R(()=>{var D;const H=!!(e.title||t.title),K=!!(t.image||e.image),_=(D=t.extension)==null?void 0:D.call(t);return f.value=!!(e.extended||_),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},d.value,V.value,u.value,o.value,c.value,y.value,e.class],style:[n.value,e.style]},{default:()=>[K&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(v,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(ve,{key:"image-img",cover:!0,src:e.image},null)]),a(v,{defaults:{VTabs:{height:m(g.value)}}},{default:()=>{var x,T,k;return[a("div",{class:"v-toolbar__content",style:{height:m(g.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(x=t.prepend)==null?void 0:x.call(t)]),H&&a(A,{key:"title",text:e.title},{text:t.title}),(T=t.default)==null?void 0:T.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(k=t.append)==null?void 0:k.call(t)])])]}}),a(v,{defaults:{VTabs:{height:m(h.value)}}},{default:()=>[a(he,null,{default:()=>[f.value&&a("div",{class:"v-toolbar__extension",style:{height:m(h.value)}},[_])]})]})]})}),{contentHeight:g,extensionHeight:h}}}),xe=i("br",null,null,-1),Te=i("span",{class:"font-weight-bold text-lg"},"Loading....",-1),ke={class:"d-flex justify-end mb-6"},Ce={class:"d-flex align-center pe-2 w-25"},Se=i("p",null,"Data Kantor Kosong",-1),we=i("p",null,"loading data .....",-1),Be={class:"operation-wrapper"},Ne={class:"d-flex justify-space-between"},$e=["onClick"],Pe={class:"d-flex justify-end mb-6"},Ue={class:"d-flex align-center pe-2 w-25"},Ie=i("p",null,"Data Kantor Kosong",-1),Ee=i("p",null,"loading data .....",-1);function Re(e,l,t,d,n,V){const u=ee("EasyDataTable");return b(),ae(te,null,[a(de,{absolute:!0,modelValue:e.overlay,"onUpdate:modelValue":l[0]||(l[0]=o=>e.overlay=o),contained:"",persistent:"",class:"align-center justify-center"},{default:s(()=>[a(ue,null,{default:s(()=>[a(le,{color:"primary",size:"32",indeterminate:""}),xe,Te]),_:1})]),_:1},8,["modelValue"]),i("div",null,[a(B,{class:"auth-card pa-4 pt-5"},{default:s(()=>[a(me,{class:"align-left"},{default:s(()=>[a(ce,{class:"text-2xl font-weight-bold"},{default:s(()=>[r(" Pilih User ")]),_:1})]),_:1}),i("div",ke,[i("div",Ce,[a(N,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:e.searchValue,"onUpdate:modelValue":l[1]||(l[1]=o=>e.searchValue=o)},null,8,["modelValue"])])]),a(u,{"show-index":"",headers:e.headers,items:e.items,"search-value":e.searchValue},{"empty-message":s(()=>[Se]),loading:s(()=>[we]),"item-isActive":s(o=>[parseInt(o.isActive)==1?(b(),w($,{key:0,color:"success"},{default:s(()=>[r("Active")]),_:1})):(b(),w($,{key:1,color:"error"},{default:s(()=>[r("Non-Active")]),_:1}))]),"item-operation":s(o=>[i("div",Be,[i("div",Ne,[a(ge,{location:"top",text:"Detail Riwayat User"},{activator:s(({props:c})=>[i("button",se(c,{onClick:y=>e.openModal(1,o)}),[a(oe,{size:"20",icon:"bx-bx-detail",color:"info"})],16,$e)]),_:2},1024)])])]),_:1},8,["headers","items","search-value"])]),_:1})]),a(fe,{modelValue:e.isDetail,"onUpdate:modelValue":l[4]||(l[4]=o=>e.isDetail=o),transition:"dialog-bottom-transition",fullscreen:""},{default:s(()=>[a(B,null,{default:s(()=>[a(De,null,{default:s(()=>[a(ie,{icon:"mdi-close",onClick:l[2]||(l[2]=o=>(e.isDetail=!1,e.itemSearchDetails="",e.itemDetails=[]))}),a(A,null,{default:s(()=>[r("Riwayat User")]),_:1}),a(be)]),_:1}),i("div",Pe,[i("div",Ue,[a(N,{"prepend-inner-icon":"mdi-magnify",density:"compact",label:"Search","single-line":"",flat:"","hide-details":"",variant:"solo-filled",modelValue:e.itemSearchDetails,"onUpdate:modelValue":l[3]||(l[3]=o=>e.itemSearchDetails=o)},null,8,["modelValue"])])]),a(u,{"show-index":"",headers:e.headerDetails,items:e.itemDetails,"search-value":e.itemSearchDetails},{"empty-message":s(()=>[Ie]),loading:s(()=>[Ee]),"item-created_at":s(o=>[r(ne(e.formatDate(o.created_at)),1)]),_:1},8,["headers","items","search-value"])]),_:1})]),_:1},8,["modelValue"])],64)}const We=re(Ve,[["render",Re]]);export{We as default};
